(function (a, c) { function b(e, m) { e = e || ""; m = m || 60; var i = ["#1abc9c", "#2ecc71", "#3498db", "#9b59b6", "#34495e", "#16a085", "#27ae60", "#2980b9", "#8e44ad", "#2c3e50", "#f1c40f", "#e67e22", "#e74c3c", "#ecf0f1", "#95a5a6", "#f39c12", "#d35400", "#c0392b", "#bdc3c7", "#7f8c8d"], l = String(e).toUpperCase().split(" "), g, d, k, h, f, j; if (l.length == 1) { g = l[0] ? l[0].charAt(0) : "?" } else { g = l[0].charAt(0) + l[1].charAt(0) } if (a.devicePixelRatio) { m = (m * a.devicePixelRatio) } d = (g == "?" ? 72 : g.charCodeAt(0)) - 64; k = d % 20; h = c.createElement("canvas"); h.width = m; h.height = m; f = h.getContext("2d"); f.fillStyle = i[k - 1]; f.fillRect(0, 0, h.width, h.height); f.font = Math.round(h.width / 2) + "px Arial"; f.textAlign = "center"; f.fillStyle = "#FFF"; f.fillText(g, m / 2, m / 1.5); j = h.toDataURL(); h = null; return j } b.transform = function () { Array.prototype.forEach.call(c.querySelectorAll("img[avatar]"), function (d, e) { e = d.getAttribute("avatar"); d.src = b(e, d.getAttribute("width")); d.removeAttribute("avatar"); d.setAttribute("alt", e) }) }; if (typeof define === "function" && define.amd) { define(function () { return b }) } else { if (typeof exports !== "undefined") { if (typeof module != "undefined" && module.exports) { exports = module.exports = b } exports.LetterAvatar = b } else { window.LetterAvatar = b; c.addEventListener("DOMContentLoaded", function (d) { b.transform() }) } } })(window, document);