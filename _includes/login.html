<div class="fade" id="login" tabindex="-1" aria-labelledby="Login">
  <div class="dialog">
    <div class="content">
      <form id="loginForm" method="POST">
        <div class="body">
          <div class="form-group">
            <label for="recipient-name" class="control-label">Email:</label>
            <input type="text"  id="loginEmail">
          </div>
          <div class="form-group">
            <label for="message-text" class="control-label">Password:</label>
            <input type="password"  id="loginPassword">
          </div>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn--primary" id="doLogin">Login</button>
        </div>
      </form>
    </div>
    <div id="step-1" class="step">
      <h2>Netlify OAuth</h2>
        <form id="client-id-form">
          <input id="7fa5c508a3f0e10c0c5f99ecc44a708234312702ae4e54c65b34842dc59d5eaf" type="text"/>
          <button class="btn btn--primary">Submit</button>
        </form>
      </p>
    </div>

    <div id="step-2" class="step">
      <h2>Authorize with Netlify</h2>

      <p>
        <a id="auth-url" href="#">Click here to authorize with netlify</a>
      </p>
    </div>

    <div id="step-3" class="step">
      <h2>User Site OAuth</h2>

      <p id="output">Loading sites for this user...</p>
    </div>
    <div class="fade" id="forgotPassword" tabindex="-1" aria-label="Forgot Password">
      <div class="dialog">
        <div class="content">
          <form id="forgotPasswordForm" method="POST">
            <div class="header">
              <h4 class="title auth-false" id="forgotPasswordModalLabel">Forgot Password</h4>
            </div>
            <div class="body">
              <div class="form-group">
                <label for="recipient-name" class="control-label">Email:</label>
                <input type="text" name="email">
              </div>
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn--primary">Send Reset Link</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $(function() {
    $("#login").on("click", function(e) {
      e.preventDefault();
      var authenticator = new netlify.default ({});
      authenticator.authenticate({provider:"github", scope: "user"}, function(err, data) {
        if (err) {
          return $("#output").text("Error Authenticating with GitHub: " + err);
        }
        $("#output").text("Authenticated with GitHub. Access Token: " + data.token);
      });
    });
  });
</script>

