!function(e){window.webpackChunk=function(t,r){for(var o in r)e[o]=r[o];for(;t.length;)n[t.pop()]=1};var t={},n={0:1};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var t=[];return t.push(Promise.resolve().then(function(){n[e]||importScripts(e+".hash.worker.js")})),Promise.all(t)},r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=4)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return o}),n.d(t,"__assign",function(){return i}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return c}),n.d(t,"__metadata",function(){return u}),n.d(t,"__awaiter",function(){return f}),n.d(t,"__generator",function(){return l}),n.d(t,"__exportStar",function(){return h}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return _}),n.d(t,"__await",function(){return y}),n.d(t,"__asyncGenerator",function(){return b}),n.d(t,"__asyncDelegator",function(){return v}),n.d(t,"__asyncValues",function(){return g}),n.d(t,"__makeTemplateObject",function(){return m}),n.d(t,"__importStar",function(){return E}),n.d(t,"__importDefault",function(){return w});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function l(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{!function(e){e.value instanceof y?Promise.resolve(e.value.v).then(c,u):f(i[0][2],e)}(o[e](t))}catch(e){f(i[0][3],e)}}function c(e){s("next",e)}function u(e){s("throw",e)}function f(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){e[r]&&(t[r]=function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t})}}function g(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):p(e)}function m(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],a=o+1<e.length,s=a?e[o+1]:0,c=o+2<e.length,u=c?e[o+2]:0,f=i>>2,l=(3&i)<<4|s>>4,h=(15&s)<<2|u>>6,p=63&u;c||(p=64,a||(h=64)),r.push(n[f],n[l],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{i=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0,s=++o<e.length?n[e.charAt(o)]:64,c=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==c)throw Error();var u=i<<2|a>>4;if(r.push(u),64!=s){var f=a<<4&240|s>>2;if(r.push(f),64!=c){var l=s<<6&192|c;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return c.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=f(e[n],t[n]));return e}var l=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),h=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},p="FirebaseError",d=Error.captureStackTrace;var _=function(){return function(e,t){if(this.code=e,this.message=t,d)d(this,y.prototype.create);else try{throw Error.apply(this,arguments)}catch(e){this.name=p,Object.defineProperty(this,"stack",{get:function(){return e.stack}})}}}();_.prototype=Object.create(Error.prototype),_.prototype.constructor=_,_.prototype.name=p;var y=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],o=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+o+").";var i=new _(o,n);for(var a in t)t.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(i[a]=t[a]);return i},e}();function b(e){return JSON.parse(e)}var v=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=b(u(i[0])||""),n=b(u(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:o}},g=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},m=function(e,t){return g(t,function(t,n){e[t]=n}),e},E=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},w=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return r.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],f=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=f^c&(u^f),a=1518500249):(i=c^u^f,a=1859775393):r<60?(i=c&u|f&(c|u),a=2400959708):(i=c^u^f,a=3395469782);o=(s<<5|s>>>27)+i+l+a+n[r]&4294967295;l=f,f=u,u=4294967295&(c<<30|c>>>2),c=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0==i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i==this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i==this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},t}(function(){return function(){this.blockSize=-1}}());var S=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"==typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}}),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function T(){}function O(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=e+" failed: ";return o+=r+" argument "}t.assert=i,t.assertionError=a,t.base64=c,t.base64Decode=u,t.base64Encode=function(e){var t=s(e);return c.encodeByteArray(t,!0)},t.CONSTANTS=o,t.deepCopy=function(e){return f(void 0,e)},t.deepExtend=f,t.patchProperty=function(e,t,n){e[t]=n},t.Deferred=l,t.getUA=h,t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},t.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.ErrorFactory=y,t.FirebaseError=_,t.patchCapture=function(e){var t=d;return d=e,t},t.jsonEval=b,t.stringify=function(e){return JSON.stringify(e)},t.decode=v,t.isAdmin=function(e){var t=v(e).claims;return"object"==typeof t&&!0===t.admin},t.issuedAtTime=function(e){var t=v(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.isValidFormat=function(e){var t=v(e),n=t.claims;return!!t.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t,n,r=v(e).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?t=r.nbf:r.hasOwnProperty("iat")&&(t=r.iat),n=r.hasOwnProperty("exp")?r.exp:t+86400),o&&t&&n&&o>=t&&o<=n},t.clone=function(e){return m({},e)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},t.extend=m,t.findKey=E,t.findValue=function(e,t,n){var r=E(e,t,n);return r&&e[r]},t.forEach=g,t.getAnyKey=function(e){for(var t in e)return t},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isNonNullObject=function(e){return"object"==typeof e&&null!==e},t.map=function(e,t,n){var r={};for(var o in e)r[o]=t.call(n,e[o],o,e);return r},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.querystring=function(e){var t=[];return g(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},t.Sha1=w,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},t.createSubscribe=function(e,t){var n=new S(e,t);return n.subscribe.bind(n)},t.errorPrefix=O,t.validateArgCount=function(e,t,n,r){var o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(O(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(O(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(O(e,t,r)+"must be a valid firebase namespace.")},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;i(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i="[DEFAULT]",a=[],s=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){a.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){a=a.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_(),this._automaticDataCollectionEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=i),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==i?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;r.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(a.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),a=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&c("app-deleted",{name:this.name_})},e}();function c(e,t){throw u.create(e,t)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var u=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),f=function e(){var t={},n={},a={},u={__esModule:!0,initializeApp:function(e,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var r=n;n={name:r}}var a=n;void 0===a.name&&(a.name=i);var f=a.name;"string"==typeof f&&f||c("bad-app-name",{name:f+""}),o(t,f)&&c("duplicate-app",{name:f});var l=new s(e,a,u);return t[f]=l,h(l,"create"),l},app:f,apps:null,Promise:Promise,SDK_VERSION:"5.0.4",INTERNAL:{registerService:function(e,t,o,i,h){n[e]&&c("duplicate-service",{name:e}),n[e]=t,i&&(a[e]=i,l().forEach(function(e){i("create",e)}));var p=function(t){return void 0===t&&(t=f()),"function"!=typeof t[e]&&c("invalid-app-argument",{name:e}),t[e]()};return void 0!==o&&r.deepExtend(p,o),u[e]=p,s.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,h?t:[])},p},createFirebaseNamespace:e,extendNamespace:function(e){r.deepExtend(u,e)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(e){h(t[e],"delete"),delete t[e]},factories:n,useAsService:p,Promise:Promise,deepExtend:r.deepExtend}};function f(e){return o(t,e=e||i)||c("no-app",{name:e}),t[e]}function l(){return Object.keys(t).map(function(e){return t[e]})}function h(e,t){Object.keys(n).forEach(function(n){var r=p(e,n);null!==r&&a[r]&&a[r](t,e)})}function p(e,t){if("serverAuth"===t)return null;var n=t;return e.options,n}return r.patchProperty(u,"default",u),Object.defineProperty(u,"apps",{get:l}),r.patchProperty(f,"App",s),u}();t.firebase=f,t.default=f},function(e,t,n){"use strict";!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(5));n(11);onmessage=function(e){e.data;n.e(1).then(function(){var t=[n(12)("./"+e.data)];(function(e){postMessage(e())}).apply(null,t)}).catch(n.oe)}},function(e,t,n){"use strict";n(6);var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(3));e.exports=r},function(e,t,n){"use strict";n.r(t),function(e,t){n(10);var r=setTimeout;function o(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}s(t.promise,r)}else(1===e._state?s:c)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void f(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},i.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},i.all=function(e){return new i(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(e,t)},n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){r(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();function h(e,t){return e(t={exports:{}},t.exports),t.exports}l.Promise||(l.Promise=i);var p=h(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),d=h(function(e){var t=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=t)}),_=(d.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),y=function(e){if(!_(e))throw TypeError(e+" is not an object!");return e},b=function(e){try{return!!e()}catch(e){return!0}},v=!b(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),g=p.document,m=_(g)&&_(g.createElement),E=function(e){return m?g.createElement(e):{}},w=!v&&!b(function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a}),S=function(e,t){if(!_(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!_(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!_(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!_(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},T=Object.defineProperty,O={f:v?Object.defineProperty:function(e,t,n){if(y(e),t=S(t,!0),y(n),w)try{return T(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},A=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},I=v?function(e,t,n){return O.f(e,t,A(1,n))}:function(e,t,n){return e[t]=n,e},D={}.hasOwnProperty,N=function(e,t){return D.call(e,t)},P=0,k=Math.random(),j=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++P+k).toString(36))},C=h(function(e){var t=j("src"),n=Function.toString,r=(""+n).split("toString");d.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,o,i){var a="function"==typeof o;a&&(N(o,"name")||I(o,"name",n)),e[n]!==o&&(a&&(N(o,t)||I(o,t,e[n]?""+e[n]:r.join(String(n)))),e===p?e[n]=o:i?e[n]?e[n]=o:I(e,n,o):(delete e[n],I(e,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||n.call(this)})}),B=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},R=function(e,t,n){var r,o,i,a,s=e&R.F,c=e&R.G,u=e&R.S,f=e&R.P,l=e&R.B,h=c?p:u?p[t]||(p[t]={}):(p[t]||{}).prototype,_=c?d:d[t]||(d[t]={}),y=_.prototype||(_.prototype={});for(r in c&&(n=t),n)i=((o=!s&&h&&void 0!==h[r])?h:n)[r],a=l&&o?B(i,p):f&&"function"==typeof i?B(Function.call,i):i,h&&C(h,r,i,e&R.U),_[r]!=i&&I(_,r,a),f&&y[r]!=i&&(y[r]=i)};p.core=d,R.F=1,R.G=2,R.S=4,R.P=8,R.B=16,R.W=32,R.U=64,R.R=128;var L=R,F={}.toString,U=function(e){return F.call(e).slice(8,-1)},M=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==U(e)?e.split(""):Object(e)},x=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},K=function(e){return Object(x(e))},W=Math.ceil,V=Math.floor,G=function(e){return isNaN(e=+e)?0:(e>0?V:W)(e)},H=Math.min,z=function(e){return e>0?H(G(e),9007199254740991):0},Y=Array.isArray||function(e){return"Array"==U(e)},q=p["__core-js_shared__"]||(p["__core-js_shared__"]={}),$=function(e){return q[e]||(q[e]={})},X=h(function(e){var t=$("wks"),n=p.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:j)("Symbol."+e))}).store=t}),J=X("species"),Q=function(e,t){return new(function(e){var t;return Y(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!Y(t.prototype)||(t=void 0),_(t)&&null===(t=t[J])&&(t=void 0)),void 0===t?Array:t}(e))(t)},Z=function(e,t){var n=1==e,r=2==e,o=3==e,i=4==e,a=6==e,s=5==e||a,c=t||Q;return function(t,u,f){for(var l,h,p=K(t),d=M(p),_=B(u,f,3),y=z(d.length),b=0,v=n?c(t,y):r?c(t,0):void 0;y>b;b++)if((s||b in d)&&(h=_(l=d[b],b,p),e))if(n)v[b]=h;else if(h)switch(e){case 3:return!0;case 5:return l;case 6:return b;case 2:v.push(l)}else if(i)return!1;return a?-1:o||i?i:v}},ee=X("unscopables"),te=Array.prototype;void 0==te[ee]&&I(te,ee,{});var ne=function(e){te[ee][e]=!0},re=Z(5),oe=!0;"find"in[]&&Array(1).find(function(){oe=!1}),L(L.P+L.F*oe,"Array",{find:function(e){return re(this,e,arguments.length>1?arguments[1]:void 0)}}),ne("find");d.Array.find;var ie=Z(6),ae=!0;"findIndex"in[]&&Array(1).findIndex(function(){ae=!1}),L(L.P+L.F*ae,"Array",{findIndex:function(e){return ie(this,e,arguments.length>1?arguments[1]:void 0)}}),ne("findIndex");d.Array.findIndex;var se=function(e){return M(x(e))},ce=Math.max,ue=Math.min,fe=$("keys"),le=function(e){return fe[e]||(fe[e]=j(e))},he=function(e){return function(t,n,r){var o,i=se(t),a=z(i.length),s=function(e,t){return(e=G(e))<0?ce(e+t,0):ue(e,t)}(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}}(!1),pe=le("IE_PROTO"),de=function(e,t){var n,r=se(e),o=0,i=[];for(n in r)n!=pe&&N(r,n)&&i.push(n);for(;t.length>o;)N(r,n=t[o++])&&(~he(i,n)||i.push(n));return i},_e="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ye=Object.keys||function(e){return de(e,_e)},be={f:Object.getOwnPropertySymbols},ve={f:{}.propertyIsEnumerable},ge=Object.assign,me=!ge||b(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=ge({},e)[n]||Object.keys(ge({},t)).join("")!=r})?function(e,t){for(var n=K(e),r=arguments.length,o=1,i=be.f,a=ve.f;r>o;)for(var s,c=M(arguments[o++]),u=i?ye(c).concat(i(c)):ye(c),f=u.length,l=0;f>l;)a.call(c,s=u[l++])&&(n[s]=c[s]);return n}:ge;L(L.S+L.F,"Object",{assign:me});d.Object.assign;var Ee=X("match"),we=function(e,t,n){if(function(e){var t;return _(e)&&(void 0!==(t=e[Ee])?!!t:"RegExp"==U(e))}(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(x(e))},Se=X("match"),Te="".startsWith;L(L.P+L.F*function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Se]=!1,!"/./"[e](t)}catch(e){}}return!0}("startsWith"),"String",{startsWith:function(e){var t=we(this,e,"startsWith"),n=z(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return Te?Te.call(t,r,n):t.slice(n,n+r.length)===r}});d.String.startsWith;L(L.P,"String",{repeat:function(e){var t=String(x(this)),n="",r=G(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}});d.String.repeat;var Oe=h(function(e){var t=j("meta"),n=O.f,r=0,o=Object.isExtensible||function(){return!0},i=!b(function(){return o(Object.preventExtensions({}))}),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},s=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!_(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!N(e,t)){if(!o(e))return"F";if(!n)return"E";a(e)}return e[t].i},getWeak:function(e,n){if(!N(e,t)){if(!o(e))return!0;if(!n)return!1;a(e)}return e[t].w},onFreeze:function(e){return i&&s.NEED&&o(e)&&!N(e,t)&&a(e),e}}}),Ae=(Oe.KEY,Oe.NEED,Oe.fastKey,Oe.getWeak,Oe.onFreeze,O.f),Ie=X("toStringTag"),De=function(e,t,n){e&&!N(e=n?e:e.prototype,Ie)&&Ae(e,Ie,{configurable:!0,value:t})},Ne={f:X},Pe=O.f,ke=function(e){var t=d.Symbol||(d.Symbol=p.Symbol||{});"_"==e.charAt(0)||e in t||Pe(t,e,{value:Ne.f(e)})},je=v?Object.defineProperties:function(e,t){y(e);for(var n,r=ye(t),o=r.length,i=0;o>i;)O.f(e,n=r[i++],t[n]);return e},Ce=p.document,Be=Ce&&Ce.documentElement,Re=le("IE_PROTO"),Le=function(){},Fe=function(){var e,t=E("iframe"),n=_e.length;for(t.style.display="none",Be.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),Fe=e.F;n--;)delete Fe.prototype[_e[n]];return Fe()},Ue=Object.create||function(e,t){var n;return null!==e?(Le.prototype=y(e),n=new Le,Le.prototype=null,n[Re]=e):n=Fe(),void 0===t?n:je(n,t)},Me=_e.concat("length","prototype"),xe={f:Object.getOwnPropertyNames||function(e){return de(e,Me)}},Ke=xe.f,We={}.toString,Ve="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ge={f:function(e){return Ve&&"[object Window]"==We.call(e)?function(e){try{return Ke(e)}catch(e){return Ve.slice()}}(e):Ke(se(e))}},He=Object.getOwnPropertyDescriptor,ze={f:v?He:function(e,t){if(e=se(e),t=S(t,!0),w)try{return He(e,t)}catch(e){}if(N(e,t))return A(!ve.f.call(e,t),e[t])}},Ye=Oe.KEY,qe=ze.f,$e=O.f,Xe=Ge.f,Je=p.Symbol,Qe=p.JSON,Ze=Qe&&Qe.stringify,et=X("_hidden"),tt=X("toPrimitive"),nt={}.propertyIsEnumerable,rt=$("symbol-registry"),ot=$("symbols"),it=$("op-symbols"),at=Object.prototype,st="function"==typeof Je,ct=p.QObject,ut=!ct||!ct.prototype||!ct.prototype.findChild,ft=v&&b(function(){return 7!=Ue($e({},"a",{get:function(){return $e(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=qe(at,t);r&&delete at[t],$e(e,t,n),r&&e!==at&&$e(at,t,r)}:$e,lt=function(e){var t=ot[e]=Ue(Je.prototype);return t._k=e,t},ht=st&&"symbol"==typeof Je.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof Je},pt=function(e,t,n){return e===at&&pt(it,t,n),y(e),t=S(t,!0),y(n),N(ot,t)?(n.enumerable?(N(e,et)&&e[et][t]&&(e[et][t]=!1),n=Ue(n,{enumerable:A(0,!1)})):(N(e,et)||$e(e,et,A(1,{})),e[et][t]=!0),ft(e,t,n)):$e(e,t,n)},dt=function(e,t){y(e);for(var n,r=function(e){var t=ye(e),n=be.f;if(n)for(var r,o=n(e),i=ve.f,a=0;o.length>a;)i.call(e,r=o[a++])&&t.push(r);return t}(t=se(t)),o=0,i=r.length;i>o;)pt(e,n=r[o++],t[n]);return e},_t=function(e){var t=nt.call(this,e=S(e,!0));return!(this===at&&N(ot,e)&&!N(it,e))&&(!(t||!N(this,e)||!N(ot,e)||N(this,et)&&this[et][e])||t)},yt=function(e,t){if(e=se(e),t=S(t,!0),e!==at||!N(ot,t)||N(it,t)){var n=qe(e,t);return!n||!N(ot,t)||N(e,et)&&e[et][t]||(n.enumerable=!0),n}},bt=function(e){for(var t,n=Xe(se(e)),r=[],o=0;n.length>o;)N(ot,t=n[o++])||t==et||t==Ye||r.push(t);return r},vt=function(e){for(var t,n=e===at,r=Xe(n?it:se(e)),o=[],i=0;r.length>i;)!N(ot,t=r[i++])||n&&!N(at,t)||o.push(ot[t]);return o};st||(C((Je=function(){if(this instanceof Je)throw TypeError("Symbol is not a constructor!");var e=j(arguments.length>0?arguments[0]:void 0),t=function(n){this===at&&t.call(it,n),N(this,et)&&N(this[et],e)&&(this[et][e]=!1),ft(this,e,A(1,n))};return v&&ut&&ft(at,e,{configurable:!0,set:t}),lt(e)}).prototype,"toString",function(){return this._k}),ze.f=yt,O.f=pt,xe.f=Ge.f=bt,ve.f=_t,be.f=vt,v&&C(at,"propertyIsEnumerable",_t,!0),Ne.f=function(e){return lt(X(e))}),L(L.G+L.W+L.F*!st,{Symbol:Je});for(var gt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),mt=0;gt.length>mt;)X(gt[mt++]);for(var Et=ye(X.store),wt=0;Et.length>wt;)ke(Et[wt++]);L(L.S+L.F*!st,"Symbol",{for:function(e){return N(rt,e+="")?rt[e]:rt[e]=Je(e)},keyFor:function(e){if(!ht(e))throw TypeError(e+" is not a symbol!");for(var t in rt)if(rt[t]===e)return t},useSetter:function(){ut=!0},useSimple:function(){ut=!1}}),L(L.S+L.F*!st,"Object",{create:function(e,t){return void 0===t?Ue(e):dt(Ue(e),t)},defineProperty:pt,defineProperties:dt,getOwnPropertyDescriptor:yt,getOwnPropertyNames:bt,getOwnPropertySymbols:vt}),Qe&&L(L.S+L.F*(!st||b(function(){var e=Je();return"[null]"!=Ze([e])||"{}"!=Ze({a:e})||"{}"!=Ze(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(_(t)||void 0!==e)&&!ht(e))return Y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ht(t))return t}),r[1]=t,Ze.apply(Qe,r)}}),Je.prototype[tt]||I(Je.prototype,tt,Je.prototype.valueOf),De(Je,"Symbol"),De(Math,"Math",!0),De(p.JSON,"JSON",!0);var St=X("toStringTag"),Tt="Arguments"==U(function(){return arguments}()),Ot={};Ot[X("toStringTag")]="z",Ot+""!="[object z]"&&C(Object.prototype,"toString",function(){return"[object "+function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),St))?n:Tt?U(t):"Object"==(r=U(t))&&"function"==typeof t.callee?"Arguments":r}(this)+"]"},!0),ke("asyncIterator"),ke("observable");d.Symbol;var At={},It={};I(It,X("iterator"),function(){return this});var Dt=function(e,t,n){e.prototype=Ue(It,{next:A(1,n)}),De(e,t+" Iterator")},Nt=le("IE_PROTO"),Pt=Object.prototype,kt=Object.getPrototypeOf||function(e){return e=K(e),N(e,Nt)?e[Nt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Pt:null},jt=X("iterator"),Ct=!([].keys&&"next"in[].keys()),Bt=function(){return this},Rt=function(e,t,n,r,o,i,a){Dt(n,t,r);var s,c,u,f=function(e){if(!Ct&&e in d)return d[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},l=t+" Iterator",h="values"==o,p=!1,d=e.prototype,_=d[jt]||d["@@iterator"]||o&&d[o],y=_||f(o),b=o?h?f("entries"):y:void 0,v="Array"==t&&d.entries||_;if(v&&(u=kt(v.call(new e)))!==Object.prototype&&u.next&&(De(u,l,!0),"function"!=typeof u[jt]&&I(u,jt,Bt)),h&&_&&"values"!==_.name&&(p=!0,y=function(){return _.call(this)}),(Ct||p||!d[jt])&&I(d,jt,y),At[t]=y,At[l]=Bt,o)if(s={values:h?y:f("values"),keys:i?y:f("keys"),entries:b},a)for(c in s)c in d||C(d,c,s[c]);else L(L.P+L.F*(Ct||p),t,s);return s},Lt=function(e){return function(t,n){var r,o,i=String(x(t)),a=G(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===s||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):r:e?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}}(!0);Rt(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Lt(t,n),this._i+=e.length,{value:e,done:!1})});var Ft=function(e,t){return{value:t,done:!!e}},Ut=Rt(Array,"Array",function(e,t){this._t=se(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Ft(1)):Ft(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values");At.Arguments=At.Array,ne("keys"),ne("values"),ne("entries");for(var Mt=X("iterator"),xt=X("toStringTag"),Kt=At.Array,Wt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Vt=ye(Wt),Gt=0;Gt<Vt.length;Gt++){var Ht,zt=Vt[Gt],Yt=Wt[zt],qt=p[zt],$t=qt&&qt.prototype;if($t&&($t[Mt]||I($t,Mt,Kt),$t[xt]||I($t,xt,zt),At[zt]=Kt,Yt))for(Ht in Ut)$t[Ht]||C($t,Ht,Ut[Ht],!0)}Ne.f("iterator")}.call(this,n(7).setImmediate,n(2))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(8),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(f,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},c.clearImmediate=u}function u(e){delete i[e]}function f(e){if(a)setTimeout(f,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{u(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(9))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],f=!1,l=-1;function h(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!f){var e=s(h);f=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function _(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||f||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};f.prototype.append=function(e,t){e=s(e),t=c(t);var n=this.map[e];this.map[e]=n?n+","+t:t},f.prototype.delete=function(e){delete this.map[s(e)]},f.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},f.prototype.set=function(e,t){this.map[s(e)]=c(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),u(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),u(e)},t.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},_.call(y.prototype),_.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];v.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=f,e.Request=y,e.Response=v,e.fetch=function(e,n){return new Promise(function(r,o){var i=new y(e,n),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new v(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e,t){var n=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return i.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";n.r(t);var r,o,i,a=n(1),s=n(0),c=n(3),u=n.n(c),f={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},l=((r={})[f.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",r[f.AVAILABLE_IN_SW]="This method is available in a service worker context.",r[f.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",r[f.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",r[f.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",r[f.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",r[f.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",r[f.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",r[f.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",r[f.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",r[f.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",r[f.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",r[f.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",r[f.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",r[f.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",r[f.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",r[f.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",r[f.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",r[f.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",r[f.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r[f.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",r[f.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",r[f.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",r[f.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",r[f.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",r[f.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",r[f.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",r[f.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",r[f.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",r[f.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",r[f.BAD_SCOPE]="The service worker scope must be a string with at least one character.",r[f.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",r[f.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",r[f.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",r[f.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",r[f.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",r[f.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",r[f.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",r),h=new a.ErrorFactory("messaging","Messaging",l),p=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),d="https://fcm.googleapis.com";function _(e,t){if(null==e||null==t)return!1;if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),r=new DataView(t),o=0;o<e.byteLength;o++)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}function y(e){return function(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(null,t))}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(e){e.TYPE_OF_MSG="firebase-messaging-msg-type",e.DATA="firebase-messaging-msg-data"}(o||(o={})),function(e){e.PUSH_MSG_RECEIVED="push-msg-received",e.NOTIFICATION_CLICKED="notification-clicked"}(i||(i={}));var b=function(){function e(){}return e.prototype.getToken=function(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,function(){var r,o,i,a,c,u,l,b;return Object(s.__generator)(this,function(s){switch(s.label){case 0:r=y(t.getKey("p256dh")),o=y(t.getKey("auth")),i="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+r+"&encryption_auth="+o,_(n.buffer,p.buffer)||(a=y(n),i+="&application_pub_key="+a),(c=new Headers).append("Content-Type","application/x-www-form-urlencoded"),u={method:"POST",headers:c,body:i},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(d+"/fcm/connect/subscribe",u)];case 2:return[4,s.sent().json()];case 3:return l=s.sent(),[3,5];case 4:throw s.sent(),h.create(f.TOKEN_SUBSCRIBE_FAILED);case 5:if(l.error)throw b=l.error.message,h.create(f.TOKEN_SUBSCRIBE_FAILED,{message:b});if(!l.token)throw h.create(f.TOKEN_SUBSCRIBE_NO_TOKEN);if(!l.pushSet)throw h.create(f.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:l.token,pushSet:l.pushSet}]}})})},e.prototype.updateToken=function(e,t,n,r,o){return Object(s.__awaiter)(this,void 0,void 0,function(){var i,a,c,u,l,b,v,g;return Object(s.__generator)(this,function(s){switch(s.label){case 0:i=y(r.getKey("p256dh")),a=y(r.getKey("auth")),c="push_set="+n+"&token="+t+"&authorized_entity="+e+"&endpoint="+r.endpoint+"&encryption_key="+i+"&encryption_auth="+a,_(o.buffer,p.buffer)||(u=y(o),c+="&application_pub_key="+u),(l=new Headers).append("Content-Type","application/x-www-form-urlencoded"),b={method:"POST",headers:l,body:c},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(d+"/fcm/connect/subscribe",b)];case 2:return[4,s.sent().json()];case 3:return v=s.sent(),[3,5];case 4:throw s.sent(),h.create(f.TOKEN_UPDATE_FAILED);case 5:if(v.error)throw g=v.error.message,h.create(f.TOKEN_UPDATE_FAILED,{message:g});if(!v.token)throw h.create(f.TOKEN_UPDATE_NO_TOKEN);return[2,v.token]}})})},e.prototype.deleteToken=function(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,function(){var r,o,i,a,c;return Object(s.__generator)(this,function(s){switch(s.label){case 0:r="authorized_entity="+e+"&token="+t+"&pushSet="+n,(o=new Headers).append("Content-Type","application/x-www-form-urlencoded"),i={method:"POST",headers:o,body:r},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(d+"/fcm/connect/unsubscribe",i)];case 2:return[4,s.sent().json()];case 3:if((a=s.sent()).error)throw c=a.error.message,h.create(f.TOKEN_UNSUBSCRIBE_FAILED,{message:c});return[3,5];case 4:throw s.sent(),h.create(f.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},e}();function v(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}var g="undefined",m="fcm_token_object_Store";function E(){var e=indexedDB.open(g);e.onerror=function(e){},e.onsuccess=function(t){!function(e){if(e.objectStoreNames.contains(m)){var t=e.transaction(m).objectStore(m),n=new b,r=t.openCursor();r.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},r.onsuccess=function(){var t=r.result;if(t){var o=t.value;n.deleteToken(o.fcmSenderId,o.fcmToken,o.fcmPushSet),t.continue()}else e.close(),indexedDB.deleteDatabase(g)}}}(e.result)}}var w=function(){function e(){this.dbPromise=null}return e.prototype.get=function(e){return this.createTransaction(function(t){return t.get(e)})},e.prototype.getIndex=function(e,t){return this.createTransaction(function(n){return n.index(e).get(t)})},e.prototype.put=function(e){return this.createTransaction(function(t){return t.put(e)},"readwrite")},e.prototype.delete=function(e){return this.createTransaction(function(t){return t.delete(e)},"readwrite")},e.prototype.closeDatabase=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:e.sent().close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})},e.prototype.createTransaction=function(e,t){return void 0===t&&(t="readonly"),Object(s.__awaiter)(this,void 0,void 0,function(){var n,r,o,i;return Object(s.__generator)(this,function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return n=a.sent(),r=n.transaction(this.objectStoreName,t),o=r.objectStore(this.objectStoreName),[4,function(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}(e(o))];case 2:return i=a.sent(),[2,new Promise(function(e,t){r.oncomplete=function(){e(i)},r.onerror=function(){t(r.error)}})]}})})},e.prototype.getDb=function(){var e=this;return this.dbPromise||(this.dbPromise=new Promise(function(t,n){var r=indexedDB.open(e.dbName,e.dbVersion);r.onsuccess=function(){t(r.result)},r.onerror=function(){e.dbPromise=null,n(r.error)},r.onupgradeneeded=function(t){return e.onDbUpgrade(r,t)}})),this.dbPromise},e}();var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_token_details_db",t.dbVersion=3,t.objectStoreName="fcm_token_object_Store",t}return Object(s.__extends)(t,e),t.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:(r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:E();case 2:var r,o=(r=e.transaction.objectStore(this.objectStoreName)).openCursor();o.onsuccess=function(){var e=o.result;if(e){var t=e.value,n=Object(s.__assign)({},t);t.createTime||(n.createTime=Date.now()),"string"==typeof t.vapidKey&&(n.vapidKey=v(t.vapidKey)),"string"==typeof t.auth&&(n.auth=v(t.auth).buffer),"string"==typeof t.auth&&(n.p256dh=v(t.p256dh).buffer),e.update(n),e.continue()}}}},t.prototype.getTokenDetailsFromToken=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){if(!e)throw h.create(f.BAD_TOKEN);return T({fcmToken:e}),[2,this.getIndex("fcmToken",e)]})})},t.prototype.getTokenDetailsFromSWScope=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){if(!e)throw h.create(f.BAD_SCOPE);return T({swScope:e}),[2,this.get(e)]})})},t.prototype.saveTokenDetails=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){if(!e.swScope)throw h.create(f.BAD_SCOPE);if(!e.vapidKey)throw h.create(f.BAD_VAPID_KEY);if(!e.endpoint||!e.auth||!e.p256dh)throw h.create(f.BAD_SUBSCRIPTION);if(!e.fcmSenderId)throw h.create(f.BAD_SENDER_ID);if(!e.fcmToken)throw h.create(f.BAD_TOKEN);if(!e.fcmPushSet)throw h.create(f.BAD_PUSH_SET);return T(e),[2,this.put(e)]})})},t.prototype.deleteToken=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return"string"!=typeof e||0===e.length?[2,Promise.reject(h.create(f.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(e)];case 1:if(!(t=n.sent()))throw h.create(f.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(t.swScope)];case 2:return n.sent(),[2,t]}})})},t}(w);function T(e){if(e.fcmToken&&("string"!=typeof e.fcmToken||0===e.fcmToken.length))throw h.create(f.BAD_TOKEN);if(e.swScope&&("string"!=typeof e.swScope||0===e.swScope.length))throw h.create(f.BAD_SCOPE);if(e.vapidKey&&(!(e.vapidKey instanceof Uint8Array)||65!==e.vapidKey.length))throw h.create(f.BAD_VAPID_KEY);if(e.endpoint&&("string"!=typeof e.endpoint||0===e.endpoint.length))throw h.create(f.BAD_SUBSCRIPTION);if(e.auth&&!(e.auth instanceof ArrayBuffer))throw h.create(f.BAD_SUBSCRIPTION);if(e.p256dh&&!(e.p256dh instanceof ArrayBuffer))throw h.create(f.BAD_SUBSCRIPTION);if(e.fcmSenderId&&("string"!=typeof e.fcmSenderId||0===e.fcmSenderId.length))throw h.create(f.BAD_SENDER_ID);if(e.fcmPushSet&&("string"!=typeof e.fcmPushSet||0===e.fcmPushSet.length))throw h.create(f.BAD_PUSH_SET)}var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_vapid_details_db",t.dbVersion=1,t.objectStoreName="fcm_vapid_object_Store",t}return Object(s.__extends)(t,e),t.prototype.onDbUpgrade=function(e){e.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:if("string"!=typeof e||0===e.length)throw h.create(f.BAD_SCOPE);return[4,this.get(e)];case 1:return[2,(t=n.sent())?t.vapidKey:void 0]}})})},t.prototype.saveVapidDetails=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){var n;return Object(s.__generator)(this,function(r){if("string"!=typeof e||0===e.length)throw h.create(f.BAD_SCOPE);if(null===t||65!==t.length)throw h.create(f.BAD_VAPID_KEY);return n={swScope:e,vapidKey:t},[2,this.put(n)]})})},t.prototype.deleteVapidDetails=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(e)];case 1:if(!(t=n.sent()))throw h.create(f.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(e)];case 2:return n.sent(),[2,t]}})})},t}(w),A="messagingSenderId",I=function(){function e(e){var t=this;if(!e.options[A]||"string"!=typeof e.options[A])throw h.create(f.BAD_SENDER_ID);this.messagingSenderId=e.options[A],this.tokenDetailsModel=new S,this.vapidDetailsModel=new O,this.iidModel=new b,this.app=e,this.INTERNAL={delete:function(){return t.delete()}}}return e.prototype.getToken=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,o;return Object(s.__generator)(this,function(i){switch(i.label){case 0:if("denied"===(e=this.getNotificationPermission_()))throw h.create(f.NOTIFICATIONS_BLOCKED);return"granted"!==e?[2,null]:[4,this.getSWRegistration_()];case 1:return t=i.sent(),[4,this.getPublicVapidKey_()];case 2:return n=i.sent(),[4,this.getPushSubscription(t,n)];case 3:return r=i.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:return(o=i.sent())?[2,this.manageExistingToken(t,r,n,o)]:[2,this.getNewToken(t,r,n)]}})})},e.prototype.manageExistingToken=function(e,t,n,r){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(o){switch(o.label){case 0:return function(e,t,n){if(!n.vapidKey||!_(t.buffer,n.vapidKey.buffer))return!1;var r=e.endpoint===n.endpoint,o=_(e.getKey("auth"),n.auth),i=_(e.getKey("p256dh"),n.p256dh);return r&&o&&i}(t,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(e,t,n,r)]:[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return o.sent(),[2,this.getNewToken(e,t,n)]}})})},e.prototype.updateToken=function(e,t,n,r){return Object(s.__awaiter)(this,void 0,void 0,function(){var o,i,a;return Object(s.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,t,n)];case 1:return o=s.sent(),i={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:o,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return s.sent(),[2,o];case 4:return a=s.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}})})},e.prototype.getNewToken=function(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,function(){var r,o;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,t,n)];case 1:return r=i.sent(),o={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return i.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return i.sent(),[2,r.token]}})})},e.prototype.deleteToken=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(s.__generator)(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(e)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(t=r.sent())?[4,t.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},e.prototype.deleteTokenFromDB=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:return t=n.sent(),[4,this.iidModel.deleteToken(t.fcmSenderId,t.fcmToken,t.fcmPushSet)];case 2:return n.sent(),[2]}})})},e.prototype.getPushSubscription=function(e,t){return e.pushManager.getSubscription().then(function(n){return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})})},e.prototype.requestPermission=function(){throw h.create(f.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw h.create(f.AVAILABLE_IN_WINDOW)},e.prototype.usePublicVapidKey=function(e){throw h.create(f.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw h.create(f.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,n){throw h.create(f.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw h.create(f.AVAILABLE_IN_SW)},e.prototype.delete=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return e.sent(),[2]}})})},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getIidModel=function(){return this.iidModel},e}();var D=function(e){function t(t){var n=e.call(this,t)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(e){n.onPush(e)}),self.addEventListener("pushsubscriptionchange",function(e){n.onSubChange(e)}),self.addEventListener("notificationclick",function(e){n.onNotificationClick(e)}),n}return Object(s.__extends)(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))},t.prototype.onPush_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,r,o,i,a;return Object(s.__generator)(this,function(s){switch(s.label){case 0:if(!e.data)return[2];try{t=e.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:return s.sent()?[2,this.sendMessageToWindowClients_(t)]:(n=this.getNotificationData_(t))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return o=s.sent(),i=n.actions,a=Notification.maxActions,i&&a&&i.length>a&&console.warn("This browser only supports "+a+" actions.The remaining actions will not be displayed."),[2,o.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return s.sent(),[2];case 5:return[2]}})})},t.prototype.onSubChange_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,t,n,r;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return e=o.sent(),[3,3];case 2:throw t=o.sent(),h.create(f.UNABLE_TO_RESUBSCRIBE,{message:t});case 3:return o.trys.push([3,5,,8]),[4,e.pushManager.getSubscription()];case 4:return o.sent(),[3,8];case 5:return n=o.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(e.scope)];case 6:if(!(r=o.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw o.sent(),n;case 8:return[2]}})})},t.prototype.onNotificationClick_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,r,o;return Object(s.__generator)(this,function(a){switch(a.label){case 0:return e.notification&&e.notification.data&&e.notification.data.FCM_MSG?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(t=e.notification.data.FCM_MSG).notification&&(n=t.fcmOptions&&t.fcmOptions.link||t.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(r=a.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=a.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=a.sent(),a.label=5;case 5:return r?(delete t.notification,delete t.fcmOptions,o=P(i.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(r,o)]):[2]}})})},t.prototype.getNotificationData_=function(e){if(e&&"object"==typeof e.notification){var t,n=Object(s.__assign)({},e.notification);return n.data=Object(s.__assign)({},e.notification.data,((t={}).FCM_MSG=e,t)),n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw h.create(f.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=e},t.prototype.getWindowClient_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,r,o;return Object(s.__generator)(this,function(i){switch(i.label){case 0:return t=new URL(e,self.location.href).href,[4,N()];case 1:for(n=i.sent(),r=null,o=0;o<n.length;o++)if(new URL(n[o].url,self.location.href).href===t){r=n[o];break}return[2,r]}})})},t.prototype.attemptToMessageClient_=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(n){if(!e)throw h.create(f.NO_WINDOW_CLIENT_TO_MSG);return e.postMessage(t),[2]})})},t.prototype.hasVisibleClients_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){switch(e.label){case 0:return[4,N()];case 1:return[2,e.sent().some(function(e){return"visible"===e.visibilityState})]}})})},t.prototype.sendMessageToWindowClients_=function(e){return Object(s.__awaiter)(this,void 0,void 0,function(){var t,n,r=this;return Object(s.__generator)(this,function(o){switch(o.label){case 0:return[4,N()];case 1:return t=o.sent(),n=P(i.PUSH_MSG_RECEIVED,e),[4,Promise.all(t.map(function(e){return r.attemptToMessageClient_(e,n)}))];case 2:return o.sent(),[2]}})})},t.prototype.getSWRegistration_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){return[2,self.registration]})})},t.prototype.getPublicVapidKey_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(e=n.sent()))throw h.create(f.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(e.scope)];case 2:return null==(t=n.sent())?[2,p]:[2,t]}})})},t}(I);function N(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function P(e,t){return(n={})[o.TYPE_OF_MSG]=e,n[o.DATA]=t,n;var n}var k=function(e){function t(t){var n=e.call(this,t)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(a.createSubscribe)(function(e){n.messageObserver=e}),n.onTokenRefreshInternal=Object(a.createSubscribe)(function(e){n.tokenRefreshObserver=e}),n.setupSWMessageListener_(),n}return Object(s.__extends)(t,e),t.prototype.getToken=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(t){switch(t.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(s.__generator)(this,function(n){switch(n.label){case 0:if(!(e=document.querySelector('link[rel="manifest"]')))return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(e.href)];case 2:return[4,n.sent().json()];case 3:return t=n.sent(),[3,5];case 4:return n.sent(),[2];case 5:if(!t||!t.gcm_sender_id)return[2];if("103953800507"!==t.gcm_sender_id)throw h.create(f.INCORRECT_GCM_SENDER_ID);return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return t.sent(),[2,e.prototype.getToken.call(this)]}})})},t.prototype.requestPermission=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){var e;return Object(s.__generator)(this,function(t){switch(t.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?h.create(f.PERMISSION_BLOCKED):h.create(f.PERMISSION_DEFAULT)}})})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw h.create(f.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw h.create(f.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=e},t.prototype.usePublicVapidKey=function(e){if("string"!=typeof e)throw h.create(f.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw h.create(f.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var t=v(e);if(65!==t.length)throw h.create(f.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=t},t.prototype.onMessage=function(e,t,n){return"function"==typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=function(e,t,n){return"function"==typeof e?this.onTokenRefreshInternal(e,t,n):this.onTokenRefreshInternal(e)},t.prototype.waitForRegistrationToActivate_=function(e){var t=e.installing||e.waiting||e.active;return new Promise(function(n,r){if(t)if("activated"!==t.state)if("redundant"!==t.state){var o=function(){if("activated"===t.state)n(e);else{if("redundant"!==t.state)return;r(h.create(f.SW_REG_REDUNDANT))}t.removeEventListener("statechange",o)};t.addEventListener("statechange",o)}else r(h.create(f.SW_REG_REDUNDANT));else n(e);else r(h.create(f.NO_SW_IN_REG))})},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(e){throw h.create(f.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse=t,t.update(),t})}))},t.prototype.getPublicVapidKey_=function(){return Object(s.__awaiter)(this,void 0,void 0,function(){return Object(s.__generator)(this,function(e){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,p]})})},t.prototype.setupSWMessageListener_=function(){var e=this;navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[o.TYPE_OF_MSG]){var n=t.data;switch(n[o.TYPE_OF_MSG]){case i.PUSH_MSG_RECEIVED:case i.NOTIFICATION_CLICKED:var r=n[o.DATA];e.messageObserver&&e.messageObserver.next(r)}}},!1)},t}(I);function j(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}!function(e){var t={isSupported:j};e.INTERNAL.registerService("messaging",function(e){if(!j())throw h.create(f.UNSUPPORTED_BROWSER);return self&&"ServiceWorkerGlobalScope"in self?new D(e):new k(e)},t)}(u.a)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9kaXN0L2luZGV4LmNqcy5qcyIsIndlYnBhY2s6Ly8vLi93ZWJwYWNrL2NvbXBvbmVudHMvd29ya2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hcHAvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9wb2x5ZmlsbC9kaXN0L2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93aGF0d2ctZmV0Y2gvZmV0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9tZXNzYWdpbmcvZGlzdC9pbmRleC5lc20uanMiXSwibmFtZXMiOlsid2luZG93IiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsIm1vZHVsZUlkIiwibW9kdWxlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInBvcCIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJlIiwiY2h1bmtJZCIsInByb21pc2VzIiwicHVzaCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImltcG9ydFNjcmlwdHMiLCJhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJfX2V4dGVuZHMiLCJfX2Fzc2lnbiIsIl9fcmVzdCIsIl9fZGVjb3JhdGUiLCJfX3BhcmFtIiwiX19tZXRhZGF0YSIsIl9fYXdhaXRlciIsIl9fZ2VuZXJhdG9yIiwiX19leHBvcnRTdGFyIiwiX192YWx1ZXMiLCJfX3JlYWQiLCJfX3NwcmVhZCIsIl9fYXdhaXQiLCJfX2FzeW5jR2VuZXJhdG9yIiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsIl9faW1wb3J0U3RhciIsIl9faW1wb3J0RGVmYXVsdCIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiYiIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiYXNzaWduIiwiYXJndW1lbnRzIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsIm1ldGFkYXRhS2V5IiwibWV0YWRhdGFWYWx1ZSIsIm1ldGFkYXRhIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJhcHBseSIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJ0aHJvdyIsInJldHVybiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwiYXIiLCJlcnJvciIsImNvbmNhdCIsImFzeW5jSXRlcmF0b3IiLCJxIiwiYSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsImNvb2tlZCIsInJhdyIsIm1vZCIsImsiLCJkZWZhdWx0IiwidHNsaWJfMSIsIkNPTlNUQU5UUyIsIk5PREVfQ0xJRU5UIiwiTk9ERV9BRE1JTiIsIlNES19WRVJTSU9OIiwiYXNzZXJ0IiwiYXNzZXJ0aW9uIiwibWVzc2FnZSIsImFzc2VydGlvbkVycm9yIiwiRXJyb3IiLCJzdHJpbmdUb0J5dGVBcnJheSIsInN0ciIsIm91dCIsImNoYXJDb2RlQXQiLCJiYXNlNjQiLCJieXRlVG9DaGFyTWFwXyIsImNoYXJUb0J5dGVNYXBfIiwiYnl0ZVRvQ2hhck1hcFdlYlNhZmVfIiwiY2hhclRvQnl0ZU1hcFdlYlNhZmVfIiwiRU5DT0RFRF9WQUxTX0JBU0UiLCJFTkNPREVEX1ZBTFMiLCJFTkNPREVEX1ZBTFNfV0VCU0FGRSIsIkhBU19OQVRJVkVfU1VQUE9SVCIsImF0b2IiLCJlbmNvZGVCeXRlQXJyYXkiLCJpbnB1dCIsIm9wdF93ZWJTYWZlIiwiaXNBcnJheSIsImluaXRfIiwiYnl0ZVRvQ2hhck1hcCIsIm91dHB1dCIsImJ5dGUxIiwiaGF2ZUJ5dGUyIiwiYnl0ZTIiLCJoYXZlQnl0ZTMiLCJieXRlMyIsIm91dEJ5dGUxIiwib3V0Qnl0ZTIiLCJvdXRCeXRlMyIsIm91dEJ5dGU0Iiwiam9pbiIsImVuY29kZVN0cmluZyIsImJ0b2EiLCJkZWNvZGVTdHJpbmciLCJieXRlcyIsInBvcyIsImMxIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYzIiLCJ1IiwiYzMiLCJieXRlQXJyYXlUb1N0cmluZyIsImRlY29kZVN0cmluZ1RvQnl0ZUFycmF5IiwiY2hhclRvQnl0ZU1hcCIsImNoYXJBdCIsImJ5dGU0IiwiYmFzZTY0RGVjb2RlIiwiY29uc29sZSIsImRlZXBFeHRlbmQiLCJzb3VyY2UiLCJEYXRlIiwiZ2V0VGltZSIsInVuZGVmaW5lZCIsInByb3AiLCJEZWZlcnJlZCIsIl90aGlzIiwicHJvbWlzZSIsIndyYXBDYWxsYmFjayIsImNhbGxiYWNrIiwiY2F0Y2giLCJnZXRVQSIsIm5hdmlnYXRvciIsIkVSUk9SX05BTUUiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIkZpcmViYXNlRXJyb3IiLCJjb2RlIiwiRXJyb3JGYWN0b3J5IiwiZXJyIiwic3RhY2siLCJzZXJ2aWNlIiwic2VydmljZU5hbWUiLCJlcnJvcnMiLCJwYXR0ZXJuIiwiZGF0YSIsInRlbXBsYXRlIiwiZnVsbENvZGUiLCJyZXBsYWNlIiwibWF0Y2giLCJ0b1N0cmluZyIsInNsaWNlIiwianNvbkV2YWwiLCJKU09OIiwicGFyc2UiLCJkZWNvZGUiLCJ0b2tlbiIsImhlYWRlciIsImNsYWltcyIsInNpZ25hdHVyZSIsInBhcnRzIiwic3BsaXQiLCJmb3JFYWNoIiwib2JqIiwiZm4iLCJleHRlbmQiLCJvYmpUbyIsIm9iakZyb20iLCJmaW5kS2V5Iiwib3B0X3RoaXMiLCJTaGExIiwiX3N1cGVyIiwiY2hhaW5fIiwiYnVmXyIsIldfIiwicGFkXyIsImluYnVmXyIsInRvdGFsXyIsImJsb2NrU2l6ZSIsInJlc2V0IiwiY29tcHJlc3NfIiwiYnVmIiwib3B0X29mZnNldCIsIlciLCJ1cGRhdGUiLCJvcHRfbGVuZ3RoIiwibGVuZ3RoTWludXNCbG9jayIsImluYnVmIiwiZGlnZXN0IiwidG90YWxCaXRzIiwiaiIsIk9ic2VydmVyUHJveHkiLCJleGVjdXRvciIsIm9uTm9PYnNlcnZlcnMiLCJvYnNlcnZlcnMiLCJ1bnN1YnNjcmliZXMiLCJvYnNlcnZlckNvdW50IiwidGFzayIsImZpbmFsaXplZCIsImZvckVhY2hPYnNlcnZlciIsIm9ic2VydmVyIiwiY2xvc2UiLCJjb21wbGV0ZSIsInN1YnNjcmliZSIsIm5leHRPck9ic2VydmVyIiwibWV0aG9kcyIsIl9pIiwibWV0aG9kc18xIiwibWV0aG9kIiwiaW1wbGVtZW50c0FueU1ldGhvZHMiLCJub29wIiwidW5zdWIiLCJ1bnN1YnNjcmliZU9uZSIsImZpbmFsRXJyb3IiLCJzZW5kT25lIiwiZXJyb3JQcmVmaXgiLCJmbk5hbWUiLCJhcmd1bWVudE51bWJlciIsIm9wdGlvbmFsIiwiYXJnTmFtZSIsImJhc2U2NEVuY29kZSIsInV0ZjhCeXRlcyIsImRlZXBDb3B5IiwicGF0Y2hQcm9wZXJ0eSIsImlzTW9iaWxlQ29yZG92YSIsInRlc3QiLCJpc05vZGVTZGsiLCJpc1JlYWN0TmF0aXZlIiwicGF0Y2hDYXB0dXJlIiwiY2FwdHVyZUZha2UiLCJzdHJpbmdpZnkiLCJpc0FkbWluIiwiaXNzdWVkQXRUaW1lIiwiaXNWYWxpZEZvcm1hdCIsImRlY29kZWQiLCJpc1ZhbGlkVGltZXN0YW1wIiwidmFsaWRTaW5jZSIsInZhbGlkVW50aWwiLCJub3ciLCJNYXRoIiwiZmxvb3IiLCJjbG9uZSIsImNvbnRhaW5zIiwiZXZlcnkiLCJmaW5kVmFsdWUiLCJnZXRBbnlLZXkiLCJnZXRDb3VudCIsInJ2IiwiZ2V0VmFsdWVzIiwicmVzIiwiaXNFbXB0eSIsImlzTm9uTnVsbE9iamVjdCIsIm1hcCIsIm9wdF9vYmoiLCJzYWZlR2V0IiwicXVlcnlzdHJpbmciLCJxdWVyeXN0cmluZ1BhcmFtcyIsInBhcmFtcyIsImFycmF5VmFsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicXVlcnlzdHJpbmdEZWNvZGUiLCJhc3luYyIsIm9uRXJyb3IiLCJhcmdzIiwiY3JlYXRlU3Vic2NyaWJlIiwicHJveHkiLCJ2YWxpZGF0ZUFyZ0NvdW50IiwibWluQ291bnQiLCJtYXhDb3VudCIsImFyZ0NvdW50IiwiYXJnRXJyb3IiLCJ2YWxpZGF0ZUNhbGxiYWNrIiwidmFsaWRhdGVDb250ZXh0T2JqZWN0IiwiY29udGV4dCIsInZhbGlkYXRlTmFtZXNwYWNlIiwibmFtZXNwYWNlIiwic3RyaW5nTGVuZ3RoIiwiaGlnaCIsIkZ1bmN0aW9uIiwiZXZhbCIsInV0aWwiLCJERUZBVUxUX0VOVFJZX05BTUUiLCJ0b2tlbkxpc3RlbmVycyIsIkZpcmViYXNlQXBwSW1wbCIsIm9wdGlvbnMiLCJjb25maWciLCJmaXJlYmFzZV8iLCJpc0RlbGV0ZWRfIiwic2VydmljZXNfIiwibmFtZV8iLCJfYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwiYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwib3B0aW9uc18iLCJJTlRFUk5BTCIsImdldFVpZCIsImdldFRva2VuIiwiYWRkQXV0aFRva2VuTGlzdGVuZXIiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIiLCJmaWx0ZXIiLCJsaXN0ZW5lciIsImNoZWNrRGVzdHJveWVkXyIsInNldCIsInZhbCIsImNvbmZpZ3VyYWJsZSIsImRlbGV0ZSIsInJlbW92ZUFwcCIsInNlcnZpY2VzIiwia2V5cyIsInNlcnZpY2VLZXkiLCJpbnN0YW5jZUtleSIsIl9nZXRTZXJ2aWNlIiwiaW5zdGFuY2VJZGVudGlmaWVyIiwiaW5zdGFuY2VTcGVjaWZpZXIiLCJmYWN0b3JpZXMiLCJleHRlbmRBcHAiLCJwcm9wcyIsImFwcEVycm9ycyIsImxvZyIsIm5vLWFwcCIsImJhZC1hcHAtbmFtZSIsImR1cGxpY2F0ZS1hcHAiLCJhcHAtZGVsZXRlZCIsImR1cGxpY2F0ZS1zZXJ2aWNlIiwic2Etbm90LXN1cHBvcnRlZCIsImludmFsaWQtYXBwLWFyZ3VtZW50IiwiZmlyZWJhc2UiLCJjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZSIsImFwcHNfIiwiYXBwSG9va3MiLCJpbml0aWFsaXplQXBwIiwicmF3Q29uZmlnIiwibmFtZV8xIiwiYXBwIiwiY2FsbEFwcEhvb2tzIiwiYXBwcyIsInJlZ2lzdGVyU2VydmljZSIsImNyZWF0ZVNlcnZpY2UiLCJzZXJ2aWNlUHJvcGVydGllcyIsImFwcEhvb2siLCJhbGxvd011bHRpcGxlSW5zdGFuY2VzIiwiZ2V0QXBwcyIsInNlcnZpY2VOYW1lc3BhY2UiLCJhcHBBcmciLCJleHRlbmROYW1lc3BhY2UiLCJ1c2VBc1NlcnZpY2UiLCJldmVudE5hbWUiLCJmYWN0b3J5TmFtZSIsInVzZVNlcnZpY2UiLCJvbm1lc3NhZ2UiLCJldmVudCIsIl9fV0VCUEFDS19BTURfUkVRVUlSRV9BUlJBWV9fIiwidG1wbCIsInBvc3RNZXNzYWdlIiwib2UiLCJleCIsIl9pbnRlcm9wRGVmYXVsdCIsInNldEltbWVkaWF0ZSIsImdsb2JhbCIsInNldFRpbWVvdXRGdW5jIiwiX3N0YXRlIiwiX2hhbmRsZWQiLCJfdmFsdWUiLCJfZGVmZXJyZWRzIiwiZG9SZXNvbHZlIiwiaGFuZGxlIiwic2VsZiIsImRlZmVycmVkIiwiX2ltbWVkaWF0ZUZuIiwiY2IiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJyZXQiLCJuZXdWYWx1ZSIsImZpbmFsZSIsIl91bmhhbmRsZWRSZWplY3Rpb25GbiIsImxlbiIsInJlYXNvbiIsInByb20iLCJhcnIiLCJyZW1haW5pbmciLCJyYWNlIiwidmFsdWVzIiwid2FybiIsImdsb2JhbE5TIiwiY3JlYXRlQ29tbW9uanNNb2R1bGUiLCJfZ2xvYmFsIiwiX19nIiwiX2NvcmUiLCJjb3JlIiwidmVyc2lvbiIsIl9fZSIsIl9pc09iamVjdCIsIml0IiwiX2FuT2JqZWN0IiwiX2ZhaWxzIiwiZXhlYyIsIl9kZXNjcmlwdG9ycyIsImRvY3VtZW50IiwiaXMiLCJjcmVhdGVFbGVtZW50IiwiX2RvbUNyZWF0ZSIsIl9pZThEb21EZWZpbmUiLCJfdG9QcmltaXRpdmUiLCJTIiwidmFsdWVPZiIsImRQIiwiX29iamVjdERwIiwiTyIsIkF0dHJpYnV0ZXMiLCJfcHJvcGVydHlEZXNjIiwiYml0bWFwIiwid3JpdGFibGUiLCJfaGlkZSIsIl9oYXMiLCJpZCIsInB4IiwicmFuZG9tIiwiX3VpZCIsIl9yZWRlZmluZSIsIlNSQyIsIiR0b1N0cmluZyIsIlRQTCIsImluc3BlY3RTb3VyY2UiLCJzYWZlIiwiaXNGdW5jdGlvbiIsIl9jdHgiLCJ0aGF0IiwiX2FGdW5jdGlvbiIsIiRleHBvcnQiLCJ0eXBlIiwib3duIiwiZXhwIiwiSVNfRk9SQ0VEIiwiRiIsIklTX0dMT0JBTCIsIkciLCJJU19TVEFUSUMiLCJJU19QUk9UTyIsIklTX0JJTkQiLCJCIiwiZXhwUHJvdG8iLCJVIiwiUiIsIl9leHBvcnQiLCJfY29mIiwiX2lvYmplY3QiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9kZWZpbmVkIiwiX3RvT2JqZWN0IiwiY2VpbCIsIl90b0ludGVnZXIiLCJpc05hTiIsIm1pbiIsIl90b0xlbmd0aCIsIl9pc0FycmF5IiwiYXJnIiwic3RvcmUiLCJfc2hhcmVkIiwiX3drcyIsIlVTRV9TWU1CT0wiLCJTUEVDSUVTIiwiX2FycmF5U3BlY2llc0NyZWF0ZSIsIm9yaWdpbmFsIiwiQyIsIl9hcnJheU1ldGhvZHMiLCJUWVBFIiwiJGNyZWF0ZSIsIklTX01BUCIsIklTX0ZJTFRFUiIsIklTX1NPTUUiLCJJU19FVkVSWSIsIklTX0ZJTkRfSU5ERVgiLCJOT19IT0xFUyIsIiR0aGlzIiwiY2FsbGJhY2tmbiIsImluZGV4IiwiVU5TQ09QQUJMRVMiLCJBcnJheVByb3RvIiwiX2FkZFRvVW5zY29wYWJsZXMiLCIkZmluZCIsImZvcmNlZCIsImZpbmQiLCIkZmluZCQxIiwiZm9yY2VkJDEiLCJmaW5kSW5kZXgiLCJfdG9Jb2JqZWN0IiwibWF4IiwibWluJDEiLCJzaGFyZWQiLCJfc2hhcmVkS2V5IiwiYXJyYXlJbmRleE9mIiwiSVNfSU5DTFVERVMiLCJlbCIsImZyb21JbmRleCIsIl90b0Fic29sdXRlSW5kZXgiLCJfYXJyYXlJbmNsdWRlcyIsIklFX1BST1RPIiwiX29iamVjdEtleXNJbnRlcm5hbCIsIm5hbWVzIiwiX2VudW1CdWdLZXlzIiwiX29iamVjdEtleXMiLCJfb2JqZWN0R29wcyIsIl9vYmplY3RQaWUiLCIkYXNzaWduIiwiX29iamVjdEFzc2lnbiIsIkEiLCJLIiwiVCIsImFMZW4iLCJnZXRTeW1ib2xzIiwiaXNFbnVtIiwiTUFUQ0giLCJfc3RyaW5nQ29udGV4dCIsInNlYXJjaFN0cmluZyIsIk5BTUUiLCJpc1JlZ0V4cCIsIl9pc1JlZ2V4cCIsIk1BVENIJDEiLCIkc3RhcnRzV2l0aCIsIktFWSIsInJlIiwiX2ZhaWxzSXNSZWdleHAiLCJzdGFydHNXaXRoIiwic2VhcmNoIiwicmVwZWF0IiwiY291bnQiLCJJbmZpbml0eSIsIlJhbmdlRXJyb3IiLCJfbWV0YSIsIk1FVEEiLCJzZXREZXNjIiwiaXNFeHRlbnNpYmxlIiwiRlJFRVpFIiwicHJldmVudEV4dGVuc2lvbnMiLCJzZXRNZXRhIiwidyIsIm1ldGEiLCJORUVEIiwiZmFzdEtleSIsImdldFdlYWsiLCJvbkZyZWV6ZSIsImRlZiIsIlRBRyIsIl9zZXRUb1N0cmluZ1RhZyIsInRhZyIsInN0YXQiLCJfd2tzRXh0IiwiX3drc0RlZmluZSIsIiRTeW1ib2wiLCJfb2JqZWN0RHBzIiwiZGVmaW5lUHJvcGVydGllcyIsIlByb3BlcnRpZXMiLCJkb2N1bWVudCQxIiwiX2h0bWwiLCJkb2N1bWVudEVsZW1lbnQiLCJJRV9QUk9UTyQxIiwiRW1wdHkiLCJjcmVhdGVEaWN0IiwiaWZyYW1lRG9jdW1lbnQiLCJpZnJhbWUiLCJzdHlsZSIsImRpc3BsYXkiLCJhcHBlbmRDaGlsZCIsInNyYyIsImNvbnRlbnRXaW5kb3ciLCJvcGVuIiwid3JpdGUiLCJsdCIsIl9vYmplY3RDcmVhdGUiLCJoaWRkZW5LZXlzIiwiX29iamVjdEdvcG4iLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ09QTiIsInRvU3RyaW5nJDEiLCJ3aW5kb3dOYW1lcyIsIl9vYmplY3RHb3BuRXh0IiwiZ2V0V2luZG93TmFtZXMiLCJnT1BEIiwiX29iamVjdEdvcGQiLCJnT1BEJDEiLCJkUCQxIiwiZ09QTiQxIiwiJEpTT04iLCJfc3RyaW5naWZ5IiwiSElEREVOIiwiVE9fUFJJTUlUSVZFIiwiU3ltYm9sUmVnaXN0cnkiLCJBbGxTeW1ib2xzIiwiT1BTeW1ib2xzIiwiT2JqZWN0UHJvdG8iLCJVU0VfTkFUSVZFIiwiUU9iamVjdCIsInNldHRlciIsImZpbmRDaGlsZCIsInNldFN5bWJvbERlc2MiLCJEIiwicHJvdG9EZXNjIiwid3JhcCIsInN5bSIsIl9rIiwiaXNTeW1ib2wiLCIkZGVmaW5lUHJvcGVydHkiLCIkZGVmaW5lUHJvcGVydGllcyIsInN5bWJvbHMiLCJfZW51bUtleXMiLCIkcHJvcGVydHlJc0VudW1lcmFibGUiLCJFIiwiJGdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIiRnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiJGdldE93blByb3BlcnR5U3ltYm9scyIsIklTX09QIiwiJHNldCIsImVzNlN5bWJvbHMiLCJ3ZWxsS25vd25TeW1ib2xzIiwiZm9yIiwia2V5Rm9yIiwidXNlU2V0dGVyIiwidXNlU2ltcGxlIiwicmVwbGFjZXIiLCIkcmVwbGFjZXIiLCJUQUckMSIsIkFSRyIsInRyeUdldCIsImNhbGxlZSIsIl9jbGFzc29mIiwiX2l0ZXJhdG9ycyIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiX2l0ZXJDcmVhdGUiLCJDb25zdHJ1Y3RvciIsIklFX1BST1RPJDIiLCJPYmplY3RQcm90byQxIiwiX29iamVjdEdwbyIsImdldFByb3RvdHlwZU9mIiwiSVRFUkFUT1IiLCJCVUdHWSIsInJldHVyblRoaXMiLCJfaXRlckRlZmluZSIsIkJhc2UiLCJERUZBVUxUIiwiSVNfU0VUIiwiRk9SQ0VEIiwiZ2V0TWV0aG9kIiwia2luZCIsInByb3RvIiwiREVGX1ZBTFVFUyIsIlZBTFVFU19CVUciLCIkbmF0aXZlIiwiJGRlZmF1bHQiLCIkZW50cmllcyIsIiRhbnlOYXRpdmUiLCJlbnRyaWVzIiwiJGF0IiwiVE9fU1RSSU5HIiwiX3N0cmluZ0F0IiwiaXRlcmF0ZWQiLCJfdCIsInBvaW50IiwiX2l0ZXJTdGVwIiwiZXM2X2FycmF5X2l0ZXJhdG9yIiwiQXJndW1lbnRzIiwiSVRFUkFUT1IkMSIsIlRPX1NUUklOR19UQUciLCJBcnJheVZhbHVlcyIsIkRPTUl0ZXJhYmxlcyIsIkNTU1J1bGVMaXN0IiwiQ1NTU3R5bGVEZWNsYXJhdGlvbiIsIkNTU1ZhbHVlTGlzdCIsIkNsaWVudFJlY3RMaXN0IiwiRE9NUmVjdExpc3QiLCJET01TdHJpbmdMaXN0IiwiRE9NVG9rZW5MaXN0IiwiRGF0YVRyYW5zZmVySXRlbUxpc3QiLCJGaWxlTGlzdCIsIkhUTUxBbGxDb2xsZWN0aW9uIiwiSFRNTENvbGxlY3Rpb24iLCJIVE1MRm9ybUVsZW1lbnQiLCJIVE1MU2VsZWN0RWxlbWVudCIsIk1lZGlhTGlzdCIsIk1pbWVUeXBlQXJyYXkiLCJOYW1lZE5vZGVNYXAiLCJOb2RlTGlzdCIsIlBhaW50UmVxdWVzdExpc3QiLCJQbHVnaW4iLCJQbHVnaW5BcnJheSIsIlNWR0xlbmd0aExpc3QiLCJTVkdOdW1iZXJMaXN0IiwiU1ZHUGF0aFNlZ0xpc3QiLCJTVkdQb2ludExpc3QiLCJTVkdTdHJpbmdMaXN0IiwiU1ZHVHJhbnNmb3JtTGlzdCIsIlNvdXJjZUJ1ZmZlckxpc3QiLCJTdHlsZVNoZWV0TGlzdCIsIlRleHRUcmFja0N1ZUxpc3QiLCJUZXh0VHJhY2tMaXN0IiwiVG91Y2hMaXN0IiwiY29sbGVjdGlvbnMiLCJleHBsaWNpdCIsIkNvbGxlY3Rpb24iLCJzY29wZSIsIlRpbWVvdXQiLCJjbGVhckZuIiwiX2lkIiwiX2NsZWFyRm4iLCJjbGVhclRpbWVvdXQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJ0aW1lb3V0IiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJpdGVtIiwibXNlY3MiLCJfaWRsZVRpbWVvdXRJZCIsIl9pZGxlVGltZW91dCIsInVuZW5yb2xsIiwiX3VucmVmQWN0aXZlIiwiYWN0aXZlIiwiX29uVGltZW91dCIsImNsZWFySW1tZWRpYXRlIiwicHJvY2VzcyIsInJlZ2lzdGVySW1tZWRpYXRlIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJjdXJyZW50bHlSdW5uaW5nQVRhc2siLCJkb2MiLCJhdHRhY2hUbyIsIm5leHRUaWNrIiwicnVuSWZQcmVzZW50IiwicG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyIsIm9sZE9uTWVzc2FnZSIsImNhblVzZVBvc3RNZXNzYWdlIiwibWVzc2FnZVByZWZpeCIsIm9uR2xvYmFsTWVzc2FnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uIiwiTWVzc2FnZUNoYW5uZWwiLCJjaGFubmVsIiwicG9ydDEiLCJwb3J0MiIsImluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uIiwiaHRtbCIsInNjcmlwdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbiIsInJ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImZldGNoIiwic3VwcG9ydCIsInNlYXJjaFBhcmFtcyIsIml0ZXJhYmxlIiwiYmxvYiIsIkJsb2IiLCJmb3JtRGF0YSIsImFycmF5QnVmZmVyIiwidmlld0NsYXNzZXMiLCJpc0RhdGFWaWV3IiwiRGF0YVZpZXciLCJpc1Byb3RvdHlwZU9mIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsIkhlYWRlcnMiLCJhcHBlbmQiLCJub3JtYWxpemVOYW1lIiwibm9ybWFsaXplVmFsdWUiLCJvbGRWYWx1ZSIsImhhcyIsIml0ZW1zIiwiaXRlcmF0b3JGb3IiLCJSZXF1ZXN0IiwiX2JvZHlJbml0IiwiQm9keSIsIlJlc3BvbnNlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImhlYWRlcnMiLCJ1cmwiLCJyZXNwb25zZSIsInJlZGlyZWN0U3RhdHVzZXMiLCJyZWRpcmVjdCIsImxvY2F0aW9uIiwiaW5pdCIsInJlcXVlc3QiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9ubG9hZCIsInJhd0hlYWRlcnMiLCJsaW5lIiwidHJpbSIsInBhcnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VUZXh0Iiwib25lcnJvciIsIm9udGltZW91dCIsImNyZWRlbnRpYWxzIiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJwb2x5ZmlsbCIsInRvTG93ZXJDYXNlIiwiY29uc3VtZWQiLCJib2R5VXNlZCIsImZpbGVSZWFkZXJSZWFkeSIsInJlYWRlciIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsIkZpbGVSZWFkZXIiLCJyZWFkQXNBcnJheUJ1ZmZlciIsImJ1ZmZlckNsb25lIiwidmlldyIsIlVpbnQ4QXJyYXkiLCJieXRlTGVuZ3RoIiwiYnVmZmVyIiwiX2luaXRCb2R5IiwiX2JvZHlUZXh0IiwiX2JvZHlCbG9iIiwiRm9ybURhdGEiLCJfYm9keUZvcm1EYXRhIiwiVVJMU2VhcmNoUGFyYW1zIiwiX2JvZHlBcnJheUJ1ZmZlciIsInRleHQiLCJyZWFkQXNUZXh0IiwicmVhZEJsb2JBc1RleHQiLCJjaGFycyIsInJlYWRBcnJheUJ1ZmZlckFzVGV4dCIsImpzb24iLCJ1cGNhc2VkIiwidG9VcHBlckNhc2UiLCJub3JtYWxpemVNZXRob2QiLCJyZWZlcnJlciIsImZvcm0iLCJkZWNvZGVVUklDb21wb25lbnQiLCJib2R5SW5pdCIsIm9rIiwiaW5kZXhfZXNtX2EiLCJNZXNzYWdlUGFyYW1ldGVyIiwiTWVzc2FnZVR5cGUiLCJFUlJPUl9DT0RFUyIsIkFWQUlMQUJMRV9JTl9XSU5ET1ciLCJBVkFJTEFCTEVfSU5fU1ciLCJTSE9VTERfQkVfSU5IRVJJVEVEIiwiQkFEX1NFTkRFUl9JRCIsIklOQ09SUkVDVF9HQ01fU0VOREVSX0lEIiwiUEVSTUlTU0lPTl9ERUZBVUxUIiwiUEVSTUlTU0lPTl9CTE9DS0VEIiwiVU5TVVBQT1JURURfQlJPV1NFUiIsIk5PVElGSUNBVElPTlNfQkxPQ0tFRCIsIkZBSUxFRF9ERUZBVUxUX1JFR0lTVFJBVElPTiIsIlNXX1JFR0lTVFJBVElPTl9FWFBFQ1RFRCIsIkdFVF9TVUJTQ1JJUFRJT05fRkFJTEVEIiwiSU5WQUxJRF9TQVZFRF9UT0tFTiIsIlNXX1JFR19SRURVTkRBTlQiLCJUT0tFTl9TVUJTQ1JJQkVfRkFJTEVEIiwiVE9LRU5fU1VCU0NSSUJFX05PX1RPS0VOIiwiVE9LRU5fU1VCU0NSSUJFX05PX1BVU0hfU0VUIiwiVE9LRU5fVU5TVUJTQ1JJQkVfRkFJTEVEIiwiVE9LRU5fVVBEQVRFX0ZBSUxFRCIsIlRPS0VOX1VQREFURV9OT19UT0tFTiIsIlVTRV9TV19CRUZPUkVfR0VUX1RPS0VOIiwiSU5WQUxJRF9ERUxFVEVfVE9LRU4iLCJERUxFVEVfVE9LRU5fTk9UX0ZPVU5EIiwiREVMRVRFX1NDT1BFX05PVF9GT1VORCIsIkJHX0hBTkRMRVJfRlVOQ1RJT05fRVhQRUNURUQiLCJOT19XSU5ET1dfQ0xJRU5UX1RPX01TRyIsIlVOQUJMRV9UT19SRVNVQlNDUklCRSIsIk5PX0ZDTV9UT0tFTl9GT1JfUkVTVUJTQ1JJQkUiLCJGQUlMRURfVE9fREVMRVRFX1RPS0VOIiwiTk9fU1dfSU5fUkVHIiwiQkFEX1NDT1BFIiwiQkFEX1ZBUElEX0tFWSIsIkJBRF9TVUJTQ1JJUFRJT04iLCJCQURfVE9LRU4iLCJCQURfUFVTSF9TRVQiLCJGQUlMRURfREVMRVRFX1ZBUElEX0tFWSIsIklOVkFMSURfUFVCTElDX1ZBUElEX0tFWSIsIlVTRV9QVUJMSUNfS0VZX0JFRk9SRV9HRVRfVE9LRU4iLCJQVUJMSUNfS0VZX0RFQ1JZUFRJT05fRkFJTEVEIiwiRVJST1JfTUFQIiwiZXJyb3JGYWN0b3J5IiwiaW5kZXhfY2pzIiwiREVGQVVMVF9QVUJMSUNfVkFQSURfS0VZIiwiRU5EUE9JTlQiLCJpc0FycmF5QnVmZmVyRXF1YWwiLCJ2aWV3QSIsInZpZXdCIiwiZ2V0VWludDgiLCJhcnJheUJ1ZmZlclRvQmFzZTY0IiwidWludDhWZXJzaW9uIiwidG9CYXNlNjQiLCJpbmRleF9lc21fSWlkTW9kZWwiLCJJaWRNb2RlbCIsInNlbmRlcklkIiwic3Vic2NyaXB0aW9uIiwicHVibGljVmFwaWRLZXkiLCJ0c2xpYl9lczYiLCJwMjU2ZGgiLCJhdXRoIiwiZmNtU3Vic2NyaWJlQm9keSIsImFwcGxpY2F0aW9uUHViS2V5Iiwic3Vic2NyaWJlT3B0aW9ucyIsInJlc3BvbnNlRGF0YSIsIl9hIiwiZ2V0S2V5IiwiZW5kcG9pbnQiLCJwdXNoU2V0IiwidXBkYXRlVG9rZW4iLCJmY21Ub2tlbiIsImZjbVB1c2hTZXQiLCJmY21VcGRhdGVCb2R5IiwidXBkYXRlT3B0aW9ucyIsImRlbGV0ZVRva2VuIiwiZmNtVW5zdWJzY3JpYmVCb2R5IiwidW5zdWJzY3JpYmVPcHRpb25zIiwiYmFzZTY0VG9BcnJheUJ1ZmZlciIsImJhc2U2NFN0cmluZyIsInJhd0RhdGEiLCJvdXRwdXRBcnJheSIsIk9MRF9EQl9OQU1FIiwiT0xEX09CSkVDVF9TVE9SRV9OQU1FIiwiY2xlYW5WMSIsImluZGV4ZWREQiIsIm9uc3VjY2VzcyIsImRiIiwib2JqZWN0U3RvcmVOYW1lcyIsIm9iamVjdFN0b3JlIiwidHJhbnNhY3Rpb24iLCJpaWRNb2RlbCIsIm9wZW5DdXJzb3JSZXF1ZXN0Iiwib3BlbkN1cnNvciIsImN1cnNvciIsInRva2VuRGV0YWlscyIsImZjbVNlbmRlcklkIiwiY29udGludWUiLCJkZWxldGVEYXRhYmFzZSIsImhhbmRsZURiIiwiaW5kZXhfZXNtX0RiSW50ZXJmYWNlIiwiRGJJbnRlcmZhY2UiLCJkYlByb21pc2UiLCJjcmVhdGVUcmFuc2FjdGlvbiIsImdldEluZGV4IiwicHV0IiwiY2xvc2VEYXRhYmFzZSIsInJ1blJlcXVlc3QiLCJnZXREYiIsIm9iamVjdFN0b3JlTmFtZSIsInByb21pc2lmeSIsIm9uY29tcGxldGUiLCJkYk5hbWUiLCJkYlZlcnNpb24iLCJvbnVwZ3JhZGVuZWVkZWQiLCJvbkRiVXBncmFkZSIsImluZGV4X2VzbV9Ub2tlbkRldGFpbHNNb2RlbCIsIlRva2VuRGV0YWlsc01vZGVsIiwib2xkVmVyc2lvbiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwiY3Vyc29yUmVxdWVzdF8xIiwiY3JlYXRlVGltZSIsInZhcGlkS2V5IiwiZ2V0VG9rZW5EZXRhaWxzRnJvbVRva2VuIiwidmFsaWRhdGVJbnB1dHMiLCJnZXRUb2tlbkRldGFpbHNGcm9tU1dTY29wZSIsInN3U2NvcGUiLCJzYXZlVG9rZW5EZXRhaWxzIiwiZGV0YWlscyIsImluZGV4X2VzbV9WYXBpZERldGFpbHNNb2RlbCIsIlZhcGlkRGV0YWlsc01vZGVsIiwiZ2V0VmFwaWRGcm9tU1dTY29wZSIsInNhdmVWYXBpZERldGFpbHMiLCJkZWxldGVWYXBpZERldGFpbHMiLCJTRU5ERVJfSURfT1BUSU9OX05BTUUiLCJpbmRleF9lc21fQmFzZUNvbnRyb2xsZXIiLCJCYXNlQ29udHJvbGxlciIsIm1lc3NhZ2luZ1NlbmRlcklkIiwidG9rZW5EZXRhaWxzTW9kZWwiLCJ2YXBpZERldGFpbHNNb2RlbCIsImN1cnJlbnRQZXJtaXNzaW9uIiwic3dSZWciLCJwdXNoU3Vic2NyaXB0aW9uIiwiZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbl8iLCJnZXRTV1JlZ2lzdHJhdGlvbl8iLCJnZXRQdWJsaWNWYXBpZEtleV8iLCJnZXRQdXNoU3Vic2NyaXB0aW9uIiwibWFuYWdlRXhpc3RpbmdUb2tlbiIsImdldE5ld1Rva2VuIiwiaXNFbmRwb2ludEVxdWFsIiwiaXNBdXRoRXF1YWwiLCJpc1AyNTZkaEVxdWFsIiwiaXNUb2tlblN0aWxsVmFsaWQiLCJkZWxldGVUb2tlbkZyb21EQiIsInVwZGF0ZWRUb2tlbiIsImFsbERldGFpbHMiLCJlXzEiLCJyZWdpc3RyYXRpb24iLCJwdXNoTWFuYWdlciIsImdldFN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlIiwic3dSZWdpc3RyYXRpb24iLCJ1c2VyVmlzaWJsZU9ubHkiLCJhcHBsaWNhdGlvblNlcnZlcktleSIsInJlcXVlc3RQZXJtaXNzaW9uIiwidXNlU2VydmljZVdvcmtlciIsInVzZVB1YmxpY1ZhcGlkS2V5IiwiYjY0UHVibGljS2V5Iiwib25NZXNzYWdlIiwiY29tcGxldGVkIiwib25Ub2tlblJlZnJlc2giLCJzZXRCYWNrZ3JvdW5kTWVzc2FnZUhhbmRsZXIiLCJOb3RpZmljYXRpb24iLCJwZXJtaXNzaW9uIiwiZ2V0VG9rZW5EZXRhaWxzTW9kZWwiLCJnZXRWYXBpZERldGFpbHNNb2RlbCIsImdldElpZE1vZGVsIiwiaW5kZXhfZXNtX1N3Q29udHJvbGxlciIsIlN3Q29udHJvbGxlciIsImJnTWVzc2FnZUhhbmRsZXIiLCJvblB1c2giLCJvblN1YkNoYW5nZSIsIm9uTm90aWZpY2F0aW9uQ2xpY2siLCJ3YWl0VW50aWwiLCJvblB1c2hfIiwib25TdWJDaGFuZ2VfIiwib25Ob3RpZmljYXRpb25DbGlja18iLCJtc2dQYXlsb2FkIiwibm90aWZpY2F0aW9uRGV0YWlscyIsIm5vdGlmaWNhdGlvblRpdGxlIiwicmVnIiwiYWN0aW9ucyIsIm1heEFjdGlvbnMiLCJoYXNWaXNpYmxlQ2xpZW50c18iLCJzZW5kTWVzc2FnZVRvV2luZG93Q2xpZW50c18iLCJnZXROb3RpZmljYXRpb25EYXRhXyIsInNob3dOb3RpZmljYXRpb24iLCJlcnJfMSIsImVycl8yIiwibGluayIsIndpbmRvd0NsaWVudCIsImludGVybmFsTXNnIiwibm90aWZpY2F0aW9uIiwiYWN0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiZmNtT3B0aW9ucyIsImNsaWNrX2FjdGlvbiIsImdldFdpbmRvd0NsaWVudF8iLCJjbGllbnRzIiwib3BlbldpbmRvdyIsImZvY3VzIiwiY3JlYXRlTmV3TXNnIiwiTk9USUZJQ0FUSU9OX0NMSUNLRUQiLCJhdHRlbXB0VG9NZXNzYWdlQ2xpZW50XyIsIm5vdGlmaWNhdGlvbkluZm9ybWF0aW9uIiwicGFyc2VkVVJMIiwiY2xpZW50TGlzdCIsInN1aXRhYmxlQ2xpZW50IiwiVVJMIiwiaHJlZiIsImdldENsaWVudExpc3QiLCJjbGllbnQiLCJzb21lIiwidmlzaWJpbGl0eVN0YXRlIiwiUFVTSF9NU0dfUkVDRUlWRUQiLCJ2YXBpZEtleUZyb21EYXRhYmFzZSIsIm1hdGNoQWxsIiwiaW5jbHVkZVVuY29udHJvbGxlZCIsIm1zZ1R5cGUiLCJtc2dEYXRhIiwiVFlQRV9PRl9NU0ciLCJEQVRBIiwiaW5kZXhfZXNtX1dpbmRvd0NvbnRyb2xsZXIiLCJXaW5kb3dDb250cm9sbGVyIiwicmVnaXN0cmF0aW9uVG9Vc2UiLCJwdWJsaWNWYXBpZEtleVRvVXNlIiwibWFuaWZlc3RDaGVja1Byb21pc2UiLCJtZXNzYWdlT2JzZXJ2ZXIiLCJ0b2tlblJlZnJlc2hPYnNlcnZlciIsIm9uTWVzc2FnZUludGVybmFsIiwib25Ub2tlblJlZnJlc2hJbnRlcm5hbCIsInNldHVwU1dNZXNzYWdlTGlzdGVuZXJfIiwibWFuaWZlc3RUYWciLCJtYW5pZmVzdENvbnRlbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2NtX3NlbmRlcl9pZCIsIm1hbmlmZXN0Q2hlY2siLCJwZXJtaXNzaW9uUmVzdWx0IiwiU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsInB1YmxpY0tleSIsInBhcnNlZEtleSIsIndhaXRGb3JSZWdpc3RyYXRpb25Ub0FjdGl2YXRlXyIsInNlcnZpY2VXb3JrZXIiLCJpbnN0YWxsaW5nIiwid2FpdGluZyIsInN0YXRlIiwic3RhdGVDaGFuZ2VMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWdpc3RlciIsImJyb3dzZXJFcnJvck1lc3NhZ2UiLCJ3b3JrZXJQYWdlTWVzc2FnZSIsInB1c2hNZXNzYWdlIiwiaXNTdXBwb3J0ZWQiLCJQdXNoU3Vic2NyaXB0aW9uIiwiY29va2llRW5hYmxlZCIsImluc3RhbmNlIiwibmFtZXNwYWNlRXhwb3J0cyIsInJlZ2lzdGVyTWVzc2FnaW5nIiwiZGlzdF9pbmRleF9janNfZGVmYXVsdCJdLCJtYXBwaW5ncyI6ImFBQUFBLE9BQUEsc0JBQUFDLEVBQUFDLEdBQ0EsUUFBQUMsS0FBQUQsRUFDQUUsRUFBQUQsR0FBQUQsRUFBQUMsR0FFQSxLQUFBRixFQUFBSSxRQUNBQyxFQUFBTCxFQUFBTSxPQUFBLEdBSUEsSUFBQUMsS0FJQUYsR0FDQUcsRUFBQSxHQUlBLFNBQUFDLEVBQUFQLEdBR0EsR0FBQUssRUFBQUwsR0FDQSxPQUFBSyxFQUFBTCxHQUFBUSxRQUdBLElBQUFDLEVBQUFKLEVBQUFMLElBQ0FVLEVBQUFWLEVBQ0FXLEdBQUEsRUFDQUgsWUFVQSxPQU5BUCxFQUFBRCxHQUFBWSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRCxHQUdBRSxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FELEVBQUFNLEVBQUEsU0FBQUMsR0FDQSxJQUFBQyxLQU9BLE9BTkFBLEVBQUFDLEtBQUFDLFFBQUFDLFVBQUFDLEtBQUEsV0FFQWhCLEVBQUFXLElBQ0FNLGNBQUFOLEVBQUEsc0JBR0FHLFFBQUFJLElBQUFOLElBSUFSLEVBQUFlLEVBQUFyQixFQUdBTSxFQUFBZ0IsRUFBQWxCLEVBR0FFLEVBQUFpQixFQUFBLFNBQUFoQixFQUFBaUIsRUFBQUMsR0FDQW5CLEVBQUFvQixFQUFBbkIsRUFBQWlCLElBQ0FHLE9BQUFDLGVBQUFyQixFQUFBaUIsR0FBMENLLFlBQUEsRUFBQUMsSUFB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QyxHQUNBSixlQUVBRyxFQUFBajFCLFNBQUEyQyxnQkFqQkEsWUFDQSxTQUFBSCxHQUNBLElBQUFzeUIsSUFDQSxNQUFBOU4sRUFBQXg3QixPQUFBKzRCLEVBQUFRLHFCQUVBLE9BQUF0Z0IsTUFBQSw2QkFBQUEsS0FFQSxJQUF1QmdyQixFQUFZanRCLEdBSW5DLElBQXVCd3dCLEVBQWdCeHdCLElBTXZDMHlCLEdBRUFDLENBQWtCQyxFQUFBdGtDIiwiZmlsZSI6Imhhc2gud29ya2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0d2luZG93W1wid2VicGFja0NodW5rXCJdID0gZnVuY3Rpb24gd2VicGFja0NodW5rQ2FsbGJhY2soY2h1bmtJZHMsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0fVxuIFx0XHR3aGlsZShjaHVua0lkcy5sZW5ndGgpXG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzLnBvcCgpXSA9IDE7XG4gXHR9O1xuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGNodW5rc1xuIFx0Ly8gXCIxXCIgbWVhbnMgXCJhbHJlYWR5IGxvYWRlZFwiXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAxXG4gXHR9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cbiBcdC8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbiBcdC8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lID0gZnVuY3Rpb24gcmVxdWlyZUVuc3VyZShjaHVua0lkKSB7XG4gXHRcdHZhciBwcm9taXNlcyA9IFtdO1xuIFx0XHRwcm9taXNlcy5wdXNoKFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0Ly8gXCIxXCIgaXMgdGhlIHNpZ25hbCBmb3IgXCJhbHJlYWR5IGxvYWRlZFwiXG4gXHRcdFx0aWYoIWluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0aW1wb3J0U2NyaXB0cyhcIlwiICsgY2h1bmtJZCArIFwiLmhhc2gud29ya2VyLmpzXCIpO1xuIFx0XHRcdH1cbiBcdFx0fSkpO1xuIFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuIFx0fTtcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSB5W29wWzBdICYgMiA/IFwicmV0dXJuXCIgOiBvcFswXSA/IFwidGhyb3dcIiA6IFwibmV4dFwiXSkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbMCwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgIH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChvW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9OyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHRzbGliXzEgPSByZXF1aXJlKCd0c2xpYicpO1xuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgRmlyZWJhc2UgY29uc3RhbnRzLiAgU29tZSBvZiB0aGVzZSAoQGRlZmluZXMpIGNhbiBiZSBvdmVycmlkZGVuIGF0IGNvbXBpbGUtdGltZS5cclxuICovXHJcbnZhciBDT05TVEFOVFMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEBkZWZpbmUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBpcyB0aGUgY2xpZW50IE5vZGUuanMgU0RLLlxyXG4gICAgICovXHJcbiAgICBOT0RFX0NMSUVOVDogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIEBkZWZpbmUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBpcyB0aGUgQWRtaW4gTm9kZS5qcyBTREsuXHJcbiAgICAgKi9cclxuICAgIE5PREVfQURNSU46IGZhbHNlLFxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlYmFzZSBTREsgVmVyc2lvblxyXG4gICAgICovXHJcbiAgICBTREtfVkVSU0lPTjogJyR7SlNDT1JFX1ZFUlNJT059J1xyXG59O1xuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgcHJvdmlkZWQgYXNzZXJ0aW9uIGlzIGZhbHN5XHJcbiAqIEBwYXJhbSB7Kn0gYXNzZXJ0aW9uIFRoZSBhc3NlcnRpb24gdG8gYmUgdGVzdGVkIGZvciBmYWxzaW5lc3NcclxuICogQHBhcmFtIHshc3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGRpc3BsYXkgaWYgdGhlIGNoZWNrIGZhaWxzXHJcbiAqL1xyXG52YXIgYXNzZXJ0ID0gZnVuY3Rpb24gKGFzc2VydGlvbiwgbWVzc2FnZSkge1xyXG4gICAgaWYgKCFhc3NlcnRpb24pIHtcclxuICAgICAgICB0aHJvdyBhc3NlcnRpb25FcnJvcihtZXNzYWdlKTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgYW4gRXJyb3Igb2JqZWN0IHN1aXRhYmxlIGZvciB0aHJvd2luZy5cclxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcclxuICogQHJldHVybiB7IUVycm9yfVxyXG4gKi9cclxudmFyIGFzc2VydGlvbkVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgIHJldHVybiBuZXcgRXJyb3IoJ0ZpcmViYXNlIERhdGFiYXNlICgnICtcclxuICAgICAgICBDT05TVEFOVFMuU0RLX1ZFUlNJT04gK1xyXG4gICAgICAgICcpIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6ICcgK1xyXG4gICAgICAgIG1lc3NhZ2UpO1xyXG59O1xuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIHN0cmluZ1RvQnl0ZUFycmF5ID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgLy8gVE9ETyh1c2VyKTogVXNlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgaWYvd2hlbiBhdmFpbGFibGVcclxuICAgIHZhciBvdXQgPSBbXSwgcCA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoYyAmIDB4ZmMwMCkgPT0gMHhkODAwICYmXHJcbiAgICAgICAgICAgIGkgKyAxIDwgc3RyLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAoc3RyLmNoYXJDb2RlQXQoaSArIDEpICYgMHhmYzAwKSA9PSAweGRjMDApIHtcclxuICAgICAgICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcclxuICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgJiAweDAzZmYpIDw8IDEwKSArIChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHgwM2ZmKTtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDEyKSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDEyKSB8IDIyNDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufTtcclxuLyoqXHJcbiAqIFR1cm5zIGFuIGFycmF5IG9mIG51bWJlcnMgaW50byB0aGUgc3RyaW5nIGdpdmVuIGJ5IHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZVxyXG4gKiBjaGFyYWN0ZXJzIHRvIHdoaWNoIHRoZSBudW1iZXJzIGNvcnJlc3BvbmQuXHJcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gYnl0ZXMgQXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgY2hhcmFjdGVycy5cclxuICogQHJldHVybiB7c3RyaW5nfSBTdHJpbmdpZmljYXRpb24gb2YgdGhlIGFycmF5LlxyXG4gKi9cclxudmFyIGJ5dGVBcnJheVRvU3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVzKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgdmFyIG91dCA9IFtdLCBwb3MgPSAwLCBjID0gMDtcclxuICAgIHdoaWxlIChwb3MgPCBieXRlcy5sZW5ndGgpIHtcclxuICAgICAgICB2YXIgYzEgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZShjMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMTkxICYmIGMxIDwgMjI0KSB7XHJcbiAgICAgICAgICAgIHZhciBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYzEgJiAzMSkgPDwgNikgfCAoYzIgJiA2MykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjMSA+IDIzOSAmJiBjMSA8IDM2NSkge1xyXG4gICAgICAgICAgICAvLyBTdXJyb2dhdGUgUGFpclxyXG4gICAgICAgICAgICB2YXIgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIHZhciBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgdmFyIGM0ID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICB2YXIgdSA9ICgoKGMxICYgNykgPDwgMTgpIHwgKChjMiAmIDYzKSA8PCAxMikgfCAoKGMzICYgNjMpIDw8IDYpIHwgKGM0ICYgNjMpKSAtXHJcbiAgICAgICAgICAgICAgICAweDEwMDAwO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhkODAwICsgKHUgPj4gMTApKTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZGMwMCArICh1ICYgMTAyMykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICB2YXIgYzMgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMxICYgMTUpIDw8IDEyKSB8ICgoYzIgJiA2MykgPDwgNikgfCAoYzMgJiA2MykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQuam9pbignJyk7XHJcbn07XHJcbi8vIFN0YXRpYyBsb29rdXAgbWFwcywgbGF6aWx5IHBvcHVsYXRlZCBieSBpbml0XygpXHJcbnZhciBiYXNlNjQgPSB7XHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgYnl0ZXMgdG8gY2hhcmFjdGVycy5cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBieXRlVG9DaGFyTWFwXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGNoYXJUb0J5dGVNYXBfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGJ5dGVzIHRvIHdlYnNhZmUgY2hhcmFjdGVycy5cclxuICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBieXRlVG9DaGFyTWFwV2ViU2FmZV86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgd2Vic2FmZSBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGNoYXJUb0J5dGVNYXBXZWJTYWZlXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogT3VyIGRlZmF1bHQgYWxwaGFiZXQsIHNoYXJlZCBiZXR3ZWVuXHJcbiAgICAgKiBFTkNPREVEX1ZBTFMgYW5kIEVOQ09ERURfVkFMU19XRUJTQUZFXHJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBFTkNPREVEX1ZBTFNfQkFTRTogJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJyArICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicgKyAnMDEyMzQ1Njc4OScsXHJcbiAgICAvKipcclxuICAgICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LiBWYWx1ZSA2NCAoPSkgaXMgc3BlY2lhbDsgaXQgbWVhbnMgXCJub3RoaW5nLlwiXHJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXQgRU5DT0RFRF9WQUxTKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFICsgJysvPSc7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgd2Vic2FmZSBhbHBoYWJldC5cclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldCBFTkNPREVEX1ZBTFNfV0VCU0FGRSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRSArICctXy4nO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIGJyb3dzZXIgc3VwcG9ydHMgdGhlIGF0b2IgYW5kIGJ0b2EgZnVuY3Rpb25zLiBUaGlzIGV4dGVuc2lvblxyXG4gICAgICogc3RhcnRlZCBhdCBNb3ppbGxhIGJ1dCBpcyBub3cgaW1wbGVtZW50ZWQgYnkgbWFueSBicm93c2Vycy4gV2UgdXNlIHRoZVxyXG4gICAgICogQVNTVU1FXyogdmFyaWFibGVzIHRvIGF2b2lkIHB1bGxpbmcgaW4gdGhlIGZ1bGwgdXNlcmFnZW50IGRldGVjdGlvbiBsaWJyYXJ5XHJcbiAgICAgKiBidXQgc3RpbGwgYWxsb3dpbmcgdGhlIHN0YW5kYXJkIHBlci1icm93c2VyIGNvbXBpbGF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgSEFTX05BVElWRV9TVVBQT1JUOiB0eXBlb2YgYXRvYiA9PT0gJ2Z1bmN0aW9uJyxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWVuY29kZSBhbiBhcnJheSBvZiBieXRlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj58VWludDhBcnJheX0gaW5wdXQgQW4gYXJyYXkgb2YgYnl0ZXMgKG51bWJlcnMgd2l0aFxyXG4gICAgICogICAgIHZhbHVlIGluIFswLCAyNTVdKSB0byBlbmNvZGUuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfd2ViU2FmZSBCb29sZWFuIGluZGljYXRpbmcgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICAgICAqL1xyXG4gICAgZW5jb2RlQnl0ZUFycmF5OiBmdW5jdGlvbiAoaW5wdXQsIG9wdF93ZWJTYWZlKSB7XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignZW5jb2RlQnl0ZUFycmF5IHRha2VzIGFuIGFycmF5IGFzIGEgcGFyYW1ldGVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5pdF8oKTtcclxuICAgICAgICB2YXIgYnl0ZVRvQ2hhck1hcCA9IG9wdF93ZWJTYWZlXHJcbiAgICAgICAgICAgID8gdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9cclxuICAgICAgICAgICAgOiB0aGlzLmJ5dGVUb0NoYXJNYXBfO1xyXG4gICAgICAgIHZhciBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSAzKSB7XHJcbiAgICAgICAgICAgIHZhciBieXRlMSA9IGlucHV0W2ldO1xyXG4gICAgICAgICAgICB2YXIgaGF2ZUJ5dGUyID0gaSArIDEgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGhhdmVCeXRlMiA/IGlucHV0W2kgKyAxXSA6IDA7XHJcbiAgICAgICAgICAgIHZhciBoYXZlQnl0ZTMgPSBpICsgMiA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGJ5dGUzID0gaGF2ZUJ5dGUzID8gaW5wdXRbaSArIDJdIDogMDtcclxuICAgICAgICAgICAgdmFyIG91dEJ5dGUxID0gYnl0ZTEgPj4gMjtcclxuICAgICAgICAgICAgdmFyIG91dEJ5dGUyID0gKChieXRlMSAmIDB4MDMpIDw8IDQpIHwgKGJ5dGUyID4+IDQpO1xyXG4gICAgICAgICAgICB2YXIgb3V0Qnl0ZTMgPSAoKGJ5dGUyICYgMHgwZikgPDwgMikgfCAoYnl0ZTMgPj4gNik7XHJcbiAgICAgICAgICAgIHZhciBvdXRCeXRlNCA9IGJ5dGUzICYgMHgzZjtcclxuICAgICAgICAgICAgaWYgKCFoYXZlQnl0ZTMpIHtcclxuICAgICAgICAgICAgICAgIG91dEJ5dGU0ID0gNjQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhdmVCeXRlMikge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dEJ5dGUzID0gNjQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3V0cHV0LnB1c2goYnl0ZVRvQ2hhck1hcFtvdXRCeXRlMV0sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTJdLCBieXRlVG9DaGFyTWFwW291dEJ5dGUzXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlNF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWVuY29kZSBhIHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgQSBzdHJpbmcgdG8gZW5jb2RlLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3dlYlNhZmUgSWYgdHJ1ZSwgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICAgICAqL1xyXG4gICAgZW5jb2RlU3RyaW5nOiBmdW5jdGlvbiAoaW5wdXQsIG9wdF93ZWJTYWZlKSB7XHJcbiAgICAgICAgLy8gU2hvcnRjdXQgZm9yIE1vemlsbGEgYnJvd3NlcnMgdGhhdCBpbXBsZW1lbnRcclxuICAgICAgICAvLyBhIG5hdGl2ZSBiYXNlNjQgZW5jb2RlciBpbiB0aGUgZm9ybSBvZiBcImJ0b2EvYXRvYlwiXHJcbiAgICAgICAgaWYgKHRoaXMuSEFTX05BVElWRV9TVVBQT1JUICYmICFvcHRfd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnRvYShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVuY29kZUJ5dGVBcnJheShzdHJpbmdUb0J5dGVBcnJheShpbnB1dCksIG9wdF93ZWJTYWZlKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1kZWNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IHRvIGRlY29kZS5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF93ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZGVjb2RlU3RyaW5nOiBmdW5jdGlvbiAoaW5wdXQsIG9wdF93ZWJTYWZlKSB7XHJcbiAgICAgICAgLy8gU2hvcnRjdXQgZm9yIE1vemlsbGEgYnJvd3NlcnMgdGhhdCBpbXBsZW1lbnRcclxuICAgICAgICAvLyBhIG5hdGl2ZSBiYXNlNjQgZW5jb2RlciBpbiB0aGUgZm9ybSBvZiBcImJ0b2EvYXRvYlwiXHJcbiAgICAgICAgaWYgKHRoaXMuSEFTX05BVElWRV9TVVBQT1JUICYmICFvcHRfd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXRvYihpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBieXRlQXJyYXlUb1N0cmluZyh0aGlzLmRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KGlucHV0LCBvcHRfd2ViU2FmZSkpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWRlY29kZSBhIHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBJbiBiYXNlLTY0IGRlY29kaW5nLCBncm91cHMgb2YgZm91ciBjaGFyYWN0ZXJzIGFyZSBjb252ZXJ0ZWQgaW50byB0aHJlZVxyXG4gICAgICogYnl0ZXMuICBJZiB0aGUgZW5jb2RlciBkaWQgbm90IGFwcGx5IHBhZGRpbmcsIHRoZSBpbnB1dCBsZW5ndGggbWF5IG5vdFxyXG4gICAgICogYmUgYSBtdWx0aXBsZSBvZiA0LlxyXG4gICAgICpcclxuICAgICAqIEluIHRoaXMgY2FzZSwgdGhlIGxhc3QgZ3JvdXAgd2lsbCBoYXZlIGZld2VyIHRoYW4gNCBjaGFyYWN0ZXJzLCBhbmRcclxuICAgICAqIHBhZGRpbmcgd2lsbCBiZSBpbmZlcnJlZC4gIElmIHRoZSBncm91cCBoYXMgb25lIG9yIHR3byBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzXHJcbiAgICAgKiB0byBvbmUgYnl0ZS4gIElmIHRoZSBncm91cCBoYXMgdGhyZWUgY2hhcmFjdGVycywgaXQgZGVjb2RlcyB0byB0d28gYnl0ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IElucHV0IHRvIGRlY29kZS5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF93ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGUgd2ViLXNhZmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIHshQXJyYXk8bnVtYmVyPn0gYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSBkZWNvZGVkIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBkZWNvZGVTdHJpbmdUb0J5dGVBcnJheTogZnVuY3Rpb24gKGlucHV0LCBvcHRfd2ViU2FmZSkge1xyXG4gICAgICAgIHRoaXMuaW5pdF8oKTtcclxuICAgICAgICB2YXIgY2hhclRvQnl0ZU1hcCA9IG9wdF93ZWJTYWZlXHJcbiAgICAgICAgICAgID8gdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9cclxuICAgICAgICAgICAgOiB0aGlzLmNoYXJUb0J5dGVNYXBfO1xyXG4gICAgICAgIHZhciBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDspIHtcclxuICAgICAgICAgICAgdmFyIGJ5dGUxID0gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSsrKV07XHJcbiAgICAgICAgICAgIHZhciBoYXZlQnl0ZTIgPSBpIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiAwO1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIHZhciBoYXZlQnl0ZTMgPSBpIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTMgPSBoYXZlQnl0ZTMgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICB2YXIgaGF2ZUJ5dGU0ID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGJ5dGU0ID0gaGF2ZUJ5dGU0ID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogNjQ7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgaWYgKGJ5dGUxID09IG51bGwgfHwgYnl0ZTIgPT0gbnVsbCB8fCBieXRlMyA9PSBudWxsIHx8IGJ5dGU0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG91dEJ5dGUxID0gKGJ5dGUxIDw8IDIpIHwgKGJ5dGUyID4+IDQpO1xyXG4gICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMSk7XHJcbiAgICAgICAgICAgIGlmIChieXRlMyAhPSA2NCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG91dEJ5dGUyID0gKChieXRlMiA8PCA0KSAmIDB4ZjApIHwgKGJ5dGUzID4+IDIpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ5dGU0ICE9IDY0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG91dEJ5dGUzID0gKChieXRlMyA8PCA2KSAmIDB4YzApIHwgYnl0ZTQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBMYXp5IHN0YXRpYyBpbml0aWFsaXphdGlvbiBmdW5jdGlvbi4gQ2FsbGVkIGJlZm9yZVxyXG4gICAgICogYWNjZXNzaW5nIGFueSBvZiB0aGUgc3RhdGljIG1hcCB2YXJpYWJsZXMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBpbml0XzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ieXRlVG9DaGFyTWFwXykge1xyXG4gICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgLy8gV2Ugd2FudCBxdWljayBtYXBwaW5ncyBiYWNrIGFuZCBmb3J0aCwgc28gd2UgcHJlY29tcHV0ZSB0d28gbWFwcy5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLkVOQ09ERURfVkFMUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwX1tpXSA9IHRoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5ieXRlVG9DaGFyTWFwX1tpXV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9baV0gPSB0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldXSA9IGk7XHJcbiAgICAgICAgICAgICAgICAvLyBCZSBmb3JnaXZpbmcgd2hlbiBkZWNvZGluZyBhbmQgY29ycmVjdGx5IGRlY29kZSBib3RoIGVuY29kaW5ncy5cclxuICAgICAgICAgICAgICAgIGlmIChpID49IHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nXHJcbiAqIEBwYXJhbSB7IXN0cmluZ30gc3RyXHJcbiAqIEByZXR1cm4geyFzdHJpbmd9XHJcbiAqL1xyXG52YXIgYmFzZTY0RW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdmFyIHV0ZjhCeXRlcyA9IHN0cmluZ1RvQnl0ZUFycmF5KHN0cik7XHJcbiAgICByZXR1cm4gYmFzZTY0LmVuY29kZUJ5dGVBcnJheSh1dGY4Qnl0ZXMsIHRydWUpO1xyXG59O1xyXG4vKipcclxuICogVVJMLXNhZmUgYmFzZTY0IGRlY29kaW5nXHJcbiAqXHJcbiAqIE5PVEU6IERPIE5PVCB1c2UgdGhlIGdsb2JhbCBhdG9iKCkgZnVuY3Rpb24gLSBpdCBkb2VzIE5PVCBzdXBwb3J0IHRoZVxyXG4gKiBiYXNlNjRVcmwgdmFyaWFudCBlbmNvZGluZy5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBUbyBiZSBkZWNvZGVkXHJcbiAqIEByZXR1cm4gez9zdHJpbmd9IERlY29kZWQgcmVzdWx0LCBpZiBwb3NzaWJsZVxyXG4gKi9cclxudmFyIGJhc2U2NERlY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2U2NC5kZWNvZGVTdHJpbmcoc3RyLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignYmFzZTY0RGVjb2RlIGZhaWxlZDogJywgZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBEbyBhIGRlZXAtY29weSBvZiBiYXNpYyBKYXZhU2NyaXB0IE9iamVjdHMgb3IgQXJyYXlzLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcENvcHkodmFsdWUpIHtcclxuICAgIHJldHVybiBkZWVwRXh0ZW5kKHVuZGVmaW5lZCwgdmFsdWUpO1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHByb3BlcnRpZXMgZnJvbSBzb3VyY2UgdG8gdGFyZ2V0IChyZWN1cnNpdmVseSBhbGxvd3MgZXh0ZW5zaW9uXHJcbiAqIG9mIE9iamVjdHMgYW5kIEFycmF5cykuICBTY2FsYXIgdmFsdWVzIGluIHRoZSB0YXJnZXQgYXJlIG92ZXItd3JpdHRlbi5cclxuICogSWYgdGFyZ2V0IGlzIHVuZGVmaW5lZCwgYW4gb2JqZWN0IG9mIHRoZSBhcHByb3ByaWF0ZSB0eXBlIHdpbGwgYmUgY3JlYXRlZFxyXG4gKiAoYW5kIHJldHVybmVkKS5cclxuICpcclxuICogV2UgcmVjdXJzaXZlbHkgY29weSBhbGwgY2hpbGQgcHJvcGVydGllcyBvZiBwbGFpbiBPYmplY3RzIGluIHRoZSBzb3VyY2UtIHNvXHJcbiAqIHRoYXQgbmFtZXNwYWNlLSBsaWtlIGRpY3Rpb25hcmllcyBhcmUgbWVyZ2VkLlxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgdGhlIHRhcmdldCBjYW4gYmUgYSBmdW5jdGlvbiwgaW4gd2hpY2ggY2FzZSB0aGUgcHJvcGVydGllcyBpblxyXG4gKiB0aGUgc291cmNlIE9iamVjdCBhcmUgY29waWVkIG9udG8gaXQgYXMgc3RhdGljIHByb3BlcnRpZXMgb2YgdGhlIEZ1bmN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEV4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKHNvdXJjZS5jb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGNhc2UgRGF0ZTpcclxuICAgICAgICAgICAgLy8gVHJlYXQgRGF0ZXMgbGlrZSBzY2FsYXJzOyBpZiB0aGUgdGFyZ2V0IGRhdGUgb2JqZWN0IGhhZCBhbnkgY2hpbGRcclxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyAtIHRoZXkgd2lsbCBiZSBsb3N0IVxyXG4gICAgICAgICAgICB2YXIgZGF0ZVZhbHVlID0gc291cmNlO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVZhbHVlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgY2FzZSBPYmplY3Q6XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBBcnJheTpcclxuICAgICAgICAgICAgLy8gQWx3YXlzIGNvcHkgdGhlIGFycmF5IHNvdXJjZSBhbmQgb3ZlcndyaXRlIHRoZSB0YXJnZXQuXHJcbiAgICAgICAgICAgIHRhcmdldCA9IFtdO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAvLyBOb3QgYSBwbGFpbiBPYmplY3QgLSB0cmVhdCBpdCBhcyBhIHNjYWxhci5cclxuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XHJcbiAgICAgICAgaWYgKCFzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IGRlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG4vLyBUT0RPOiBSZWFsbHkgbmVlZGVkIChmb3IgSlNDb21waWxlciB0eXBlIGNoZWNraW5nKT9cclxuZnVuY3Rpb24gcGF0Y2hQcm9wZXJ0eShvYmosIHByb3AsIHZhbHVlKSB7XHJcbiAgICBvYmpbcHJvcF0gPSB2YWx1ZTtcclxufVxuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIERlZmVycmVkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGVmZXJyZWQoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgICAgICAgICBfdGhpcy5yZWplY3QgPSByZWplY3Q7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE91ciBBUEkgaW50ZXJuYWxzIGFyZSBub3QgcHJvbWlzZWlmaWVkIGFuZCBjYW5ub3QgYmVjYXVzZSBvdXIgY2FsbGJhY2sgQVBJcyBoYXZlIHN1YnRsZSBleHBlY3RhdGlvbnMgYXJvdW5kXHJcbiAgICAgKiBpbnZva2luZyBwcm9taXNlcyBpbmxpbmUsIHdoaWNoIFByb21pc2VzIGFyZSBmb3JiaWRkZW4gdG8gZG8uIFRoaXMgbWV0aG9kIGFjY2VwdHMgYW4gb3B0aW9uYWwgbm9kZS1zdHlsZSBjYWxsYmFja1xyXG4gICAgICogYW5kIHJldHVybnMgYSBub2RlLXN0eWxlIGNhbGxiYWNrIHdoaWNoIHdpbGwgcmVzb2x2ZSBvciByZWplY3QgdGhlIERlZmVycmVkJ3MgcHJvbWlzZS5cclxuICAgICAqIEBwYXJhbSB7KCg/ZnVuY3Rpb24oPyhFcnJvcikpOiAoP3x1bmRlZmluZWQpKXwgKD9mdW5jdGlvbig/KEVycm9yKSw/PSk6ICg/fHVuZGVmaW5lZCkpKT19IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuIHshZnVuY3Rpb24oPyhFcnJvciksID89KX1cclxuICAgICAqL1xyXG4gICAgRGVmZXJyZWQucHJvdG90eXBlLndyYXBDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnJvciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNoaW5nIG5vb3AgaGFuZGxlciBqdXN0IGluIGNhc2UgZGV2ZWxvcGVyIHdhc24ndCBleHBlY3RpbmdcclxuICAgICAgICAgICAgICAgIC8vIHByb21pc2VzXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHsgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBTb21lIG9mIG91ciBjYWxsYmFja3MgZG9uJ3QgZXhwZWN0IGEgdmFsdWUgYW5kIG91ciBvd24gdGVzdHNcclxuICAgICAgICAgICAgICAgIC8vIGFzc2VydCB0aGF0IHRoZSBwYXJhbWV0ZXIgbGVuZ3RoIGlzIDFcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjay5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvciwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRGVmZXJyZWQ7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBuYXZpZ2F0b3IudXNlckFnZW50IHN0cmluZyBvciAnJyBpZiBpdCdzIG5vdCBkZWZpbmVkLlxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHVzZXIgYWdlbnQgc3RyaW5nXHJcbiAqL1xyXG52YXIgZ2V0VUEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yWyd1c2VyQWdlbnQnXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gbmF2aWdhdG9yWyd1c2VyQWdlbnQnXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIERldGVjdCBDb3Jkb3ZhIC8gUGhvbmVHYXAgLyBJb25pYyBmcmFtZXdvcmtzIG9uIGEgbW9iaWxlIGRldmljZS5cclxuICpcclxuICogRGVsaWJlcmF0ZWx5IGRvZXMgbm90IHJlbHkgb24gY2hlY2tpbmcgYGZpbGU6Ly9gIFVSTHMgKGFzIHRoaXMgZmFpbHMgUGhvbmVHYXAgaW4gdGhlIFJpcHBsZSBlbXVsYXRvcikgbm9yXHJcbiAqIENvcmRvdmEgYG9uRGV2aWNlUmVhZHlgLCB3aGljaCB3b3VsZCBub3JtYWxseSB3YWl0IGZvciBhIGNhbGxiYWNrLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtib29sZWFufSBpc01vYmlsZUNvcmRvdmFcclxuICovXHJcbnZhciBpc01vYmlsZUNvcmRvdmEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgISEod2luZG93Wydjb3Jkb3ZhJ10gfHwgd2luZG93WydwaG9uZWdhcCddIHx8IHdpbmRvd1snUGhvbmVHYXAnXSkgJiZcclxuICAgICAgICAvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZHxibGFja2JlcnJ5fGllbW9iaWxlL2kudGVzdChnZXRVQSgpKSk7XHJcbn07XHJcbi8qKlxyXG4gKiBEZXRlY3QgUmVhY3QgTmF0aXZlLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIFJlYWN0TmF0aXZlIGVudmlyb25tZW50IGlzIGRldGVjdGVkLlxyXG4gKi9cclxudmFyIGlzUmVhY3ROYXRpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvclsncHJvZHVjdCddID09PSAnUmVhY3ROYXRpdmUnKTtcclxufTtcclxuLyoqXHJcbiAqIERldGVjdCBOb2RlLmpzLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIE5vZGUuanMgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQuXHJcbiAqL1xyXG52YXIgaXNOb2RlU2RrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIENPTlNUQU5UUy5OT0RFX0NMSUVOVCA9PT0gdHJ1ZSB8fCBDT05TVEFOVFMuTk9ERV9BRE1JTiA9PT0gdHJ1ZTtcclxufTtcblxudmFyIEVSUk9SX05BTUUgPSAnRmlyZWJhc2VFcnJvcic7XHJcbnZhciBjYXB0dXJlU3RhY2tUcmFjZSA9IEVycm9yXHJcbiAgICAuY2FwdHVyZVN0YWNrVHJhY2U7XHJcbi8vIEV4cG9ydCBmb3IgZmFraW5nIGluIHRlc3RzXHJcbmZ1bmN0aW9uIHBhdGNoQ2FwdHVyZShjYXB0dXJlRmFrZSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IGNhcHR1cmVTdGFja1RyYWNlO1xyXG4gICAgY2FwdHVyZVN0YWNrVHJhY2UgPSBjYXB0dXJlRmFrZTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxudmFyIEZpcmViYXNlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBGaXJlYmFzZUVycm9yKGNvZGUsIG1lc3NhZ2UpIHtcclxuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgLy8gV2Ugd2FudCB0aGUgc3RhY2sgdmFsdWUsIGlmIGltcGxlbWVudGVkIGJ5IEVycm9yXHJcbiAgICAgICAgaWYgKGNhcHR1cmVTdGFja1RyYWNlKSB7XHJcbiAgICAgICAgICAgIC8vIFBhdGNoZXMgdGhpcy5zdGFjaywgb21pdHRlZCBjYWxscyBhYm92ZSBFcnJvckZhY3RvcnkjY3JlYXRlXHJcbiAgICAgICAgICAgIGNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEVycm9yRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJbiBjYXNlIG9mIElFMTEsIHN0YWNrIHdpbGwgYmUgc2V0IG9ubHkgYWZ0ZXIgZXJyb3IgaXMgcmFpc2VkLlxyXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvc2NyaXB0aW5nL2phdmFzY3JpcHQvcmVmZXJlbmNlL3N0YWNrLXByb3BlcnR5LWVycm9yLWphdmFzY3JpcHRcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gRVJST1JfTkFNRTtcclxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugbm9uLWVudW1lcmFibGUgZ2V0dGVyIGZvciB0aGUgcHJvcGVydHkuXHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3N0YWNrJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyLnN0YWNrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIEZpcmViYXNlRXJyb3I7XHJcbn0oKSk7XHJcbi8vIEJhY2stZG9vciBpbmhlcml0YW5jZVxyXG5GaXJlYmFzZUVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcclxuRmlyZWJhc2VFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGaXJlYmFzZUVycm9yO1xyXG5GaXJlYmFzZUVycm9yLnByb3RvdHlwZS5uYW1lID0gRVJST1JfTkFNRTtcclxudmFyIEVycm9yRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEVycm9yRmFjdG9yeShzZXJ2aWNlLCBzZXJ2aWNlTmFtZSwgZXJyb3JzKSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcclxuICAgICAgICB0aGlzLnNlcnZpY2VOYW1lID0gc2VydmljZU5hbWU7XHJcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XHJcbiAgICAgICAgLy8gTWF0Y2hlcyB7JG5hbWV9LCBieSBkZWZhdWx0LlxyXG4gICAgICAgIHRoaXMucGF0dGVybiA9IC9cXHtcXCQoW159XSspfS9nO1xyXG4gICAgICAgIC8vIGVtcHR5XHJcbiAgICB9XHJcbiAgICBFcnJvckZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChjb2RlLCBkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuZXJyb3JzW2NvZGVdO1xyXG4gICAgICAgIHZhciBmdWxsQ29kZSA9IHRoaXMuc2VydmljZSArICcvJyArIGNvZGU7XHJcbiAgICAgICAgdmFyIG1lc3NhZ2U7XHJcbiAgICAgICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbWVzc2FnZSA9ICdFcnJvcic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gdGVtcGxhdGUucmVwbGFjZSh0aGlzLnBhdHRlcm4sIGZ1bmN0aW9uIChtYXRjaCwga2V5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBkYXRhW2tleV07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlLnRvU3RyaW5nKCkgOiAnPCcgKyBrZXkgKyAnPz4nO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2VydmljZTogRXJyb3IgbWVzc2FnZSAoc2VydmljZS9jb2RlKS5cclxuICAgICAgICBtZXNzYWdlID0gdGhpcy5zZXJ2aWNlTmFtZSArICc6ICcgKyBtZXNzYWdlICsgJyAoJyArIGZ1bGxDb2RlICsgJykuJztcclxuICAgICAgICB2YXIgZXJyID0gbmV3IEZpcmViYXNlRXJyb3IoZnVsbENvZGUsIG1lc3NhZ2UpO1xyXG4gICAgICAgIC8vIFBvcHVsYXRlIHRoZSBFcnJvciBvYmplY3Qgd2l0aCBtZXNzYWdlIHBhcnRzIGZvciBwcm9ncmFtbWF0aWNcclxuICAgICAgICAvLyBhY2Nlc3NlcyAoZS5nLiwgZS5maWxlKS5cclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KHByb3ApIHx8IHByb3Auc2xpY2UoLTEpID09PSAnXycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVycltwcm9wXSA9IGRhdGFbcHJvcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlcnI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEVycm9yRmFjdG9yeTtcclxufSgpKTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBFdmFsdWF0ZXMgYSBKU09OIHN0cmluZyBpbnRvIGEgamF2YXNjcmlwdCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgQSBzdHJpbmcgY29udGFpbmluZyBKU09OLlxyXG4gKiBAcmV0dXJuIHsqfSBUaGUgamF2YXNjcmlwdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzcGVjaWZpZWQgSlNPTi5cclxuICovXHJcbmZ1bmN0aW9uIGpzb25FdmFsKHN0cikge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBKU09OIHJlcHJlc2VudGluZyBhIGphdmFzY3JpcHQgb2JqZWN0LlxyXG4gKiBAcGFyYW0geyp9IGRhdGEgSmF2YXNjcmlwdCBvYmplY3QgdG8gYmUgc3RyaW5naWZpZWQuXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIEpTT04gY29udGVudHMgb2YgdGhlIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeShkYXRhKSB7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gaW50byBjb25zdGl0dWVudCBwYXJ0cy5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiB3aXRoIGludmFsaWQgLyBpbmNvbXBsZXRlIGNsYWltcyBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICpcclxuICogQHBhcmFtIHs/c3RyaW5nfSB0b2tlblxyXG4gKiBAcmV0dXJuIHt7aGVhZGVyOiAqLCBjbGFpbXM6ICosIGRhdGE6ICosIHNpZ25hdHVyZTogc3RyaW5nfX1cclxuICovXHJcbnZhciBkZWNvZGUgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBoZWFkZXIgPSB7fSwgY2xhaW1zID0ge30sIGRhdGEgPSB7fSwgc2lnbmF0dXJlID0gJyc7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgaGVhZGVyID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzBdKSB8fCAnJyk7XHJcbiAgICAgICAgY2xhaW1zID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzFdKSB8fCAnJyk7XHJcbiAgICAgICAgc2lnbmF0dXJlID0gcGFydHNbMl07XHJcbiAgICAgICAgZGF0YSA9IGNsYWltc1snZCddIHx8IHt9O1xyXG4gICAgICAgIGRlbGV0ZSBjbGFpbXNbJ2QnXTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyOiBoZWFkZXIsXHJcbiAgICAgICAgY2xhaW1zOiBjbGFpbXMsXHJcbiAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZVxyXG4gICAgfTtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgdGltZS1iYXNlZCBjbGFpbXMuIFdpbGwgcmV0dXJuIHRydWUgaWYgdGhlXHJcbiAqIHRva2VuIGlzIHdpdGhpbiB0aGUgdGltZSB3aW5kb3cgYXV0aG9yaXplZCBieSB0aGUgJ25iZicgKG5vdC1iZWZvcmUpIGFuZCAnaWF0JyAoaXNzdWVkLWF0KSBjbGFpbXMuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICpcclxuICogQHBhcmFtIHs/c3RyaW5nfSB0b2tlblxyXG4gKiBAcmV0dXJuIHtib29sZWFufVxyXG4gKi9cclxudmFyIGlzVmFsaWRUaW1lc3RhbXAgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcywgbm93ID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLCB2YWxpZFNpbmNlLCB2YWxpZFVudGlsO1xyXG4gICAgaWYgKHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnbmJmJykpIHtcclxuICAgICAgICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snbmJmJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0JykpIHtcclxuICAgICAgICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snaWF0J107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2V4cCcpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkVW50aWwgPSBjbGFpbXNbJ2V4cCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG9rZW4gd2lsbCBleHBpcmUgYWZ0ZXIgMjRoIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgdmFsaWRVbnRpbCA9IHZhbGlkU2luY2UgKyA4NjQwMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKG5vdyAmJiB2YWxpZFNpbmNlICYmIHZhbGlkVW50aWwgJiYgbm93ID49IHZhbGlkU2luY2UgJiYgbm93IDw9IHZhbGlkVW50aWwpO1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCByZXR1cm5zIGl0cyBpc3N1ZWQgYXQgdGltZSBpZiB2YWxpZCwgbnVsbCBvdGhlcndpc2UuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gbnVsbCBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICpcclxuICogQHBhcmFtIHs/c3RyaW5nfSB0b2tlblxyXG4gKiBAcmV0dXJuIHs/bnVtYmVyfVxyXG4gKi9cclxudmFyIGlzc3VlZEF0VGltZSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgdmFyIGNsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xyXG4gICAgaWYgKHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0JykpIHtcclxuICAgICAgICByZXR1cm4gY2xhaW1zWydpYXQnXTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCBjaGVja3MgdGhlIHZhbGlkaXR5IG9mIGl0cyBmb3JtYXQuIEV4cGVjdHMgYSB2YWxpZCBpc3N1ZWQtYXQgdGltZSBhbmQgbm9uLWVtcHR5XHJcbiAqIHNpZ25hdHVyZS5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKlxyXG4gKiBAcGFyYW0gez9zdHJpbmd9IHRva2VuXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAqL1xyXG52YXIgaXNWYWxpZEZvcm1hdCA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgdmFyIGRlY29kZWQgPSBkZWNvZGUodG9rZW4pLCBjbGFpbXMgPSBkZWNvZGVkLmNsYWltcztcclxuICAgIHJldHVybiAoISFkZWNvZGVkLnNpZ25hdHVyZSAmJlxyXG4gICAgICAgICEhY2xhaW1zICYmXHJcbiAgICAgICAgdHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiZcclxuICAgICAgICBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKTtcclxufTtcclxuLyoqXHJcbiAqIEF0dGVtcHRzIHRvIHBlZXIgaW50byBhbiBhdXRoIHRva2VuIGFuZCBkZXRlcm1pbmUgaWYgaXQncyBhbiBhZG1pbiBhdXRoIHRva2VuIGJ5IGxvb2tpbmcgYXQgdGhlIGNsYWltcyBwb3J0aW9uLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7P3N0cmluZ30gdG9rZW5cclxuICogQHJldHVybiB7Ym9vbGVhbn1cclxuICovXHJcbnZhciBpc0FkbWluID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICB2YXIgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICByZXR1cm4gdHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zWydhZG1pbiddID09PSB0cnVlO1xyXG59O1xuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLy8gU2VlIGh0dHA6Ly93d3cuZGV2dGhvdWdodC5jb20vMjAxMi8wMS8xOC9hbi1vYmplY3QtaXMtbm90LWEtaGFzaC9cclxudmFyIGNvbnRhaW5zID0gZnVuY3Rpb24gKG9iaiwga2V5KSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcclxufTtcclxudmFyIHNhZmVHZXQgPSBmdW5jdGlvbiAob2JqLCBrZXkpIHtcclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKVxyXG4gICAgICAgIHJldHVybiBvYmpba2V5XTtcclxuICAgIC8vIGVsc2UgcmV0dXJuIHVuZGVmaW5lZC5cclxufTtcclxuLyoqXHJcbiAqIEVudW1lcmF0ZXMgdGhlIGtleXMvdmFsdWVzIGluIGFuIG9iamVjdCwgZXhjbHVkaW5nIGtleXMgZGVmaW5lZCBvbiB0aGUgcHJvdG90eXBlLlxyXG4gKlxyXG4gKiBAcGFyYW0gez9PYmplY3QuPEssVj59IG9iaiBPYmplY3QgdG8gZW51bWVyYXRlLlxyXG4gKiBAcGFyYW0geyFmdW5jdGlvbihLLCBWKX0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBrZXkgYW5kIHZhbHVlLlxyXG4gKiBAdGVtcGxhdGUgSyxWXHJcbiAqL1xyXG52YXIgZm9yRWFjaCA9IGZ1bmN0aW9uIChvYmosIGZuKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgZm4oa2V5LCBvYmpba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQ29waWVzIGFsbCB0aGUgKG93bikgcHJvcGVydGllcyBmcm9tIG9uZSBvYmplY3QgdG8gYW5vdGhlci5cclxuICogQHBhcmFtIHshT2JqZWN0fSBvYmpUb1xyXG4gKiBAcGFyYW0geyFPYmplY3R9IG9iakZyb21cclxuICogQHJldHVybiB7IU9iamVjdH0gb2JqVG9cclxuICovXHJcbnZhciBleHRlbmQgPSBmdW5jdGlvbiAob2JqVG8sIG9iakZyb20pIHtcclxuICAgIGZvckVhY2gob2JqRnJvbSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBvYmpUb1trZXldID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBvYmpUbztcclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgc3BlY2lmaWVkIG9iamVjdC5cclxuICogQHBhcmFtIHshT2JqZWN0fSBvYmpcclxuICogQHJldHVybiB7IU9iamVjdH0gY2xvbmVkIG9iai5cclxuICovXHJcbnZhciBjbG9uZSA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHJldHVybiBleHRlbmQoe30sIG9iaik7XHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqIGhhcyB0eXBlb2YgXCJvYmplY3RcIiBhbmQgaXMgbm90IG51bGwuICBVbmxpa2UgZ29vZy5pc09iamVjdCgpLCBkb2VzIG5vdCByZXR1cm4gdHJ1ZVxyXG4gKiBmb3IgZnVuY3Rpb25zLlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqIHsqfSBBIHBvdGVudGlhbCBvYmplY3QuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGl0J3MgYW4gb2JqZWN0LlxyXG4gKi9cclxudmFyIGlzTm9uTnVsbE9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGw7XHJcbn07XHJcbnZhciBpc0VtcHR5ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xyXG52YXIgZ2V0Q291bnQgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICB2YXIgcnYgPSAwO1xyXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgIHJ2Kys7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcnY7XHJcbn07XHJcbnZhciBtYXAgPSBmdW5jdGlvbiAob2JqLCBmLCBvcHRfb2JqKSB7XHJcbiAgICB2YXIgcmVzID0ge307XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgcmVzW2tleV0gPSBmLmNhbGwob3B0X29iaiwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcbnZhciBmaW5kS2V5ID0gZnVuY3Rpb24gKG9iaiwgZm4sIG9wdF90aGlzKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKGZuLmNhbGwob3B0X3RoaXMsIG9ialtrZXldLCBrZXksIG9iaikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG59O1xyXG52YXIgZmluZFZhbHVlID0gZnVuY3Rpb24gKG9iaiwgZm4sIG9wdF90aGlzKSB7XHJcbiAgICB2YXIga2V5ID0gZmluZEtleShvYmosIGZuLCBvcHRfdGhpcyk7XHJcbiAgICByZXR1cm4ga2V5ICYmIG9ialtrZXldO1xyXG59O1xyXG52YXIgZ2V0QW55S2V5ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgIHJldHVybiBrZXk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBnZXRWYWx1ZXMgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICB2YXIgcmVzID0gW107XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgcmVzW2krK10gPSBvYmpba2V5XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcbi8qKlxyXG4gKiBUZXN0cyB3aGV0aGVyIGV2ZXJ5IGtleS92YWx1ZSBwYWlyIGluIGFuIG9iamVjdCBwYXNzIHRoZSB0ZXN0IGltcGxlbWVudGVkXHJcbiAqIGJ5IHRoZSBwcm92aWRlZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0gez9PYmplY3QuPEssVj59IG9iaiBPYmplY3QgdG8gdGVzdC5cclxuICogQHBhcmFtIHshZnVuY3Rpb24oSywgVil9IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2gga2V5IGFuZCB2YWx1ZS5cclxuICogQHRlbXBsYXRlIEssVlxyXG4gKi9cclxudmFyIGV2ZXJ5ID0gZnVuY3Rpb24gKG9iaiwgZm4pIHtcclxuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgICBpZiAoIWZuKGtleSwgb2JqW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVlcnlzdHJpbmctZm9ybWF0dGVkIHN0cmluZyAoZS5nLiAmYXJnPXZhbCZhcmcyPXZhbDIpIGZyb20gYSBwYXJhbXNcclxuICogb2JqZWN0IChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxyXG4gKiBOb3RlOiBZb3UgbXVzdCBwcmVwZW5kIGl0IHdpdGggPyB3aGVuIGFkZGluZyBpdCB0byBhIFVSTC5cclxuICpcclxuICogQHBhcmFtIHshT2JqZWN0fSBxdWVyeXN0cmluZ1BhcmFtc1xyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAqL1xyXG52YXIgcXVlcnlzdHJpbmcgPSBmdW5jdGlvbiAocXVlcnlzdHJpbmdQYXJhbXMpIHtcclxuICAgIHZhciBwYXJhbXMgPSBbXTtcclxuICAgIGZvckVhY2gocXVlcnlzdHJpbmdQYXJhbXMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGFycmF5VmFsKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChhcnJheVZhbCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcGFyYW1zLmxlbmd0aCA/ICcmJyArIHBhcmFtcy5qb2luKCcmJykgOiAnJztcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBxdWVyeXN0cmluZyAoZS5nLiA/YXJnPXZhbCZhcmcyPXZhbDIpIGludG8gYSBwYXJhbXMgb2JqZWN0IChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlzdHJpbmdcclxuICogQHJldHVybiB7IU9iamVjdH1cclxuICovXHJcbnZhciBxdWVyeXN0cmluZ0RlY29kZSA9IGZ1bmN0aW9uIChxdWVyeXN0cmluZykge1xyXG4gICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgdmFyIHRva2VucyA9IHF1ZXJ5c3RyaW5nLnJlcGxhY2UoL15cXD8vLCAnJykuc3BsaXQoJyYnKTtcclxuICAgIHRva2Vucy5mb3JFYWNoKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gdG9rZW4uc3BsaXQoJz0nKTtcclxuICAgICAgICAgICAgb2JqW2tleVswXV0gPSBrZXlbMV07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gb2JqO1xyXG59O1xuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLy8gQ29weXJpZ2h0IDIwMTEgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4vL1xyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4vL1xyXG4vLyAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4vL1xyXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcclxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IEFic3RyYWN0IGNyeXB0b2dyYXBoaWMgaGFzaCBpbnRlcmZhY2UuXHJcbiAqXHJcbiAqIFNlZSBTaGExIGFuZCBNZDUgZm9yIHNhbXBsZSBpbXBsZW1lbnRhdGlvbnMuXHJcbiAqXHJcbiAqL1xyXG4vKipcclxuICogQ3JlYXRlIGEgY3J5cHRvZ3JhcGhpYyBoYXNoIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHN0cnVjdFxyXG4gKi9cclxudmFyIEhhc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIYXNoKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBibG9jayBzaXplIGZvciB0aGUgaGFzaGVyLlxyXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSAtMTtcclxuICAgIH1cclxuICAgIHJldHVybiBIYXNoO1xyXG59KCkpO1xuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgU0hBLTEgY3J5cHRvZ3JhcGhpYyBoYXNoLlxyXG4gKiBWYXJpYWJsZSBuYW1lcyBmb2xsb3cgdGhlIG5vdGF0aW9uIGluIEZJUFMgUFVCIDE4MC0zOlxyXG4gKiBodHRwOi8vY3NyYy5uaXN0Lmdvdi9wdWJsaWNhdGlvbnMvZmlwcy9maXBzMTgwLTMvZmlwczE4MC0zX2ZpbmFsLnBkZi5cclxuICpcclxuICogVXNhZ2U6XHJcbiAqICAgdmFyIHNoYTEgPSBuZXcgc2hhMSgpO1xyXG4gKiAgIHNoYTEudXBkYXRlKGJ5dGVzKTtcclxuICogICB2YXIgaGFzaCA9IHNoYTEuZGlnZXN0KCk7XHJcbiAqXHJcbiAqIFBlcmZvcm1hbmNlOlxyXG4gKiAgIENocm9tZSAyMzogICB+NDAwIE1iaXQvc1xyXG4gKiAgIEZpcmVmb3ggMTY6ICB+MjUwIE1iaXQvc1xyXG4gKlxyXG4gKi9cclxuLyoqXHJcbiAqIFNIQS0xIGNyeXB0b2dyYXBoaWMgaGFzaCBjb25zdHJ1Y3Rvci5cclxuICpcclxuICogVGhlIHByb3BlcnRpZXMgZGVjbGFyZWQgaGVyZSBhcmUgZGlzY3Vzc2VkIGluIHRoZSBhYm92ZSBhbGdvcml0aG0gZG9jdW1lbnQuXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyB7SGFzaH1cclxuICogQGZpbmFsXHJcbiAqIEBzdHJ1Y3RcclxuICovXHJcbnZhciBTaGExID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2hhMSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNoYTEoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIb2xkcyB0aGUgcHJldmlvdXMgdmFsdWVzIG9mIGFjY3VtdWxhdGVkIHZhcmlhYmxlcyBhLWUgaW4gdGhlIGNvbXByZXNzX1xyXG4gICAgICAgICAqIGZ1bmN0aW9uLlxyXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8bnVtYmVyPn1cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF90aGlzLmNoYWluXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgYnVmZmVyIGhvbGRpbmcgdGhlIHBhcnRpYWxseSBjb21wdXRlZCBoYXNoIHJlc3VsdC5cclxuICAgICAgICAgKiBAdHlwZSB7IUFycmF5PG51bWJlcj59XHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBfdGhpcy5idWZfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW4gYXJyYXkgb2YgODAgYnl0ZXMsIGVhY2ggYSBwYXJ0IG9mIHRoZSBtZXNzYWdlIHRvIGJlIGhhc2hlZC4gIFJlZmVycmVkIHRvXHJcbiAgICAgICAgICogYXMgdGhlIG1lc3NhZ2Ugc2NoZWR1bGUgaW4gdGhlIGRvY3MuXHJcbiAgICAgICAgICogQHR5cGUgeyFBcnJheTxudW1iZXI+fVxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX3RoaXMuV18gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb250YWlucyBkYXRhIG5lZWRlZCB0byBwYWQgbWVzc2FnZXMgbGVzcyB0aGFuIDY0IGJ5dGVzLlxyXG4gICAgICAgICAqIEB0eXBlIHshQXJyYXk8bnVtYmVyPn1cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF90aGlzLnBhZF8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF90aGlzLmluYnVmXyA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHByaXZhdGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBfdGhpcy50b3RhbF8gPSAwO1xyXG4gICAgICAgIF90aGlzLmJsb2NrU2l6ZSA9IDUxMiAvIDg7XHJcbiAgICAgICAgX3RoaXMucGFkX1swXSA9IDEyODtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IF90aGlzLmJsb2NrU2l6ZTsgKytpKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhZF9baV0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5yZXNldCgpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFNoYTEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzBdID0gMHg2NzQ1MjMwMTtcclxuICAgICAgICB0aGlzLmNoYWluX1sxXSA9IDB4ZWZjZGFiODk7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMl0gPSAweDk4YmFkY2ZlO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzNdID0gMHgxMDMyNTQ3NjtcclxuICAgICAgICB0aGlzLmNoYWluX1s0XSA9IDB4YzNkMmUxZjA7XHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWxfID0gMDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIGNvbXByZXNzIGhlbHBlciBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSB7IUFycmF5PG51bWJlcj58IVVpbnQ4QXJyYXl8c3RyaW5nfSBidWYgQmxvY2sgdG8gY29tcHJlc3MuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9vZmZzZXQgT2Zmc2V0IG9mIHRoZSBibG9jayBpbiB0aGUgYnVmZmVyLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgU2hhMS5wcm90b3R5cGUuY29tcHJlc3NfID0gZnVuY3Rpb24gKGJ1Ziwgb3B0X29mZnNldCkge1xyXG4gICAgICAgIGlmICghb3B0X29mZnNldCkge1xyXG4gICAgICAgICAgICBvcHRfb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIFcgPSB0aGlzLldfO1xyXG4gICAgICAgIC8vIGdldCAxNiBiaWcgZW5kaWFuIHdvcmRzXHJcbiAgICAgICAgaWYgKHR5cGVvZiBidWYgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyh1c2VyKTogW2J1ZyA4MTQwMTIyXSBSZWNlbnQgdmVyc2lvbnMgb2YgU2FmYXJpIGZvciBNYWMgT1MgYW5kIGlPU1xyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGJ1ZyB0aGF0IHR1cm5zIHRoZSBwb3N0LWluY3JlbWVudCArKyBvcGVyYXRvciBpbnRvIHByZS1pbmNyZW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIGR1cmluZyBKSVQgY29tcGlsYXRpb24uICBXZSBoYXZlIGNvZGUgdGhhdCBkZXBlbmRzIGhlYXZpbHkgb24gU0hBLTEgZm9yXHJcbiAgICAgICAgICAgICAgICAvLyBjb3JyZWN0bmVzcyBhbmQgd2hpY2ggaXMgYWZmZWN0ZWQgYnkgdGhpcyBidWcsIHNvIEkndmUgcmVtb3ZlZCBhbGwgdXNlc1xyXG4gICAgICAgICAgICAgICAgLy8gb2YgcG9zdC1pbmNyZW1lbnQgKysgaW4gd2hpY2ggdGhlIHJlc3VsdCB2YWx1ZSBpcyB1c2VkLiAgV2UgY2FuIHJldmVydFxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjaGFuZ2Ugb25jZSB0aGUgU2FmYXJpIGJ1Z1xyXG4gICAgICAgICAgICAgICAgLy8gKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDkwMzYpIGhhcyBiZWVuIGZpeGVkIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBjbGllbnRzIGhhdmUgYmVlbiB1cGRhdGVkLlxyXG4gICAgICAgICAgICAgICAgV1tpXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9wdF9vZmZzZXQpIDw8IDI0KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWYuY2hhckNvZGVBdChvcHRfb2Zmc2V0ICsgMSkgPDwgMTYpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9wdF9vZmZzZXQgKyAyKSA8PCA4KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Zi5jaGFyQ29kZUF0KG9wdF9vZmZzZXQgKyAzKTtcclxuICAgICAgICAgICAgICAgIG9wdF9vZmZzZXQgKz0gNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBXW2ldID1cclxuICAgICAgICAgICAgICAgICAgICAoYnVmW29wdF9vZmZzZXRdIDw8IDI0KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWZbb3B0X29mZnNldCArIDFdIDw8IDE2KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWZbb3B0X29mZnNldCArIDJdIDw8IDgpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmW29wdF9vZmZzZXQgKyAzXTtcclxuICAgICAgICAgICAgICAgIG9wdF9vZmZzZXQgKz0gNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBleHBhbmQgdG8gODAgd29yZHNcclxuICAgICAgICBmb3IgKHZhciBpID0gMTY7IGkgPCA4MDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gV1tpIC0gM10gXiBXW2kgLSA4XSBeIFdbaSAtIDE0XSBeIFdbaSAtIDE2XTtcclxuICAgICAgICAgICAgV1tpXSA9ICgodCA8PCAxKSB8ICh0ID4+PiAzMSkpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGEgPSB0aGlzLmNoYWluX1swXTtcclxuICAgICAgICB2YXIgYiA9IHRoaXMuY2hhaW5fWzFdO1xyXG4gICAgICAgIHZhciBjID0gdGhpcy5jaGFpbl9bMl07XHJcbiAgICAgICAgdmFyIGQgPSB0aGlzLmNoYWluX1szXTtcclxuICAgICAgICB2YXIgZSA9IHRoaXMuY2hhaW5fWzRdO1xyXG4gICAgICAgIHZhciBmLCBrO1xyXG4gICAgICAgIC8vIFRPRE8odXNlcik6IFRyeSB0byB1bnJvbGwgdGhpcyBsb29wIHRvIHNwZWVkIHVwIHRoZSBjb21wdXRhdGlvbi5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDgwOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgPCA0MCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCAyMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBkIF4gKGIgJiAoYyBeIGQpKTtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg1YTgyNzk5OTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBiIF4gYyBeIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4NmVkOWViYTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IChiICYgYykgfCAoZCAmIChiIHwgYykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDhmMWJiY2RjO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHhjYTYyYzFkNjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdCA9ICgoKGEgPDwgNSkgfCAoYSA+Pj4gMjcpKSArIGYgKyBlICsgayArIFdbaV0pICYgMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgZSA9IGQ7XHJcbiAgICAgICAgICAgIGQgPSBjO1xyXG4gICAgICAgICAgICBjID0gKChiIDw8IDMwKSB8IChiID4+PiAyKSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBiID0gYTtcclxuICAgICAgICAgICAgYSA9IHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hhaW5fWzBdID0gKHRoaXMuY2hhaW5fWzBdICsgYSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzFdID0gKHRoaXMuY2hhaW5fWzFdICsgYikgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzJdID0gKHRoaXMuY2hhaW5fWzJdICsgYykgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzNdID0gKHRoaXMuY2hhaW5fWzNdICsgZCkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzRdID0gKHRoaXMuY2hhaW5fWzRdICsgZSkgJiAweGZmZmZmZmZmO1xyXG4gICAgfTtcclxuICAgIFNoYTEucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChieXRlcywgb3B0X2xlbmd0aCkge1xyXG4gICAgICAgIC8vIFRPRE8oam9obmxlbnopOiB0aWdodGVuIHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgYW5kIHJlbW92ZSB0aGlzIGNoZWNrXHJcbiAgICAgICAgaWYgKGJ5dGVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0X2xlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9wdF9sZW5ndGggPSBieXRlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsZW5ndGhNaW51c0Jsb2NrID0gb3B0X2xlbmd0aCAtIHRoaXMuYmxvY2tTaXplO1xyXG4gICAgICAgIHZhciBuID0gMDtcclxuICAgICAgICAvLyBVc2luZyBsb2NhbCBpbnN0ZWFkIG9mIG1lbWJlciB2YXJpYWJsZXMgZ2l2ZXMgfjUlIHNwZWVkdXAgb24gRmlyZWZveCAxNi5cclxuICAgICAgICB2YXIgYnVmID0gdGhpcy5idWZfO1xyXG4gICAgICAgIHZhciBpbmJ1ZiA9IHRoaXMuaW5idWZfO1xyXG4gICAgICAgIC8vIFRoZSBvdXRlciB3aGlsZSBsb29wIHNob3VsZCBleGVjdXRlIGF0IG1vc3QgdHdpY2UuXHJcbiAgICAgICAgd2hpbGUgKG4gPCBvcHRfbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgaGF2ZSBubyBkYXRhIGluIHRoZSBibG9jayB0byB0b3AgdXAsIHdlIGNhbiBkaXJlY3RseSBwcm9jZXNzIHRoZVxyXG4gICAgICAgICAgICAvLyBpbnB1dCBidWZmZXIgKGFzc3VtaW5nIGl0IGNvbnRhaW5zIHN1ZmZpY2llbnQgZGF0YSkuIFRoaXMgZ2l2ZXMgfjI1JVxyXG4gICAgICAgICAgICAvLyBzcGVlZHVwIG9uIENocm9tZSAyMyBhbmQgfjE1JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYsIGJ1dCByZXF1aXJlcyB0aGF0XHJcbiAgICAgICAgICAgIC8vIHRoZSBkYXRhIGlzIHByb3ZpZGVkIGluIGxhcmdlIGNodW5rcyAob3IgaW4gbXVsdGlwbGVzIG9mIDY0IGJ5dGVzKS5cclxuICAgICAgICAgICAgaWYgKGluYnVmID09IDApIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDw9IGxlbmd0aE1pbnVzQmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhieXRlcywgbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbiArPSB0aGlzLmJsb2NrU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPCBvcHRfbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzLmNoYXJDb2RlQXQobik7XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09IHRoaXMuYmxvY2tTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ1Zik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluYnVmID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVtcCB0byB0aGUgb3V0ZXIgbG9vcCBzbyB3ZSB1c2UgdGhlIGZ1bGwtYmxvY2sgb3B0aW1pemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8IG9wdF9sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZbaW5idWZdID0gYnl0ZXNbbl07XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09IHRoaXMuYmxvY2tTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ1Zik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluYnVmID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSnVtcCB0byB0aGUgb3V0ZXIgbG9vcCBzbyB3ZSB1c2UgdGhlIGZ1bGwtYmxvY2sgb3B0aW1pemF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSBpbmJ1ZjtcclxuICAgICAgICB0aGlzLnRvdGFsXyArPSBvcHRfbGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIFNoYTEucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZGlnZXN0ID0gW107XHJcbiAgICAgICAgdmFyIHRvdGFsQml0cyA9IHRoaXMudG90YWxfICogODtcclxuICAgICAgICAvLyBBZGQgcGFkIDB4ODAgMHgwMCouXHJcbiAgICAgICAgaWYgKHRoaXMuaW5idWZfIDwgNTYpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWRfLCA1NiAtIHRoaXMuaW5idWZfKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFkXywgdGhpcy5ibG9ja1NpemUgLSAodGhpcy5pbmJ1Zl8gLSA1NikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgIyBiaXRzLlxyXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmJsb2NrU2l6ZSAtIDE7IGkgPj0gNTY7IGktLSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ1Zl9baV0gPSB0b3RhbEJpdHMgJiAyNTU7XHJcbiAgICAgICAgICAgIHRvdGFsQml0cyAvPSAyNTY7IC8vIERvbid0IHVzZSBiaXQtc2hpZnRpbmcgaGVyZSFcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb21wcmVzc18odGhpcy5idWZfKTtcclxuICAgICAgICB2YXIgbiA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDI0OyBqID49IDA7IGogLT0gOCkge1xyXG4gICAgICAgICAgICAgICAgZGlnZXN0W25dID0gKHRoaXMuY2hhaW5fW2ldID4+IGopICYgMjU1O1xyXG4gICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaWdlc3Q7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNoYTE7XHJcbn0oSGFzaCkpO1xuXG4vKipcclxuICogSGVscGVyIHRvIG1ha2UgYSBTdWJzY3JpYmUgZnVuY3Rpb24gKGp1c3QgbGlrZSBQcm9taXNlIGhlbHBzIG1ha2UgYVxyXG4gKiBUaGVuYWJsZSkuXHJcbiAqXHJcbiAqIEBwYXJhbSBleGVjdXRvciBGdW5jdGlvbiB3aGljaCBjYW4gbWFrZSBjYWxscyB0byBhIHNpbmdsZSBPYnNlcnZlclxyXG4gKiAgICAgYXMgYSBwcm94eS5cclxuICogQHBhcmFtIG9uTm9PYnNlcnZlcnMgQ2FsbGJhY2sgd2hlbiBjb3VudCBvZiBPYnNlcnZlcnMgZ29lcyB0byB6ZXJvLlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlU3Vic2NyaWJlKGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKSB7XHJcbiAgICB2YXIgcHJveHkgPSBuZXcgT2JzZXJ2ZXJQcm94eShleGVjdXRvciwgb25Ob09ic2VydmVycyk7XHJcbiAgICByZXR1cm4gcHJveHkuc3Vic2NyaWJlLmJpbmQocHJveHkpO1xyXG59XHJcbi8qKlxyXG4gKiBJbXBsZW1lbnQgZmFuLW91dCBmb3IgYW55IG51bWJlciBvZiBPYnNlcnZlcnMgYXR0YWNoZWQgdmlhIGEgc3Vic2NyaWJlXHJcbiAqIGZ1bmN0aW9uLlxyXG4gKi9cclxudmFyIE9ic2VydmVyUHJveHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBleGVjdXRvciBGdW5jdGlvbiB3aGljaCBjYW4gbWFrZSBjYWxscyB0byBhIHNpbmdsZSBPYnNlcnZlclxyXG4gICAgICogICAgIGFzIGEgcHJveHkuXHJcbiAgICAgKiBAcGFyYW0gb25Ob09ic2VydmVycyBDYWxsYmFjayB3aGVuIGNvdW50IG9mIE9ic2VydmVycyBnb2VzIHRvIHplcm8uXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIE9ic2VydmVyUHJveHkoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XHJcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZXMgPSBbXTtcclxuICAgICAgICB0aGlzLm9ic2VydmVyQ291bnQgPSAwO1xyXG4gICAgICAgIC8vIE1pY3JvLXRhc2sgc2NoZWR1bGluZyBieSBjYWxsaW5nIHRhc2sudGhlbigpLlxyXG4gICAgICAgIHRoaXMudGFzayA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIHRoaXMuZmluYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzID0gb25Ob09ic2VydmVycztcclxuICAgICAgICAvLyBDYWxsIHRoZSBleGVjdXRvciBhc3luY2hyb25vdXNseSBzbyBzdWJzY3JpYmVycyB0aGF0IGFyZSBjYWxsZWRcclxuICAgICAgICAvLyBzeW5jaHJvbm91c2x5IGFmdGVyIHRoZSBjcmVhdGlvbiBvZiB0aGUgc3Vic2NyaWJlIGZ1bmN0aW9uXHJcbiAgICAgICAgLy8gY2FuIHN0aWxsIHJlY2VpdmUgdGhlIHZlcnkgZmlyc3QgdmFsdWUgZ2VuZXJhdGVkIGluIHRoZSBleGVjdXRvci5cclxuICAgICAgICB0aGlzLnRhc2tcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBleGVjdXRvcihfdGhpcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmVycm9yKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZShlcnJvcik7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3Vic2NyaWJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIGFuIE9ic2VydmVyIHRvIHRoZSBmYW4tb3V0IGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogLSBXZSByZXF1aXJlIHRoYXQgbm8gZXZlbnQgaXMgc2VudCB0byBhIHN1YnNjcmliZXIgc3ljaHJvbm91c2x5IHRvIHRoZWlyXHJcbiAgICAgKiAgIGNhbGwgdG8gc3Vic2NyaWJlKCkuXHJcbiAgICAgKi9cclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgb2JzZXJ2ZXI7XHJcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyID09PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgZXJyb3IgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBjb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBPYnNlcnZlci4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXNzZW1ibGUgYW4gT2JzZXJ2ZXIgb2JqZWN0IHdoZW4gcGFzc2VkIGFzIGNhbGxiYWNrIGZ1bmN0aW9ucy5cclxuICAgICAgICBpZiAoaW1wbGVtZW50c0FueU1ldGhvZHMobmV4dE9yT2JzZXJ2ZXIsIFsnbmV4dCcsICdlcnJvcicsICdjb21wbGV0ZSddKSkge1xyXG4gICAgICAgICAgICBvYnNlcnZlciA9IG5leHRPck9ic2VydmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0OiBuZXh0T3JPYnNlcnZlcixcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIuZXJyb3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvciA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5jb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVuc3ViID0gdGhpcy51bnN1YnNjcmliZU9uZS5iaW5kKHRoaXMsIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgLy8gQXR0ZW1wdCB0byBzdWJzY3JpYmUgdG8gYSB0ZXJtaW5hdGVkIE9ic2VydmFibGUgLSB3ZVxyXG4gICAgICAgIC8vIGp1c3QgcmVzcG9uZCB0byB0aGUgT2JzZXJ2ZXIgd2l0aCB0aGUgZmluYWwgZXJyb3Igb3IgY29tcGxldGVcclxuICAgICAgICAvLyBldmVudC5cclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy50YXNrLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZmluYWxFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihfdGhpcy5maW5hbEVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcclxuICAgICAgICByZXR1cm4gdW5zdWI7XHJcbiAgICB9O1xyXG4gICAgLy8gVW5zdWJzY3JpYmUgaXMgc3luY2hyb25vdXMgLSB3ZSBndWFyYW50ZWUgdGhhdCBubyBldmVudHMgYXJlIHNlbnQgdG9cclxuICAgIC8vIGFueSB1bnN1YnNjcmliZWQgT2JzZXJ2ZXIuXHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS51bnN1YnNjcmliZU9uZSA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzID09PSB1bmRlZmluZWQgfHwgdGhpcy5vYnNlcnZlcnNbaV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tpXTtcclxuICAgICAgICB0aGlzLm9ic2VydmVyQ291bnQgLT0gMTtcclxuICAgICAgICBpZiAodGhpcy5vYnNlcnZlckNvdW50ID09PSAwICYmIHRoaXMub25Ob09ic2VydmVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Ob09ic2VydmVycyh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuZm9yRWFjaE9ic2VydmVyID0gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIEFscmVhZHkgY2xvc2VkIGJ5IHByZXZpb3VzIGV2ZW50Li4uLmp1c3QgZWF0IHRoZSBhZGRpdGlvbmFsIHZhbHVlcy5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTaW5jZSBzZW5kT25lIGNhbGxzIGFzeW5jaHJvbm91c2x5IC0gdGhlcmUgaXMgbm8gY2hhbmNlIHRoYXRcclxuICAgICAgICAvLyB0aGlzLm9ic2VydmVycyB3aWxsIGJlY29tZSB1bmRlZmluZWQuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRPbmUoaSwgZm4pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBDYWxsIHRoZSBPYnNlcnZlciB2aWEgb25lIG9mIGl0J3MgY2FsbGJhY2sgZnVuY3Rpb24uIFdlIGFyZSBjYXJlZnVsIHRvXHJcbiAgICAvLyBjb25maXJtIHRoYXQgdGhlIG9ic2VydmUgaGFzIG5vdCBiZWVuIHVuc3Vic2NyaWJlZCBzaW5jZSB0aGlzIGFzeW5jaHJvbm91c1xyXG4gICAgLy8gZnVuY3Rpb24gaGFkIGJlZW4gcXVldWVkLlxyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuc2VuZE9uZSA9IGZ1bmN0aW9uIChpLCBmbikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgY2FsbGJhY2sgYXN5bmNocm9ub3VzbHlcclxuICAgICAgICB0aGlzLnRhc2sudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5vYnNlcnZlcnMgIT09IHVuZGVmaW5lZCAmJiBfdGhpcy5vYnNlcnZlcnNbaV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBmbihfdGhpcy5vYnNlcnZlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXhjZXB0aW9ucyByYWlzZWQgaW4gT2JzZXJ2ZXJzIG9yIG1pc3NpbmcgbWV0aG9kcyBvZiBhblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ic2VydmVyLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZyBlcnJvciB0byBjb25zb2xlLiBiLzMxNDA0ODA2XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgaWYgKGVyciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmluYWxFcnJvciA9IGVycjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJveHkgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIGdhcmJhZ2UgY29sbGVjdCByZWZlcmVuY2VzXHJcbiAgICAgICAgdGhpcy50YXNrLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vYnNlcnZlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIF90aGlzLm9uTm9PYnNlcnZlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9ic2VydmVyUHJveHk7XHJcbn0oKSk7XHJcbi8qKiBUdXJuIHN5bmNocm9ub3VzIGZ1bmN0aW9uIGludG8gb25lIGNhbGxlZCBhc3luY2hyb25vdXNseS4gKi9cclxuZnVuY3Rpb24gYXN5bmMoZm4sIG9uRXJyb3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KHZvaWQgMCwgYXJncyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBvYmplY3QgcGFzc2VkIGluIGltcGxlbWVudHMgYW55IG9mIHRoZSBuYW1lZCBtZXRob2RzLlxyXG4gKi9cclxuZnVuY3Rpb24gaW1wbGVtZW50c0FueU1ldGhvZHMob2JqLCBtZXRob2RzKSB7XHJcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBtZXRob2RzXzEgPSBtZXRob2RzOyBfaSA8IG1ldGhvZHNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgbWV0aG9kID0gbWV0aG9kc18xW19pXTtcclxuICAgICAgICBpZiAobWV0aG9kIGluIG9iaiAmJiB0eXBlb2Ygb2JqW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIG5vb3AoKSB7XHJcbiAgICAvLyBkbyBub3RoaW5nXHJcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDaGVjayB0byBtYWtlIHN1cmUgdGhlIGFwcHJvcHJpYXRlIG51bWJlciBvZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIGZvciBhIHB1YmxpYyBmdW5jdGlvbi5cclxuICogVGhyb3dzIGFuIGVycm9yIGlmIGl0IGZhaWxzLlxyXG4gKlxyXG4gKiBAcGFyYW0geyFzdHJpbmd9IGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxyXG4gKiBAcGFyYW0geyFudW1iZXJ9IG1pbkNvdW50IFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgdG8gYWxsb3cgZm9yIHRoZSBmdW5jdGlvbiBjYWxsXHJcbiAqIEBwYXJhbSB7IW51bWJlcn0gbWF4Q291bnQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50IHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxyXG4gKiBAcGFyYW0geyFudW1iZXJ9IGFyZ0NvdW50IFRoZSBhY3R1YWwgbnVtYmVyIG9mIGFyZ3VtZW50cyBwcm92aWRlZC5cclxuICovXHJcbnZhciB2YWxpZGF0ZUFyZ0NvdW50ID0gZnVuY3Rpb24gKGZuTmFtZSwgbWluQ291bnQsIG1heENvdW50LCBhcmdDb3VudCkge1xyXG4gICAgdmFyIGFyZ0Vycm9yO1xyXG4gICAgaWYgKGFyZ0NvdW50IDwgbWluQ291bnQpIHtcclxuICAgICAgICBhcmdFcnJvciA9ICdhdCBsZWFzdCAnICsgbWluQ291bnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChhcmdDb3VudCA+IG1heENvdW50KSB7XHJcbiAgICAgICAgYXJnRXJyb3IgPSBtYXhDb3VudCA9PT0gMCA/ICdub25lJyA6ICdubyBtb3JlIHRoYW4gJyArIG1heENvdW50O1xyXG4gICAgfVxyXG4gICAgaWYgKGFyZ0Vycm9yKSB7XHJcbiAgICAgICAgdmFyIGVycm9yID0gZm5OYW1lICtcclxuICAgICAgICAgICAgJyBmYWlsZWQ6IFdhcyBjYWxsZWQgd2l0aCAnICtcclxuICAgICAgICAgICAgYXJnQ291bnQgK1xyXG4gICAgICAgICAgICAoYXJnQ291bnQgPT09IDEgPyAnIGFyZ3VtZW50LicgOiAnIGFyZ3VtZW50cy4nKSArXHJcbiAgICAgICAgICAgICcgRXhwZWN0cyAnICtcclxuICAgICAgICAgICAgYXJnRXJyb3IgK1xyXG4gICAgICAgICAgICAnLic7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHN0cmluZyB0byBwcmVmaXggYW4gZXJyb3IgbWVzc2FnZSBhYm91dCBmYWlsZWQgYXJndW1lbnQgdmFsaWRhdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0geyFzdHJpbmd9IGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxyXG4gKiBAcGFyYW0geyFudW1iZXJ9IGFyZ3VtZW50TnVtYmVyIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnRcclxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25hbCBXaGV0aGVyIG9yIG5vdCB0aGUgYXJndW1lbnQgaXMgb3B0aW9uYWxcclxuICogQHJldHVybiB7IXN0cmluZ30gVGhlIHByZWZpeCB0byBhZGQgdG8gdGhlIGVycm9yIHRocm93biBmb3IgdmFsaWRhdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGVycm9yUHJlZml4KGZuTmFtZSwgYXJndW1lbnROdW1iZXIsIG9wdGlvbmFsKSB7XHJcbiAgICB2YXIgYXJnTmFtZSA9ICcnO1xyXG4gICAgc3dpdGNoIChhcmd1bWVudE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgYXJnTmFtZSA9IG9wdGlvbmFsID8gJ2ZpcnN0JyA6ICdGaXJzdCc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgYXJnTmFtZSA9IG9wdGlvbmFsID8gJ3NlY29uZCcgOiAnU2Vjb25kJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICBhcmdOYW1lID0gb3B0aW9uYWwgPyAndGhpcmQnIDogJ1RoaXJkJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICBhcmdOYW1lID0gb3B0aW9uYWwgPyAnZm91cnRoJyA6ICdGb3VydGgnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Vycm9yUHJlZml4IGNhbGxlZCB3aXRoIGFyZ3VtZW50TnVtYmVyID4gNC4gIE5lZWQgdG8gdXBkYXRlIGl0PycpO1xyXG4gICAgfVxyXG4gICAgdmFyIGVycm9yID0gZm5OYW1lICsgJyBmYWlsZWQ6ICc7XHJcbiAgICBlcnJvciArPSBhcmdOYW1lICsgJyBhcmd1bWVudCAnO1xyXG4gICAgcmV0dXJuIGVycm9yO1xyXG59XHJcbi8qKlxyXG4gKiBAcGFyYW0geyFzdHJpbmd9IGZuTmFtZVxyXG4gKiBAcGFyYW0geyFudW1iZXJ9IGFyZ3VtZW50TnVtYmVyXHJcbiAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZXNwYWNlXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9uYWxcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlTmFtZXNwYWNlKGZuTmFtZSwgYXJndW1lbnROdW1iZXIsIG5hbWVzcGFjZSwgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhbmFtZXNwYWNlKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vVE9ETzogSSBzaG91bGQgZG8gbW9yZSB2YWxpZGF0aW9uIGhlcmUuIFdlIG9ubHkgYWxsb3cgY2VydGFpbiBjaGFycyBpbiBuYW1lc3BhY2VzLlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TnVtYmVyLCBvcHRpb25hbCkgK1xyXG4gICAgICAgICAgICAnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIG5hbWVzcGFjZS4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUNhbGxiYWNrKGZuTmFtZSwgYXJndW1lbnROdW1iZXIsIGNhbGxiYWNrLCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFjYWxsYmFjaylcclxuICAgICAgICByZXR1cm47XHJcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TnVtYmVyLCBvcHRpb25hbCkgK1xyXG4gICAgICAgICAgICAnbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLicpO1xyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ29udGV4dE9iamVjdChmbk5hbWUsIGFyZ3VtZW50TnVtYmVyLCBjb250ZXh0LCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFjb250ZXh0KVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGlmICh0eXBlb2YgY29udGV4dCAhPT0gJ29iamVjdCcgfHwgY29udGV4dCA9PT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE51bWJlciwgb3B0aW9uYWwpICtcclxuICAgICAgICAgICAgJ211c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC4nKTtcclxufVxuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLy8gQ29kZSBvcmlnaW5hbGx5IGNhbWUgZnJvbSBnb29nLmNyeXB0LnN0cmluZ1RvVXRmOEJ5dGVBcnJheSwgYnV0IGZvciBzb21lIHJlYXNvbiB0aGV5XHJcbi8vIGF1dG9tYXRpY2FsbHkgcmVwbGFjZWQgJ1xcclxcbicgd2l0aCAnXFxuJywgYW5kIHRoZXkgZGlkbid0IGhhbmRsZSBzdXJyb2dhdGUgcGFpcnMsXHJcbi8vIHNvIGl0J3MgYmVlbiBtb2RpZmllZC5cclxuLy8gTm90ZSB0aGF0IG5vdCBhbGwgVW5pY29kZSBjaGFyYWN0ZXJzIGFwcGVhciBhcyBzaW5nbGUgY2hhcmFjdGVycyBpbiBKYXZhU2NyaXB0IHN0cmluZ3MuXHJcbi8vIGZyb21DaGFyQ29kZSByZXR1cm5zIHRoZSBVVEYtMTYgZW5jb2Rpbmcgb2YgYSBjaGFyYWN0ZXIgLSBzbyBzb21lIFVuaWNvZGUgY2hhcmFjdGVyc1xyXG4vLyB1c2UgMiBjaGFyYWN0ZXJzIGluIEphdmFzY3JpcHQuICBBbGwgNC1ieXRlIFVURi04IGNoYXJhY3RlcnMgYmVnaW4gd2l0aCBhIGZpcnN0XHJcbi8vIGNoYXJhY3RlciBpbiB0aGUgcmFuZ2UgMHhEODAwIC0gMHhEQkZGICh0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc28tY2FsbGVkIHN1cnJvZ2F0ZVxyXG4vLyBwYWlyKS5cclxuLy8gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS4xLjNcclxuLyoqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqL1xyXG52YXIgc3RyaW5nVG9CeXRlQXJyYXkkMSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHZhciBvdXQgPSBbXSwgcCA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgLy8gSXMgdGhpcyB0aGUgbGVhZCBzdXJyb2dhdGUgaW4gYSBzdXJyb2dhdGUgcGFpcj9cclxuICAgICAgICBpZiAoYyA+PSAweGQ4MDAgJiYgYyA8PSAweGRiZmYpIHtcclxuICAgICAgICAgICAgdmFyIGhpZ2ggPSBjIC0gMHhkODAwOyAvLyB0aGUgaGlnaCAxMCBiaXRzLlxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIGFzc2VydChpIDwgc3RyLmxlbmd0aCwgJ1N1cnJvZ2F0ZSBwYWlyIG1pc3NpbmcgdHJhaWwgc3Vycm9nYXRlLicpO1xyXG4gICAgICAgICAgICB2YXIgbG93ID0gc3RyLmNoYXJDb2RlQXQoaSkgLSAweGRjMDA7IC8vIHRoZSBsb3cgMTAgYml0cy5cclxuICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoaGlnaCA8PCAxMCkgKyBsb3c7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gYztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiA2KSB8IDE5MjtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDY1NTM2KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTgpIHwgMjQwO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbn07XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgbGVuZ3RoIHdpdGhvdXQgYWN0dWFsbHkgY29udmVydGluZzsgdXNlZnVsIGZvciBkb2luZyBjaGVhcGVyIHZhbGlkYXRpb24uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybiB7bnVtYmVyfVxyXG4gKi9cclxudmFyIHN0cmluZ0xlbmd0aCA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHZhciBwID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICBwKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIHAgKz0gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA+PSAweGQ4MDAgJiYgYyA8PSAweGRiZmYpIHtcclxuICAgICAgICAgICAgLy8gTGVhZCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpci4gIFRoZSBwYWlyIHRvZ2V0aGVyIHdpbGwgdGFrZSA0IGJ5dGVzIHRvIHJlcHJlc2VudC5cclxuICAgICAgICAgICAgcCArPSA0O1xyXG4gICAgICAgICAgICBpKys7IC8vIHNraXAgdHJhaWwgc3Vycm9nYXRlLlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcCArPSAzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwO1xyXG59O1xuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cblxuZXhwb3J0cy5hc3NlcnQgPSBhc3NlcnQ7XG5leHBvcnRzLmFzc2VydGlvbkVycm9yID0gYXNzZXJ0aW9uRXJyb3I7XG5leHBvcnRzLmJhc2U2NCA9IGJhc2U2NDtcbmV4cG9ydHMuYmFzZTY0RGVjb2RlID0gYmFzZTY0RGVjb2RlO1xuZXhwb3J0cy5iYXNlNjRFbmNvZGUgPSBiYXNlNjRFbmNvZGU7XG5leHBvcnRzLkNPTlNUQU5UUyA9IENPTlNUQU5UUztcbmV4cG9ydHMuZGVlcENvcHkgPSBkZWVwQ29weTtcbmV4cG9ydHMuZGVlcEV4dGVuZCA9IGRlZXBFeHRlbmQ7XG5leHBvcnRzLnBhdGNoUHJvcGVydHkgPSBwYXRjaFByb3BlcnR5O1xuZXhwb3J0cy5EZWZlcnJlZCA9IERlZmVycmVkO1xuZXhwb3J0cy5nZXRVQSA9IGdldFVBO1xuZXhwb3J0cy5pc01vYmlsZUNvcmRvdmEgPSBpc01vYmlsZUNvcmRvdmE7XG5leHBvcnRzLmlzTm9kZVNkayA9IGlzTm9kZVNkaztcbmV4cG9ydHMuaXNSZWFjdE5hdGl2ZSA9IGlzUmVhY3ROYXRpdmU7XG5leHBvcnRzLkVycm9yRmFjdG9yeSA9IEVycm9yRmFjdG9yeTtcbmV4cG9ydHMuRmlyZWJhc2VFcnJvciA9IEZpcmViYXNlRXJyb3I7XG5leHBvcnRzLnBhdGNoQ2FwdHVyZSA9IHBhdGNoQ2FwdHVyZTtcbmV4cG9ydHMuanNvbkV2YWwgPSBqc29uRXZhbDtcbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuZXhwb3J0cy5kZWNvZGUgPSBkZWNvZGU7XG5leHBvcnRzLmlzQWRtaW4gPSBpc0FkbWluO1xuZXhwb3J0cy5pc3N1ZWRBdFRpbWUgPSBpc3N1ZWRBdFRpbWU7XG5leHBvcnRzLmlzVmFsaWRGb3JtYXQgPSBpc1ZhbGlkRm9ybWF0O1xuZXhwb3J0cy5pc1ZhbGlkVGltZXN0YW1wID0gaXNWYWxpZFRpbWVzdGFtcDtcbmV4cG9ydHMuY2xvbmUgPSBjbG9uZTtcbmV4cG9ydHMuY29udGFpbnMgPSBjb250YWlucztcbmV4cG9ydHMuZXZlcnkgPSBldmVyeTtcbmV4cG9ydHMuZXh0ZW5kID0gZXh0ZW5kO1xuZXhwb3J0cy5maW5kS2V5ID0gZmluZEtleTtcbmV4cG9ydHMuZmluZFZhbHVlID0gZmluZFZhbHVlO1xuZXhwb3J0cy5mb3JFYWNoID0gZm9yRWFjaDtcbmV4cG9ydHMuZ2V0QW55S2V5ID0gZ2V0QW55S2V5O1xuZXhwb3J0cy5nZXRDb3VudCA9IGdldENvdW50O1xuZXhwb3J0cy5nZXRWYWx1ZXMgPSBnZXRWYWx1ZXM7XG5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xuZXhwb3J0cy5pc05vbk51bGxPYmplY3QgPSBpc05vbk51bGxPYmplY3Q7XG5leHBvcnRzLm1hcCA9IG1hcDtcbmV4cG9ydHMuc2FmZUdldCA9IHNhZmVHZXQ7XG5leHBvcnRzLnF1ZXJ5c3RyaW5nID0gcXVlcnlzdHJpbmc7XG5leHBvcnRzLnF1ZXJ5c3RyaW5nRGVjb2RlID0gcXVlcnlzdHJpbmdEZWNvZGU7XG5leHBvcnRzLlNoYTEgPSBTaGExO1xuZXhwb3J0cy5hc3luYyA9IGFzeW5jO1xuZXhwb3J0cy5jcmVhdGVTdWJzY3JpYmUgPSBjcmVhdGVTdWJzY3JpYmU7XG5leHBvcnRzLmVycm9yUHJlZml4ID0gZXJyb3JQcmVmaXg7XG5leHBvcnRzLnZhbGlkYXRlQXJnQ291bnQgPSB2YWxpZGF0ZUFyZ0NvdW50O1xuZXhwb3J0cy52YWxpZGF0ZUNhbGxiYWNrID0gdmFsaWRhdGVDYWxsYmFjaztcbmV4cG9ydHMudmFsaWRhdGVDb250ZXh0T2JqZWN0ID0gdmFsaWRhdGVDb250ZXh0T2JqZWN0O1xuZXhwb3J0cy52YWxpZGF0ZU5hbWVzcGFjZSA9IHZhbGlkYXRlTmFtZXNwYWNlO1xuZXhwb3J0cy5zdHJpbmdMZW5ndGggPSBzdHJpbmdMZW5ndGg7XG5leHBvcnRzLnN0cmluZ1RvQnl0ZUFycmF5ID0gc3RyaW5nVG9CeXRlQXJyYXkkMTtcbiIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2ggKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ0BmaXJlYmFzZS91dGlsJyk7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgY29udGFpbnMgPSBmdW5jdGlvbiAob2JqLCBrZXkpIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xyXG59O1xyXG52YXIgREVGQVVMVF9FTlRSWV9OQU1FID0gJ1tERUZBVUxUXSc7XHJcbi8vIEFuIGFycmF5IHRvIGNhcHR1cmUgbGlzdGVuZXJzIGJlZm9yZSB0aGUgdHJ1ZSBhdXRoIGZ1bmN0aW9uc1xyXG4vLyBleGlzdFxyXG52YXIgdG9rZW5MaXN0ZW5lcnMgPSBbXTtcclxuLyoqXHJcbiAqIEdsb2JhbCBjb250ZXh0IG9iamVjdCBmb3IgYSBjb2xsZWN0aW9uIG9mIHNlcnZpY2VzIHVzaW5nXHJcbiAqIGEgc2hhcmVkIGF1dGhlbnRpY2F0aW9uIHN0YXRlLlxyXG4gKi9cclxudmFyIEZpcmViYXNlQXBwSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEZpcmViYXNlQXBwSW1wbChvcHRpb25zLCBjb25maWcsIGZpcmViYXNlXykge1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VfID0gZmlyZWJhc2VfO1xyXG4gICAgICAgIHRoaXMuaXNEZWxldGVkXyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2VydmljZXNfID0ge307XHJcbiAgICAgICAgdGhpcy5uYW1lXyA9IGNvbmZpZy5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9XHJcbiAgICAgICAgICAgIGNvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zXyA9IHV0aWwuZGVlcENvcHkob3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5JTlRFUk5BTCA9IHtcclxuICAgICAgICAgICAgZ2V0VWlkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxyXG4gICAgICAgICAgICBnZXRUb2tlbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpOyB9LFxyXG4gICAgICAgICAgICBhZGRBdXRoVG9rZW5MaXN0ZW5lcjogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbkxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBjYWxsYmFjayBpcyBjYWxsZWQsIGFzeW5jaHJvbm91c2x5LCBpbiB0aGUgYWJzZW5jZSBvZiB0aGUgYXV0aCBtb2R1bGVcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2sobnVsbCk7IH0sIDApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcjogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbkxpc3RlbmVycyA9IHRva2VuTGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyICE9PSBjYWxsYmFjazsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUsIFwiYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkXygpO1xyXG4gICAgICAgICAgICB0aGlzLl9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJuYW1lXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmFtZV87XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJvcHRpb25zXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc187XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuZmlyZWJhc2VfLklOVEVSTkFMLnJlbW92ZUFwcChfdGhpcy5uYW1lXyk7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlcyA9IFtdO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhfdGhpcy5zZXJ2aWNlc18pLmZvckVhY2goZnVuY3Rpb24gKHNlcnZpY2VLZXkpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF90aGlzLnNlcnZpY2VzX1tzZXJ2aWNlS2V5XSkuZm9yRWFjaChmdW5jdGlvbiAoaW5zdGFuY2VLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlcy5wdXNoKF90aGlzLnNlcnZpY2VzX1tzZXJ2aWNlS2V5XVtpbnN0YW5jZUtleV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoc2VydmljZXMubWFwKGZ1bmN0aW9uIChzZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VydmljZS5JTlRFUk5BTC5kZWxldGUoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuaXNEZWxldGVkXyA9IHRydWU7XHJcbiAgICAgICAgICAgIF90aGlzLnNlcnZpY2VzXyA9IHt9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgc2VydmljZSBpbnN0YW5jZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBhcHAgKGNyZWF0aW5nIGl0XHJcbiAgICAgKiBvbiBkZW1hbmQpLCBpZGVudGlmaWVkIGJ5IHRoZSBwYXNzZWQgaW5zdGFuY2VJZGVudGlmaWVyLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IEN1cnJlbnRseSBzdG9yYWdlIGlzIHRoZSBvbmx5IG9uZSB0aGF0IGlzIGxldmVyYWdpbmcgdGhpc1xyXG4gICAgICogZnVuY3Rpb25hbGl0eS4gVGhleSBpbnZva2UgaXQgYnkgY2FsbGluZzpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICAgKiBmaXJlYmFzZS5hcHAoKS5zdG9yYWdlKCdTVE9SQUdFIEJVQ0tFVCBJRCcpXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBUaGUgc2VydmljZSBuYW1lIGlzIHBhc3NlZCB0byB0aGlzIGFscmVhZHlcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLl9nZXRTZXJ2aWNlID0gZnVuY3Rpb24gKG5hbWUsIGluc3RhbmNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIGlmIChpbnN0YW5jZUlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpbnN0YW5jZUlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkXygpO1xyXG4gICAgICAgIGlmICghdGhpcy5zZXJ2aWNlc19bbmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlc19bbmFtZV0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnNlcnZpY2VzX1tuYW1lXVtpbnN0YW5jZUlkZW50aWZpZXJdKSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJZiBhIGN1c3RvbSBpbnN0YW5jZSBoYXMgYmVlbiBkZWZpbmVkIChpLmUuIG5vdCAnW0RFRkFVTFRdJylcclxuICAgICAgICAgICAgICogdGhlbiB3ZSB3aWxsIHBhc3MgdGhhdCBpbnN0YW5jZSBvbiwgb3RoZXJ3aXNlIHdlIHBhc3MgYG51bGxgXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2VTcGVjaWZpZXIgPSBpbnN0YW5jZUlkZW50aWZpZXIgIT09IERFRkFVTFRfRU5UUllfTkFNRVxyXG4gICAgICAgICAgICAgICAgPyBpbnN0YW5jZUlkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2YXIgc2VydmljZSA9IHRoaXMuZmlyZWJhc2VfLklOVEVSTkFMLmZhY3Rvcmllc1tuYW1lXSh0aGlzLCB0aGlzLmV4dGVuZEFwcC5iaW5kKHRoaXMpLCBpbnN0YW5jZVNwZWNpZmllcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2VydmljZXNfW25hbWVdW2luc3RhbmNlSWRlbnRpZmllcl0gPSBzZXJ2aWNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlc19bbmFtZV1baW5zdGFuY2VJZGVudGlmaWVyXTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENhbGxiYWNrIGZ1bmN0aW9uIHVzZWQgdG8gZXh0ZW5kIGFuIEFwcCBpbnN0YW5jZSBhdCB0aGUgdGltZVxyXG4gICAgICogb2Ygc2VydmljZSBpbnN0YW5jZSBjcmVhdGlvbi5cclxuICAgICAqL1xyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5leHRlbmRBcHAgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIENvcHkgdGhlIG9iamVjdCBvbnRvIHRoZSBGaXJlYmFzZUFwcEltcGwgcHJvdG90eXBlXHJcbiAgICAgICAgdXRpbC5kZWVwRXh0ZW5kKHRoaXMsIHByb3BzKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJZiB0aGUgYXBwIGhhcyBvdmVyd3JpdHRlbiB0aGUgYWRkQXV0aFRva2VuTGlzdGVuZXIgc3R1YiwgZm9yd2FyZFxyXG4gICAgICAgICAqIHRoZSBhY3RpdmUgdG9rZW4gbGlzdGVuZXJzIG9uIHRvIHRoZSB0cnVlIGZ4bi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRPRE86IFRoaXMgZnVuY3Rpb24gaXMgcmVxdWlyZWQgZHVlIHRvIG91ciBjdXJyZW50IG1vZHVsZVxyXG4gICAgICAgICAqIHN0cnVjdHVyZS4gT25jZSB3ZSBhcmUgYWJsZSB0byByZWx5IHN0cmljdGx5IHVwb24gYSBzaW5nbGUgbW9kdWxlXHJcbiAgICAgICAgICogaW1wbGVtZW50YXRpb24sIHRoaXMgY29kZSBzaG91bGQgYmUgcmVmYWN0b3JlZCBhbmQgQXV0aCBzaG91bGRcclxuICAgICAgICAgKiBwcm92aWRlIHRoZXNlIHN0dWJzIGFuZCB0aGUgdXBncmFkZSBsb2dpY1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChwcm9wcy5JTlRFUk5BTCAmJiBwcm9wcy5JTlRFUk5BTC5hZGRBdXRoVG9rZW5MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICB0b2tlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuSU5URVJOQUwuYWRkQXV0aFRva2VuTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdG9rZW5MaXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYW4gRXJyb3IgaWYgdGhlIEFwcCBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWQgLVxyXG4gICAgICogdXNlIGJlZm9yZSBwZXJmb3JtaW5nIEFQSSBhY3Rpb25zIG9uIHRoZSBBcHAuXHJcbiAgICAgKi9cclxuICAgIEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUuY2hlY2tEZXN0cm95ZWRfID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGVsZXRlZF8pIHtcclxuICAgICAgICAgICAgZXJyb3IoJ2FwcC1kZWxldGVkJywgeyBuYW1lOiB0aGlzLm5hbWVfIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRmlyZWJhc2VBcHBJbXBsO1xyXG59KCkpO1xyXG4vLyBQcmV2ZW50IGRlYWQtY29kZSBlbGltaW5hdGlvbiBvZiB0aGVzZSBtZXRob2RzIHcvbyBpbnZhbGlkIHByb3BlcnR5XHJcbi8vIGNvcHlpbmcuXHJcbihGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLm5hbWUgJiYgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5vcHRpb25zKSB8fFxyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5kZWxldGUgfHxcclxuICAgIGNvbnNvbGUubG9nKCdkYycpO1xyXG4vKipcclxuICogUmV0dXJuIGEgZmlyZWJhc2UgbmFtZXNwYWNlIG9iamVjdC5cclxuICpcclxuICogSW4gcHJvZHVjdGlvbiwgdGhpcyB3aWxsIGJlIGNhbGxlZCBleGFjdGx5IG9uY2UgYW5kIHRoZSByZXN1bHRcclxuICogYXNzaWduZWQgdG8gdGhlICdmaXJlYmFzZScgZ2xvYmFsLiAgSXQgbWF5IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xyXG4gKiBpbiB1bml0IHRlc3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2UoKSB7XHJcbiAgICB2YXIgYXBwc18gPSB7fTtcclxuICAgIHZhciBmYWN0b3JpZXMgPSB7fTtcclxuICAgIHZhciBhcHBIb29rcyA9IHt9O1xyXG4gICAgLy8gQSBuYW1lc3BhY2UgaXMgYSBwbGFpbiBKYXZhU2NyaXB0IE9iamVjdC5cclxuICAgIHZhciBuYW1lc3BhY2UgPSB7XHJcbiAgICAgICAgLy8gSGFjayB0byBwcmV2ZW50IEJhYmVsIGZyb20gbW9kaWZ5aW5nIHRoZSBvYmplY3QgcmV0dXJuZWRcclxuICAgICAgICAvLyBhcyB0aGUgZmlyZWJhc2UgbmFtZXNwYWNlLlxyXG4gICAgICAgIF9fZXNNb2R1bGU6IHRydWUsXHJcbiAgICAgICAgaW5pdGlhbGl6ZUFwcDogaW5pdGlhbGl6ZUFwcCxcclxuICAgICAgICBhcHA6IGFwcCxcclxuICAgICAgICBhcHBzOiBudWxsLFxyXG4gICAgICAgIFByb21pc2U6IFByb21pc2UsXHJcbiAgICAgICAgU0RLX1ZFUlNJT046ICc1LjAuNCcsXHJcbiAgICAgICAgSU5URVJOQUw6IHtcclxuICAgICAgICAgICAgcmVnaXN0ZXJTZXJ2aWNlOiByZWdpc3RlclNlcnZpY2UsXHJcbiAgICAgICAgICAgIGNyZWF0ZUZpcmViYXNlTmFtZXNwYWNlOiBjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZSxcclxuICAgICAgICAgICAgZXh0ZW5kTmFtZXNwYWNlOiBleHRlbmROYW1lc3BhY2UsXHJcbiAgICAgICAgICAgIGNyZWF0ZVN1YnNjcmliZTogdXRpbC5jcmVhdGVTdWJzY3JpYmUsXHJcbiAgICAgICAgICAgIEVycm9yRmFjdG9yeTogdXRpbC5FcnJvckZhY3RvcnksXHJcbiAgICAgICAgICAgIHJlbW92ZUFwcDogcmVtb3ZlQXBwLFxyXG4gICAgICAgICAgICBmYWN0b3JpZXM6IGZhY3RvcmllcyxcclxuICAgICAgICAgICAgdXNlQXNTZXJ2aWNlOiB1c2VBc1NlcnZpY2UsXHJcbiAgICAgICAgICAgIFByb21pc2U6IFByb21pc2UsXHJcbiAgICAgICAgICAgIGRlZXBFeHRlbmQ6IHV0aWwuZGVlcEV4dGVuZFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBJbmplY3QgYSBjaXJjdWxhciBkZWZhdWx0IGV4cG9ydCB0byBhbGxvdyBCYWJlbCB1c2VycyB3aG8gd2VyZSBwcmV2aW91c2x5XHJcbiAgICAvLyB1c2luZzpcclxuICAgIC8vXHJcbiAgICAvLyAgIGltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7XHJcbiAgICAvLyAgIHdoaWNoIGJlY29tZXM6IHZhciBmaXJlYmFzZSA9IHJlcXVpcmUoJ2ZpcmViYXNlJykuZGVmYXVsdDtcclxuICAgIC8vXHJcbiAgICAvLyBpbnN0ZWFkIG9mXHJcbiAgICAvL1xyXG4gICAgLy8gICBpbXBvcnQgKiBhcyBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7XHJcbiAgICAvLyAgIHdoaWNoIGJlY29tZXM6IHZhciBmaXJlYmFzZSA9IHJlcXVpcmUoJ2ZpcmViYXNlJyk7XHJcbiAgICB1dGlsLnBhdGNoUHJvcGVydHkobmFtZXNwYWNlLCAnZGVmYXVsdCcsIG5hbWVzcGFjZSk7XHJcbiAgICAvLyBmaXJlYmFzZS5hcHBzIGlzIGEgcmVhZC1vbmx5IGdldHRlci5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYW1lc3BhY2UsICdhcHBzJywge1xyXG4gICAgICAgIGdldDogZ2V0QXBwc1xyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCBieSBBcHAuZGVsZXRlKCkgLSBidXQgYmVmb3JlIGFueSBzZXJ2aWNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIEFwcFxyXG4gICAgICogYXJlIGRlbGV0ZWQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUFwcChuYW1lKSB7XHJcbiAgICAgICAgdmFyIGFwcCA9IGFwcHNfW25hbWVdO1xyXG4gICAgICAgIGNhbGxBcHBIb29rcyhhcHAsICdkZWxldGUnKTtcclxuICAgICAgICBkZWxldGUgYXBwc19bbmFtZV07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgQXBwIG9iamVjdCBmb3IgYSBnaXZlbiBuYW1lIChvciBERUZBVUxUKS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYXBwKG5hbWUpIHtcclxuICAgICAgICBuYW1lID0gbmFtZSB8fCBERUZBVUxUX0VOVFJZX05BTUU7XHJcbiAgICAgICAgaWYgKCFjb250YWlucyhhcHBzXywgbmFtZSkpIHtcclxuICAgICAgICAgICAgZXJyb3IoJ25vLWFwcCcsIHsgbmFtZTogbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFwcHNfW25hbWVdO1xyXG4gICAgfVxyXG4gICAgdXRpbC5wYXRjaFByb3BlcnR5KGFwcCwgJ0FwcCcsIEZpcmViYXNlQXBwSW1wbCk7XHJcbiAgICBmdW5jdGlvbiBpbml0aWFsaXplQXBwKG9wdGlvbnMsIHJhd0NvbmZpZykge1xyXG4gICAgICAgIGlmIChyYXdDb25maWcgPT09IHZvaWQgMCkgeyByYXdDb25maWcgPSB7fTsgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgcmF3Q29uZmlnICE9PSAnb2JqZWN0JyB8fCByYXdDb25maWcgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWVfMSA9IHJhd0NvbmZpZztcclxuICAgICAgICAgICAgcmF3Q29uZmlnID0geyBuYW1lOiBuYW1lXzEgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHJhd0NvbmZpZztcclxuICAgICAgICBpZiAoY29uZmlnLm5hbWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25maWcubmFtZSA9IERFRkFVTFRfRU5UUllfTkFNRTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG5hbWUgPSBjb25maWcubmFtZTtcclxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8ICFuYW1lKSB7XHJcbiAgICAgICAgICAgIGVycm9yKCdiYWQtYXBwLW5hbWUnLCB7IG5hbWU6IG5hbWUgKyAnJyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbnRhaW5zKGFwcHNfLCBuYW1lKSkge1xyXG4gICAgICAgICAgICBlcnJvcignZHVwbGljYXRlLWFwcCcsIHsgbmFtZTogbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFwcCA9IG5ldyBGaXJlYmFzZUFwcEltcGwob3B0aW9ucywgY29uZmlnLCBuYW1lc3BhY2UpO1xyXG4gICAgICAgIGFwcHNfW25hbWVdID0gYXBwO1xyXG4gICAgICAgIGNhbGxBcHBIb29rcyhhcHAsICdjcmVhdGUnKTtcclxuICAgICAgICByZXR1cm4gYXBwO1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhbiBhcnJheSBvZiBhbGwgdGhlIG5vbi1kZWxldGVkIEZpcmViYXNlQXBwcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0QXBwcygpIHtcclxuICAgICAgICAvLyBNYWtlIGEgY29weSBzbyBjYWxsZXIgY2Fubm90IG11dGF0ZSB0aGUgYXBwcyBsaXN0LlxyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhcHBzXykubWFwKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBhcHBzX1tuYW1lXTsgfSk7XHJcbiAgICB9XHJcbiAgICAvKlxyXG4gICAgICogUmVnaXN0ZXIgYSBGaXJlYmFzZSBTZXJ2aWNlLlxyXG4gICAgICpcclxuICAgICAqIGZpcmViYXNlLklOVEVSTkFMLnJlZ2lzdGVyU2VydmljZSgpXHJcbiAgICAgKlxyXG4gICAgICogVE9ETzogSW1wbGVtZW50IHNlcnZpY2VQcm9wZXJ0aWVzLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZWdpc3RlclNlcnZpY2UobmFtZSwgY3JlYXRlU2VydmljZSwgc2VydmljZVByb3BlcnRpZXMsIGFwcEhvb2ssIGFsbG93TXVsdGlwbGVJbnN0YW5jZXMpIHtcclxuICAgICAgICAvLyBDYW5ub3QgcmUtcmVnaXN0ZXIgYSBzZXJ2aWNlIHRoYXQgYWxyZWFkeSBleGlzdHNcclxuICAgICAgICBpZiAoZmFjdG9yaWVzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIGVycm9yKCdkdXBsaWNhdGUtc2VydmljZScsIHsgbmFtZTogbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2FwdHVyZSB0aGUgc2VydmljZSBmYWN0b3J5IGZvciBsYXRlciBzZXJ2aWNlIGluc3RhbnRpYXRpb25cclxuICAgICAgICBmYWN0b3JpZXNbbmFtZV0gPSBjcmVhdGVTZXJ2aWNlO1xyXG4gICAgICAgIC8vIENhcHR1cmUgdGhlIGFwcEhvb2ssIGlmIHBhc3NlZFxyXG4gICAgICAgIGlmIChhcHBIb29rKSB7XHJcbiAgICAgICAgICAgIGFwcEhvb2tzW25hbWVdID0gYXBwSG9vaztcclxuICAgICAgICAgICAgLy8gUnVuIHRoZSAqKm5ldyoqIGFwcCBob29rIG9uIGFsbCBleGlzdGluZyBhcHBzXHJcbiAgICAgICAgICAgIGdldEFwcHMoKS5mb3JFYWNoKGZ1bmN0aW9uIChhcHApIHtcclxuICAgICAgICAgICAgICAgIGFwcEhvb2soJ2NyZWF0ZScsIGFwcCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaGUgU2VydmljZSBuYW1lc3BhY2UgaXMgYW4gYWNjZXNzb3IgZnVuY3Rpb24gLi4uXHJcbiAgICAgICAgdmFyIHNlcnZpY2VOYW1lc3BhY2UgPSBmdW5jdGlvbiAoYXBwQXJnKSB7XHJcbiAgICAgICAgICAgIGlmIChhcHBBcmcgPT09IHZvaWQgMCkgeyBhcHBBcmcgPSBhcHAoKTsgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGFwcEFyZ1tuYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgLy8gSW52YWxpZCBhcmd1bWVudC5cclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBpbiB0aGUgZm9sbG93aW5nIGNhc2U6IGZpcmViYXNlLnN0b3JhZ2UoJ2dzOi8nKVxyXG4gICAgICAgICAgICAgICAgZXJyb3IoJ2ludmFsaWQtYXBwLWFyZ3VtZW50JywgeyBuYW1lOiBuYW1lIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEZvcndhcmQgc2VydmljZSBpbnN0YW5jZSBsb29rdXAgdG8gdGhlIEZpcmViYXNlQXBwLlxyXG4gICAgICAgICAgICByZXR1cm4gYXBwQXJnW25hbWVdKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyAuLi4gYW5kIGEgY29udGFpbmVyIGZvciBzZXJ2aWNlLWxldmVsIHByb3BlcnRpZXMuXHJcbiAgICAgICAgaWYgKHNlcnZpY2VQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdXRpbC5kZWVwRXh0ZW5kKHNlcnZpY2VOYW1lc3BhY2UsIHNlcnZpY2VQcm9wZXJ0aWVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTW9ua2V5LXBhdGNoIHRoZSBzZXJ2aWNlTmFtZXNwYWNlIG9udG8gdGhlIGZpcmViYXNlIG5hbWVzcGFjZVxyXG4gICAgICAgIG5hbWVzcGFjZVtuYW1lXSA9IHNlcnZpY2VOYW1lc3BhY2U7XHJcbiAgICAgICAgLy8gUGF0Y2ggdGhlIEZpcmViYXNlQXBwSW1wbCBwcm90b3R5cGVcclxuICAgICAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlRnhuID0gdGhpcy5fZ2V0U2VydmljZS5iaW5kKHRoaXMsIG5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2VydmljZUZ4bi5hcHBseSh0aGlzLCBhbGxvd011bHRpcGxlSW5zdGFuY2VzID8gYXJncyA6IFtdKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlTmFtZXNwYWNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXRjaCB0aGUgdG9wLWxldmVsIGZpcmViYXNlIG5hbWVzcGFjZSB3aXRoIGFkZGl0aW9uYWwgcHJvcGVydGllcy5cclxuICAgICAqXHJcbiAgICAgKiBmaXJlYmFzZS5JTlRFUk5BTC5leHRlbmROYW1lc3BhY2UoKVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBleHRlbmROYW1lc3BhY2UocHJvcHMpIHtcclxuICAgICAgICB1dGlsLmRlZXBFeHRlbmQobmFtZXNwYWNlLCBwcm9wcyk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjYWxsQXBwSG9va3MoYXBwLCBldmVudE5hbWUpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhmYWN0b3JpZXMpLmZvckVhY2goZnVuY3Rpb24gKHNlcnZpY2VOYW1lKSB7XHJcbiAgICAgICAgICAgIC8vIElnbm9yZSB2aXJ0dWFsIHNlcnZpY2VzXHJcbiAgICAgICAgICAgIHZhciBmYWN0b3J5TmFtZSA9IHVzZUFzU2VydmljZShhcHAsIHNlcnZpY2VOYW1lKTtcclxuICAgICAgICAgICAgaWYgKGZhY3RvcnlOYW1lID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFwcEhvb2tzW2ZhY3RvcnlOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgYXBwSG9va3NbZmFjdG9yeU5hbWVdKGV2ZW50TmFtZSwgYXBwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gTWFwIHRoZSByZXF1ZXN0ZWQgc2VydmljZSB0byBhIHJlZ2lzdGVyZWQgc2VydmljZSBuYW1lXHJcbiAgICAvLyAodXNlZCB0byBtYXAgYXV0aCB0byBzZXJ2ZXJBdXRoIHNlcnZpY2Ugd2hlbiBuZWVkZWQpLlxyXG4gICAgZnVuY3Rpb24gdXNlQXNTZXJ2aWNlKGFwcCwgbmFtZSkge1xyXG4gICAgICAgIGlmIChuYW1lID09PSAnc2VydmVyQXV0aCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1c2VTZXJ2aWNlID0gbmFtZTtcclxuICAgICAgICB2YXIgb3B0aW9ucyA9IGFwcC5vcHRpb25zO1xyXG4gICAgICAgIHJldHVybiB1c2VTZXJ2aWNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5hbWVzcGFjZTtcclxufVxyXG5mdW5jdGlvbiBlcnJvcihjb2RlLCBhcmdzKSB7XHJcbiAgICB0aHJvdyBhcHBFcnJvcnMuY3JlYXRlKGNvZGUsIGFyZ3MpO1xyXG59XHJcbi8vIFR5cGVTY3JpcHQgZG9lcyBub3Qgc3VwcG9ydCBub24tc3RyaW5nIGluZGV4ZXMhXHJcbi8vIGxldCBlcnJvcnM6IHtbY29kZTogQXBwRXJyb3I6IHN0cmluZ30gPSB7XHJcbnZhciBlcnJvcnMgPSB7XHJcbiAgICAnbm8tYXBwJzogXCJObyBGaXJlYmFzZSBBcHAgJ3skbmFtZX0nIGhhcyBiZWVuIGNyZWF0ZWQgLSBcIiArXHJcbiAgICAgICAgJ2NhbGwgRmlyZWJhc2UgQXBwLmluaXRpYWxpemVBcHAoKScsXHJcbiAgICAnYmFkLWFwcC1uYW1lJzogXCJJbGxlZ2FsIEFwcCBuYW1lOiAneyRuYW1lfVwiLFxyXG4gICAgJ2R1cGxpY2F0ZS1hcHAnOiBcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRuYW1lfScgYWxyZWFkeSBleGlzdHNcIixcclxuICAgICdhcHAtZGVsZXRlZCc6IFwiRmlyZWJhc2UgQXBwIG5hbWVkICd7JG5hbWV9JyBhbHJlYWR5IGRlbGV0ZWRcIixcclxuICAgICdkdXBsaWNhdGUtc2VydmljZSc6IFwiRmlyZWJhc2Ugc2VydmljZSBuYW1lZCAneyRuYW1lfScgYWxyZWFkeSByZWdpc3RlcmVkXCIsXHJcbiAgICAnc2Etbm90LXN1cHBvcnRlZCc6ICdJbml0aWFsaXppbmcgdGhlIEZpcmViYXNlIFNESyB3aXRoIGEgc2VydmljZSAnICtcclxuICAgICAgICAnYWNjb3VudCBpcyBvbmx5IGFsbG93ZWQgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LiBPbiBjbGllbnQgJyArXHJcbiAgICAgICAgJ2RldmljZXMsIHlvdSBzaG91bGQgaW5zdGVhZCBpbml0aWFsaXplIHRoZSBTREsgd2l0aCBhbiBhcGkga2V5IGFuZCAnICtcclxuICAgICAgICAnYXV0aCBkb21haW4nLFxyXG4gICAgJ2ludmFsaWQtYXBwLWFyZ3VtZW50JzogJ2ZpcmViYXNlLnskbmFtZX0oKSB0YWtlcyBlaXRoZXIgbm8gYXJndW1lbnQgb3IgYSAnICtcclxuICAgICAgICAnRmlyZWJhc2UgQXBwIGluc3RhbmNlLidcclxufTtcclxudmFyIGFwcEVycm9ycyA9IG5ldyB1dGlsLkVycm9yRmFjdG9yeSgnYXBwJywgJ0ZpcmViYXNlJywgZXJyb3JzKTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBmaXJlYmFzZSA9IGNyZWF0ZUZpcmViYXNlTmFtZXNwYWNlKCk7XG5cbmV4cG9ydHMuZmlyZWJhc2UgPSBmaXJlYmFzZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGZpcmViYXNlO1xuIiwiaW1wb3J0ICogYXMgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UvYXBwJztcbmltcG9ydCAnZmlyZWJhc2UvbWVzc2FnaW5nJztcblxuY29uc3QgZ2V0RmlyZWJhc2VNZXNzYWdpbmdPYmplY3QgPSAoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgYXBpS2V5OiBcIkFJemFTeUJvWmdJa2kzdEVnQ3RnU1ZWV0RkYXN0WkNxVzlXV0dLRVwiLFxuICAgICAgICBhdXRoRG9tYWluOiBcImFpcnktb2ZmaWNlLTQxMy5maXJlYmFzZWFwcC5jb21cIixcbiAgICAgICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9haXJ5LW9mZmljZS00MTMuZmlyZWJhc2Vpby5jb21cIixcbiAgICAgICAgcHJvamVjdElkOiBcImFpcnktb2ZmaWNlLTQxM1wiLFxuICAgICAgICBzdG9yYWdlQnVja2V0OiBcImFpcnktb2ZmaWNlLTQxMy5hcHBzcG90LmNvbVwiLFxuICAgICAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCI4NTc3NjE2NDU4MTFcIlxuICAgIH07XG5cbiAgICBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XG5cbiAgICByZXR1cm4gZmlyZWJhc2UubWVzc2FnaW5nKCk7XG59O1xuXG5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuXHR2YXIgdGVtcGxhdGUgPSBldmVudC5kYXRhO1xuXHRyZXF1aXJlKFtcIi4uL3JlcXVpcmUuY29udGV4dC90ZW1wbGF0ZXMvXCIgKyBldmVudC5kYXRhXSwgZnVuY3Rpb24odG1wbCkge1xuXHRcdHBvc3RNZXNzYWdlKHRtcGwoKSk7XG5cdH0pO1xufTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cblxucmVxdWlyZSgnQGZpcmViYXNlL3BvbHlmaWxsJyk7XG52YXIgZmlyZWJhc2UgPSBfaW50ZXJvcERlZmF1bHQocmVxdWlyZSgnQGZpcmViYXNlL2FwcCcpKTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZmlyZWJhc2U7XG4iLCJpbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XG5cbi8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIHByb21pc2UtcG9seWZpbGwgd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4vLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbnZhciBzZXRUaW1lb3V0RnVuYyA9IHNldFRpbWVvdXQ7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyBQb2x5ZmlsbCBmb3IgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbmZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFByb21pc2UoZm4pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb21pc2UpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldycpO1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdub3QgYSBmdW5jdGlvbicpO1xuICB0aGlzLl9zdGF0ZSA9IDA7XG4gIHRoaXMuX2hhbmRsZWQgPSBmYWxzZTtcbiAgdGhpcy5fdmFsdWUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX2RlZmVycmVkcyA9IFtdO1xuXG4gIGRvUmVzb2x2ZShmbiwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZShzZWxmLCBkZWZlcnJlZCkge1xuICB3aGlsZSAoc2VsZi5fc3RhdGUgPT09IDMpIHtcbiAgICBzZWxmID0gc2VsZi5fdmFsdWU7XG4gIH1cbiAgaWYgKHNlbGYuX3N0YXRlID09PSAwKSB7XG4gICAgc2VsZi5fZGVmZXJyZWRzLnB1c2goZGVmZXJyZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICBzZWxmLl9oYW5kbGVkID0gdHJ1ZTtcbiAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNiID0gc2VsZi5fc3RhdGUgPT09IDEgPyBkZWZlcnJlZC5vbkZ1bGZpbGxlZCA6IGRlZmVycmVkLm9uUmVqZWN0ZWQ7XG4gICAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgICAoc2VsZi5fc3RhdGUgPT09IDEgPyByZXNvbHZlIDogcmVqZWN0KShkZWZlcnJlZC5wcm9taXNlLCBzZWxmLl92YWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldCA9IGNiKHNlbGYuX3ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZGVmZXJyZWQucHJvbWlzZSwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc29sdmUoZGVmZXJyZWQucHJvbWlzZSwgcmV0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUoc2VsZiwgbmV3VmFsdWUpIHtcbiAgdHJ5IHtcbiAgICAvLyBQcm9taXNlIFJlc29sdXRpb24gUHJvY2VkdXJlOiBodHRwczovL2dpdGh1Yi5jb20vcHJvbWlzZXMtYXBsdXMvcHJvbWlzZXMtc3BlYyN0aGUtcHJvbWlzZS1yZXNvbHV0aW9uLXByb2NlZHVyZVxuICAgIGlmIChuZXdWYWx1ZSA9PT0gc2VsZilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuJyk7XG4gICAgaWYgKFxuICAgICAgbmV3VmFsdWUgJiZcbiAgICAgICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICApIHtcbiAgICAgIHZhciB0aGVuID0gbmV3VmFsdWUudGhlbjtcbiAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgc2VsZi5fc3RhdGUgPSAzO1xuICAgICAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBmaW5hbGUoc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZG9SZXNvbHZlKGJpbmQodGhlbiwgbmV3VmFsdWUpLCBzZWxmKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBzZWxmLl9zdGF0ZSA9IDE7XG4gICAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBmaW5hbGUoc2VsZik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3Qoc2VsZiwgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHNlbGYsIG5ld1ZhbHVlKSB7XG4gIHNlbGYuX3N0YXRlID0gMjtcbiAgc2VsZi5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgZmluYWxlKHNlbGYpO1xufVxuXG5mdW5jdGlvbiBmaW5hbGUoc2VsZikge1xuICBpZiAoc2VsZi5fc3RhdGUgPT09IDIgJiYgc2VsZi5fZGVmZXJyZWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIFByb21pc2UuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFzZWxmLl9oYW5kbGVkKSB7XG4gICAgICAgIFByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuKHNlbGYuX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzZWxmLl9kZWZlcnJlZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBoYW5kbGUoc2VsZiwgc2VsZi5fZGVmZXJyZWRzW2ldKTtcbiAgfVxuICBzZWxmLl9kZWZlcnJlZHMgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9taXNlKSB7XG4gIHRoaXMub25GdWxmaWxsZWQgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IG51bGw7XG4gIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nID8gb25SZWplY3RlZCA6IG51bGw7XG4gIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG59XG5cbi8qKlxuICogVGFrZSBhIHBvdGVudGlhbGx5IG1pc2JlaGF2aW5nIHJlc29sdmVyIGZ1bmN0aW9uIGFuZCBtYWtlIHN1cmVcbiAqIG9uRnVsZmlsbGVkIGFuZCBvblJlamVjdGVkIGFyZSBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIE1ha2VzIG5vIGd1YXJhbnRlZXMgYWJvdXQgYXN5bmNocm9ueS5cbiAqL1xuZnVuY3Rpb24gZG9SZXNvbHZlKGZuLCBzZWxmKSB7XG4gIHZhciBkb25lID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgZm4oXG4gICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZShzZWxmLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZWplY3Qoc2VsZiwgcmVhc29uKTtcbiAgICAgIH1cbiAgICApO1xuICB9IGNhdGNoIChleCkge1xuICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgZG9uZSA9IHRydWU7XG4gICAgcmVqZWN0KHNlbGYsIGV4KTtcbiAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICB2YXIgcHJvbSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG5vb3ApO1xuXG4gIGhhbmRsZSh0aGlzLCBuZXcgSGFuZGxlcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvbSkpO1xuICByZXR1cm4gcHJvbTtcbn07XG5cblByb21pc2UucHJvdG90eXBlWydmaW5hbGx5J10gPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICB2YXIgY29uc3RydWN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdGhpcy50aGVuKFxuICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfVxuICApO1xufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihhcnIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghYXJyIHx8IHR5cGVvZiBhcnIubGVuZ3RoID09PSAndW5kZWZpbmVkJylcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UuYWxsIGFjY2VwdHMgYW4gYXJyYXknKTtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycik7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzb2x2ZShbXSk7XG4gICAgdmFyIHJlbWFpbmluZyA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZnVuY3Rpb24gcmVzKGksIHZhbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHZhbCAmJiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICB2YXIgdGhlbiA9IHZhbC50aGVuO1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhlbi5jYWxsKFxuICAgICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIHJlcyhpLCB2YWwpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFyZ3NbaV0gPSB2YWw7XG4gICAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIHJlc29sdmUoYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJlamVjdChleCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXMoaSwgYXJnc1tpXSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBQcm9taXNlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWplY3QodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFsdWVzW2ldLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gVXNlIHBvbHlmaWxsIGZvciBzZXRJbW1lZGlhdGUgZm9yIHBlcmZvcm1hbmNlIGdhaW5zXG5Qcm9taXNlLl9pbW1lZGlhdGVGbiA9XG4gICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nICYmXG4gICAgZnVuY3Rpb24oZm4pIHtcbiAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgfSkgfHxcbiAgZnVuY3Rpb24oZm4pIHtcbiAgICBzZXRUaW1lb3V0RnVuYyhmbiwgMCk7XG4gIH07XG5cblByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuID0gZnVuY3Rpb24gX3VuaGFuZGxlZFJlamVjdGlvbkZuKGVycikge1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1Bvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjonLCBlcnIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgfVxufTtcblxudmFyIGdsb2JhbE5TID0gKGZ1bmN0aW9uKCkge1xuICAvLyB0aGUgb25seSByZWxpYWJsZSBtZWFucyB0byBnZXQgdGhlIGdsb2JhbCBvYmplY3QgaXNcbiAgLy8gYEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKClgXG4gIC8vIEhvd2V2ZXIsIHRoaXMgY2F1c2VzIENTUCB2aW9sYXRpb25zIGluIENocm9tZSBhcHBzLlxuICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZ2xvYmFsO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcigndW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0Jyk7XG59KSgpO1xuXG5pZiAoIWdsb2JhbE5TLlByb21pc2UpIHtcbiAgZ2xvYmFsTlMuUHJvbWlzZSA9IFByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcblx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xufVxuXG52YXIgX2dsb2JhbCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn0pO1xuXG52YXIgX2NvcmUgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG52YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi41LjUnIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufSk7XG52YXIgX2NvcmVfMSA9IF9jb3JlLnZlcnNpb247XG5cbnZhciBfaXNPYmplY3QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbnZhciBfYW5PYmplY3QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFfaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG5cbnZhciBfZmFpbHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG4vLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG52YXIgX2Rlc2NyaXB0b3JzID0gIV9mYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG5cbnZhciBkb2N1bWVudCA9IF9nbG9iYWwuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IF9pc09iamVjdChkb2N1bWVudCkgJiYgX2lzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xudmFyIF9kb21DcmVhdGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG5cbnZhciBfaWU4RG9tRGVmaW5lID0gIV9kZXNjcmlwdG9ycyAmJiAhX2ZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfZG9tQ3JlYXRlKCdkaXYnKSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcblxuLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG5cbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xudmFyIF90b1ByaW1pdGl2ZSA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIV9pc09iamVjdChpdCkpIHJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhX2lzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFfaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFfaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG52YXIgZFAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbnZhciBmID0gX2Rlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBfYW5PYmplY3QoTyk7XG4gIFAgPSBfdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIF9hbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYgKF9pZThEb21EZWZpbmUpIHRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxudmFyIF9vYmplY3REcCA9IHtcblx0ZjogZlxufTtcblxudmFyIF9wcm9wZXJ0eURlc2MgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcblxudmFyIF9oaWRlID0gX2Rlc2NyaXB0b3JzID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gX29iamVjdERwLmYob2JqZWN0LCBrZXksIF9wcm9wZXJ0eURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG52YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfaGFzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG52YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbnZhciBfdWlkID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcblxudmFyIF9yZWRlZmluZSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbnZhciBTUkMgPSBfdWlkKCdzcmMnKTtcbnZhciBUT19TVFJJTkcgPSAndG9TdHJpbmcnO1xudmFyICR0b1N0cmluZyA9IEZ1bmN0aW9uW1RPX1NUUklOR107XG52YXIgVFBMID0gKCcnICsgJHRvU3RyaW5nKS5zcGxpdChUT19TVFJJTkcpO1xuXG5fY29yZS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiAkdG9TdHJpbmcuY2FsbChpdCk7XG59O1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywga2V5LCB2YWwsIHNhZmUpIHtcbiAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2YgdmFsID09ICdmdW5jdGlvbic7XG4gIGlmIChpc0Z1bmN0aW9uKSBfaGFzKHZhbCwgJ25hbWUnKSB8fCBfaGlkZSh2YWwsICduYW1lJywga2V5KTtcbiAgaWYgKE9ba2V5XSA9PT0gdmFsKSByZXR1cm47XG4gIGlmIChpc0Z1bmN0aW9uKSBfaGFzKHZhbCwgU1JDKSB8fCBfaGlkZSh2YWwsIFNSQywgT1trZXldID8gJycgKyBPW2tleV0gOiBUUEwuam9pbihTdHJpbmcoa2V5KSkpO1xuICBpZiAoTyA9PT0gX2dsb2JhbCkge1xuICAgIE9ba2V5XSA9IHZhbDtcbiAgfSBlbHNlIGlmICghc2FmZSkge1xuICAgIGRlbGV0ZSBPW2tleV07XG4gICAgX2hpZGUoTywga2V5LCB2YWwpO1xuICB9IGVsc2UgaWYgKE9ba2V5XSkge1xuICAgIE9ba2V5XSA9IHZhbDtcbiAgfSBlbHNlIHtcbiAgICBfaGlkZShPLCBrZXksIHZhbCk7XG4gIH1cbi8vIGFkZCBmYWtlIEZ1bmN0aW9uI3RvU3RyaW5nIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZVxufSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzW1NSQ10gfHwgJHRvU3RyaW5nLmNhbGwodGhpcyk7XG59KTtcbn0pO1xuXG52YXIgX2FGdW5jdGlvbiA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cbi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xuXG52YXIgX2N0eCA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIF9hRnVuY3Rpb24oZm4pO1xuICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZm47XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24gKHR5cGUsIG5hbWUsIHNvdXJjZSkge1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRjtcbiAgdmFyIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0Lkc7XG4gIHZhciBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TO1xuICB2YXIgSVNfUFJPVE8gPSB0eXBlICYgJGV4cG9ydC5QO1xuICB2YXIgSVNfQklORCA9IHR5cGUgJiAkZXhwb3J0LkI7XG4gIHZhciB0YXJnZXQgPSBJU19HTE9CQUwgPyBfZ2xvYmFsIDogSVNfU1RBVElDID8gX2dsb2JhbFtuYW1lXSB8fCAoX2dsb2JhbFtuYW1lXSA9IHt9KSA6IChfZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICB2YXIgZXhwb3J0cyA9IElTX0dMT0JBTCA/IF9jb3JlIDogX2NvcmVbbmFtZV0gfHwgKF9jb3JlW25hbWVdID0ge30pO1xuICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KTtcbiAgdmFyIGtleSwgb3duLCBvdXQsIGV4cDtcbiAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTtcbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IChvd24gPyB0YXJnZXQgOiBzb3VyY2UpW2tleV07XG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICBleHAgPSBJU19CSU5EICYmIG93biA/IF9jdHgob3V0LCBfZ2xvYmFsKSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IF9jdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHRlbmQgZ2xvYmFsXG4gICAgaWYgKHRhcmdldCkgX3JlZGVmaW5lKHRhcmdldCwga2V5LCBvdXQsIHR5cGUgJiAkZXhwb3J0LlUpO1xuICAgIC8vIGV4cG9ydFxuICAgIGlmIChleHBvcnRzW2tleV0gIT0gb3V0KSBfaGlkZShleHBvcnRzLCBrZXksIGV4cCk7XG4gICAgaWYgKElTX1BST1RPICYmIGV4cFByb3RvW2tleV0gIT0gb3V0KSBleHBQcm90b1trZXldID0gb3V0O1xuICB9XG59O1xuX2dsb2JhbC5jb3JlID0gX2NvcmU7XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG52YXIgX2V4cG9ydCA9ICRleHBvcnQ7XG5cbnZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG52YXIgX2NvZiA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcblxuLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xudmFyIF9pb2JqZWN0ID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIF9jb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG5cbi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG52YXIgX2RlZmluZWQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG4vLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG5cbnZhciBfdG9PYmplY3QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIE9iamVjdChfZGVmaW5lZChpdCkpO1xufTtcblxuLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG52YXIgX3RvSW50ZWdlciA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG5cbi8vIDcuMS4xNSBUb0xlbmd0aFxuXG52YXIgbWluID0gTWF0aC5taW47XG52YXIgX3RvTGVuZ3RoID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4oX3RvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcblxudmFyIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICByZXR1cm4gX2NvZihhcmcpID09ICdBcnJheSc7XG59O1xuXG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBfZ2xvYmFsW1NIQVJFRF0gfHwgKF9nbG9iYWxbU0hBUkVEXSA9IHt9KTtcbnZhciBfc2hhcmVkID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07XG5cbnZhciBfd2tzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xudmFyIHN0b3JlID0gX3NoYXJlZCgnd2tzJyk7XG5cbnZhciBTeW1ib2wgPSBfZ2xvYmFsLlN5bWJvbDtcbnZhciBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogX3VpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcbn0pO1xuXG52YXIgU1BFQ0lFUyA9IF93a3MoJ3NwZWNpZXMnKTtcblxudmFyIF9hcnJheVNwZWNpZXNDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICB2YXIgQztcbiAgaWYgKF9pc0FycmF5KG9yaWdpbmFsKSkge1xuICAgIEMgPSBvcmlnaW5hbC5jb25zdHJ1Y3RvcjtcbiAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuICAgIGlmICh0eXBlb2YgQyA9PSAnZnVuY3Rpb24nICYmIChDID09PSBBcnJheSB8fCBfaXNBcnJheShDLnByb3RvdHlwZSkpKSBDID0gdW5kZWZpbmVkO1xuICAgIGlmIChfaXNPYmplY3QoQykpIHtcbiAgICAgIEMgPSBDW1NQRUNJRVNdO1xuICAgICAgaWYgKEMgPT09IG51bGwpIEMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9IHJldHVybiBDID09PSB1bmRlZmluZWQgPyBBcnJheSA6IEM7XG59O1xuXG4vLyA5LjQuMi4zIEFycmF5U3BlY2llc0NyZWF0ZShvcmlnaW5hbEFycmF5LCBsZW5ndGgpXG5cblxudmFyIF9hcnJheVNwZWNpZXNDcmVhdGUgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGxlbmd0aCkge1xuICByZXR1cm4gbmV3IChfYXJyYXlTcGVjaWVzQ29uc3RydWN0b3Iob3JpZ2luYWwpKShsZW5ndGgpO1xufTtcblxuLy8gMCAtPiBBcnJheSNmb3JFYWNoXG4vLyAxIC0+IEFycmF5I21hcFxuLy8gMiAtPiBBcnJheSNmaWx0ZXJcbi8vIDMgLT4gQXJyYXkjc29tZVxuLy8gNCAtPiBBcnJheSNldmVyeVxuLy8gNSAtPiBBcnJheSNmaW5kXG4vLyA2IC0+IEFycmF5I2ZpbmRJbmRleFxuXG5cblxuXG5cbnZhciBfYXJyYXlNZXRob2RzID0gZnVuY3Rpb24gKFRZUEUsICRjcmVhdGUpIHtcbiAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgdmFyIElTX0ZJTFRFUiA9IFRZUEUgPT0gMjtcbiAgdmFyIElTX1NPTUUgPSBUWVBFID09IDM7XG4gIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgdmFyIElTX0ZJTkRfSU5ERVggPSBUWVBFID09IDY7XG4gIHZhciBOT19IT0xFUyA9IFRZUEUgPT0gNSB8fCBJU19GSU5EX0lOREVYO1xuICB2YXIgY3JlYXRlID0gJGNyZWF0ZSB8fCBfYXJyYXlTcGVjaWVzQ3JlYXRlO1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBjYWxsYmFja2ZuLCB0aGF0KSB7XG4gICAgdmFyIE8gPSBfdG9PYmplY3QoJHRoaXMpO1xuICAgIHZhciBzZWxmID0gX2lvYmplY3QoTyk7XG4gICAgdmFyIGYgPSBfY3R4KGNhbGxiYWNrZm4sIHRoYXQsIDMpO1xuICAgIHZhciBsZW5ndGggPSBfdG9MZW5ndGgoc2VsZi5sZW5ndGgpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHJlc3VsdCA9IElTX01BUCA/IGNyZWF0ZSgkdGhpcywgbGVuZ3RoKSA6IElTX0ZJTFRFUiA/IGNyZWF0ZSgkdGhpcywgMCkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIHZhbCwgcmVzO1xuICAgIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSBpZiAoTk9fSE9MRVMgfHwgaW5kZXggaW4gc2VsZikge1xuICAgICAgdmFsID0gc2VsZltpbmRleF07XG4gICAgICByZXMgPSBmKHZhbCwgaW5kZXgsIE8pO1xuICAgICAgaWYgKFRZUEUpIHtcbiAgICAgICAgaWYgKElTX01BUCkgcmVzdWx0W2luZGV4XSA9IHJlczsgICAvLyBtYXBcbiAgICAgICAgZWxzZSBpZiAocmVzKSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiB0cnVlOyAgICAgICAgICAgICAvLyBzb21lXG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gdmFsOyAgICAgICAgICAgICAgLy8gZmluZFxuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIGluZGV4OyAgICAgICAgICAgIC8vIGZpbmRJbmRleFxuICAgICAgICAgIGNhc2UgMjogcmVzdWx0LnB1c2godmFsKTsgICAgICAgIC8vIGZpbHRlclxuICAgICAgICB9IGVsc2UgaWYgKElTX0VWRVJZKSByZXR1cm4gZmFsc2U7IC8vIGV2ZXJ5XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBJU19GSU5EX0lOREVYID8gLTEgOiBJU19TT01FIHx8IElTX0VWRVJZID8gSVNfRVZFUlkgOiByZXN1bHQ7XG4gIH07XG59O1xuXG4vLyAyMi4xLjMuMzEgQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG52YXIgVU5TQ09QQUJMRVMgPSBfd2tzKCd1bnNjb3BhYmxlcycpO1xudmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5pZiAoQXJyYXlQcm90b1tVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKSBfaGlkZShBcnJheVByb3RvLCBVTlNDT1BBQkxFUywge30pO1xudmFyIF9hZGRUb1Vuc2NvcGFibGVzID0gZnVuY3Rpb24gKGtleSkge1xuICBBcnJheVByb3RvW1VOU0NPUEFCTEVTXVtrZXldID0gdHJ1ZTtcbn07XG5cbi8vIDIyLjEuMy44IEFycmF5LnByb3RvdHlwZS5maW5kKHByZWRpY2F0ZSwgdGhpc0FyZyA9IHVuZGVmaW5lZClcblxudmFyICRmaW5kID0gX2FycmF5TWV0aG9kcyg1KTtcbnZhciBLRVkgPSAnZmluZCc7XG52YXIgZm9yY2VkID0gdHJ1ZTtcbi8vIFNob3VsZG4ndCBza2lwIGhvbGVzXG5pZiAoS0VZIGluIFtdKSBBcnJheSgxKVtLRVldKGZ1bmN0aW9uICgpIHsgZm9yY2VkID0gZmFsc2U7IH0pO1xuX2V4cG9ydChfZXhwb3J0LlAgKyBfZXhwb3J0LkYgKiBmb3JjZWQsICdBcnJheScsIHtcbiAgZmluZDogZnVuY3Rpb24gZmluZChjYWxsYmFja2ZuIC8qICwgdGhhdCA9IHVuZGVmaW5lZCAqLykge1xuICAgIHJldHVybiAkZmluZCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xuX2FkZFRvVW5zY29wYWJsZXMoS0VZKTtcblxudmFyIGZpbmQgPSBfY29yZS5BcnJheS5maW5kO1xuXG4vLyAyMi4xLjMuOSBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4KHByZWRpY2F0ZSwgdGhpc0FyZyA9IHVuZGVmaW5lZClcblxudmFyICRmaW5kJDEgPSBfYXJyYXlNZXRob2RzKDYpO1xudmFyIEtFWSQxID0gJ2ZpbmRJbmRleCc7XG52YXIgZm9yY2VkJDEgPSB0cnVlO1xuLy8gU2hvdWxkbid0IHNraXAgaG9sZXNcbmlmIChLRVkkMSBpbiBbXSkgQXJyYXkoMSlbS0VZJDFdKGZ1bmN0aW9uICgpIHsgZm9yY2VkJDEgPSBmYWxzZTsgfSk7XG5fZXhwb3J0KF9leHBvcnQuUCArIF9leHBvcnQuRiAqIGZvcmNlZCQxLCAnQXJyYXknLCB7XG4gIGZpbmRJbmRleDogZnVuY3Rpb24gZmluZEluZGV4KGNhbGxiYWNrZm4gLyogLCB0aGF0ID0gdW5kZWZpbmVkICovKSB7XG4gICAgcmV0dXJuICRmaW5kJDEodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcbl9hZGRUb1Vuc2NvcGFibGVzKEtFWSQxKTtcblxudmFyIGZpbmRJbmRleCA9IF9jb3JlLkFycmF5LmZpbmRJbmRleDtcblxuLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG5cblxudmFyIF90b0lvYmplY3QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIF9pb2JqZWN0KF9kZWZpbmVkKGl0KSk7XG59O1xuXG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluJDEgPSBNYXRoLm1pbjtcbnZhciBfdG9BYnNvbHV0ZUluZGV4ID0gZnVuY3Rpb24gKGluZGV4LCBsZW5ndGgpIHtcbiAgaW5kZXggPSBfdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4kMShpbmRleCwgbGVuZ3RoKTtcbn07XG5cbi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG5cblxuXG52YXIgX2FycmF5SW5jbHVkZXMgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gX3RvSW9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IF90b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gX3RvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgIGlmICh2YWx1ZSAhPSB2YWx1ZSkgcmV0dXJuIHRydWU7XG4gICAgLy8gQXJyYXkjaW5kZXhPZiBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgIH0gZWxzZSBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pIHtcbiAgICAgIGlmIChPW2luZGV4XSA9PT0gZWwpIHJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgfTtcbn07XG5cbnZhciBzaGFyZWQgPSBfc2hhcmVkKCdrZXlzJyk7XG5cbnZhciBfc2hhcmVkS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gX3VpZChrZXkpKTtcbn07XG5cbnZhciBhcnJheUluZGV4T2YgPSBfYXJyYXlJbmNsdWRlcyhmYWxzZSk7XG52YXIgSUVfUFJPVE8gPSBfc2hhcmVkS2V5KCdJRV9QUk9UTycpO1xuXG52YXIgX29iamVjdEtleXNJbnRlcm5hbCA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gX3RvSW9iamVjdChvYmplY3QpO1xuICB2YXIgaSA9IDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gTykgaWYgKGtleSAhPSBJRV9QUk9UTykgX2hhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChfaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xudmFyIF9lbnVtQnVnS2V5cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcblxuLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG5cblxuXG52YXIgX29iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuIF9vYmplY3RLZXlzSW50ZXJuYWwoTywgX2VudW1CdWdLZXlzKTtcbn07XG5cbnZhciBmJDEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG52YXIgX29iamVjdEdvcHMgPSB7XG5cdGY6IGYkMVxufTtcblxudmFyIGYkMiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG52YXIgX29iamVjdFBpZSA9IHtcblx0ZjogZiQyXG59O1xuXG4vLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG5cblxuXG5cblxudmFyICRhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuXG4vLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1ZylcbnZhciBfb2JqZWN0QXNzaWduID0gISRhc3NpZ24gfHwgX2ZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBTID0gU3ltYm9sKCk7XG4gIHZhciBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGspIHsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgPSBfdG9PYmplY3QodGFyZ2V0KTtcbiAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgaW5kZXggPSAxO1xuICB2YXIgZ2V0U3ltYm9scyA9IF9vYmplY3RHb3BzLmY7XG4gIHZhciBpc0VudW0gPSBfb2JqZWN0UGllLmY7XG4gIHdoaWxlIChhTGVuID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IF9pb2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSk7XG4gICAgdmFyIGtleXMgPSBnZXRTeW1ib2xzID8gX29iamVjdEtleXMoUykuY29uY2F0KGdldFN5bWJvbHMoUykpIDogX29iamVjdEtleXMoUyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKSBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSkgVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG5cbi8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG5cblxuX2V4cG9ydChfZXhwb3J0LlMgKyBfZXhwb3J0LkYsICdPYmplY3QnLCB7IGFzc2lnbjogX29iamVjdEFzc2lnbiB9KTtcblxudmFyIGFzc2lnbiA9IF9jb3JlLk9iamVjdC5hc3NpZ247XG5cbi8vIDcuMi44IElzUmVnRXhwKGFyZ3VtZW50KVxuXG5cbnZhciBNQVRDSCA9IF93a3MoJ21hdGNoJyk7XG52YXIgX2lzUmVnZXhwID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBpc1JlZ0V4cDtcbiAgcmV0dXJuIF9pc09iamVjdChpdCkgJiYgKChpc1JlZ0V4cCA9IGl0W01BVENIXSkgIT09IHVuZGVmaW5lZCA/ICEhaXNSZWdFeHAgOiBfY29mKGl0KSA9PSAnUmVnRXhwJyk7XG59O1xuXG4vLyBoZWxwZXIgZm9yIFN0cmluZyN7c3RhcnRzV2l0aCwgZW5kc1dpdGgsIGluY2x1ZGVzfVxuXG5cblxudmFyIF9zdHJpbmdDb250ZXh0ID0gZnVuY3Rpb24gKHRoYXQsIHNlYXJjaFN0cmluZywgTkFNRSkge1xuICBpZiAoX2lzUmVnZXhwKHNlYXJjaFN0cmluZykpIHRocm93IFR5cGVFcnJvcignU3RyaW5nIycgKyBOQU1FICsgXCIgZG9lc24ndCBhY2NlcHQgcmVnZXghXCIpO1xuICByZXR1cm4gU3RyaW5nKF9kZWZpbmVkKHRoYXQpKTtcbn07XG5cbnZhciBNQVRDSCQxID0gX3drcygnbWF0Y2gnKTtcbnZhciBfZmFpbHNJc1JlZ2V4cCA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIHJlID0gLy4vO1xuICB0cnkge1xuICAgICcvLi8nW0tFWV0ocmUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlW01BVENIJDFdID0gZmFsc2U7XG4gICAgICByZXR1cm4gIScvLi8nW0tFWV0ocmUpO1xuICAgIH0gY2F0Y2ggKGYpIHsgLyogZW1wdHkgKi8gfVxuICB9IHJldHVybiB0cnVlO1xufTtcblxudmFyIFNUQVJUU19XSVRIID0gJ3N0YXJ0c1dpdGgnO1xudmFyICRzdGFydHNXaXRoID0gJydbU1RBUlRTX1dJVEhdO1xuXG5fZXhwb3J0KF9leHBvcnQuUCArIF9leHBvcnQuRiAqIF9mYWlsc0lzUmVnZXhwKFNUQVJUU19XSVRIKSwgJ1N0cmluZycsIHtcbiAgc3RhcnRzV2l0aDogZnVuY3Rpb24gc3RhcnRzV2l0aChzZWFyY2hTdHJpbmcgLyogLCBwb3NpdGlvbiA9IDAgKi8pIHtcbiAgICB2YXIgdGhhdCA9IF9zdHJpbmdDb250ZXh0KHRoaXMsIHNlYXJjaFN0cmluZywgU1RBUlRTX1dJVEgpO1xuICAgIHZhciBpbmRleCA9IF90b0xlbmd0aChNYXRoLm1pbihhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgdGhhdC5sZW5ndGgpKTtcbiAgICB2YXIgc2VhcmNoID0gU3RyaW5nKHNlYXJjaFN0cmluZyk7XG4gICAgcmV0dXJuICRzdGFydHNXaXRoXG4gICAgICA/ICRzdGFydHNXaXRoLmNhbGwodGhhdCwgc2VhcmNoLCBpbmRleClcbiAgICAgIDogdGhhdC5zbGljZShpbmRleCwgaW5kZXggKyBzZWFyY2gubGVuZ3RoKSA9PT0gc2VhcmNoO1xuICB9XG59KTtcblxudmFyIHN0YXJ0c1dpdGggPSBfY29yZS5TdHJpbmcuc3RhcnRzV2l0aDtcblxudmFyIF9zdHJpbmdSZXBlYXQgPSBmdW5jdGlvbiByZXBlYXQoY291bnQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhfZGVmaW5lZCh0aGlzKSk7XG4gIHZhciByZXMgPSAnJztcbiAgdmFyIG4gPSBfdG9JbnRlZ2VyKGNvdW50KTtcbiAgaWYgKG4gPCAwIHx8IG4gPT0gSW5maW5pdHkpIHRocm93IFJhbmdlRXJyb3IoXCJDb3VudCBjYW4ndCBiZSBuZWdhdGl2ZVwiKTtcbiAgZm9yICg7biA+IDA7IChuID4+Pj0gMSkgJiYgKHN0ciArPSBzdHIpKSBpZiAobiAmIDEpIHJlcyArPSBzdHI7XG4gIHJldHVybiByZXM7XG59O1xuXG5fZXhwb3J0KF9leHBvcnQuUCwgJ1N0cmluZycsIHtcbiAgLy8gMjEuMS4zLjEzIFN0cmluZy5wcm90b3R5cGUucmVwZWF0KGNvdW50KVxuICByZXBlYXQ6IF9zdHJpbmdSZXBlYXRcbn0pO1xuXG52YXIgcmVwZWF0ID0gX2NvcmUuU3RyaW5nLnJlcGVhdDtcblxudmFyIF9tZXRhID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xudmFyIE1FVEEgPSBfdWlkKCdtZXRhJyk7XG5cblxudmFyIHNldERlc2MgPSBfb2JqZWN0RHAuZjtcbnZhciBpZCA9IDA7XG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBGUkVFWkUgPSAhX2ZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghX2lzT2JqZWN0KGl0KSkgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgaWYgKCFfaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgaWYgKCFfaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFfaGFzKGl0LCBNRVRBKSkgc2V0TWV0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuICBLRVk6IE1FVEEsXG4gIE5FRUQ6IGZhbHNlLFxuICBmYXN0S2V5OiBmYXN0S2V5LFxuICBnZXRXZWFrOiBnZXRXZWFrLFxuICBvbkZyZWV6ZTogb25GcmVlemVcbn07XG59KTtcbnZhciBfbWV0YV8xID0gX21ldGEuS0VZO1xudmFyIF9tZXRhXzIgPSBfbWV0YS5ORUVEO1xudmFyIF9tZXRhXzMgPSBfbWV0YS5mYXN0S2V5O1xudmFyIF9tZXRhXzQgPSBfbWV0YS5nZXRXZWFrO1xudmFyIF9tZXRhXzUgPSBfbWV0YS5vbkZyZWV6ZTtcblxudmFyIGRlZiA9IF9vYmplY3REcC5mO1xuXG52YXIgVEFHID0gX3drcygndG9TdHJpbmdUYWcnKTtcblxudmFyIF9zZXRUb1N0cmluZ1RhZyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhX2hhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSkgZGVmKGl0LCBUQUcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnIH0pO1xufTtcblxudmFyIGYkMyA9IF93a3M7XG5cbnZhciBfd2tzRXh0ID0ge1xuXHRmOiBmJDNcbn07XG5cbnZhciBfbGlicmFyeSA9IGZhbHNlO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBfb2JqZWN0RHAuZjtcbnZhciBfd2tzRGVmaW5lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgdmFyICRTeW1ib2wgPSBfY29yZS5TeW1ib2wgfHwgKF9jb3JlLlN5bWJvbCA9IF9saWJyYXJ5ID8ge30gOiBfZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKSBkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7IHZhbHVlOiBfd2tzRXh0LmYobmFtZSkgfSk7XG59O1xuXG4vLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xuXG5cblxudmFyIF9lbnVtS2V5cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgcmVzdWx0ID0gX29iamVjdEtleXMoaXQpO1xuICB2YXIgZ2V0U3ltYm9scyA9IF9vYmplY3RHb3BzLmY7XG4gIGlmIChnZXRTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KTtcbiAgICB2YXIgaXNFbnVtID0gX29iamVjdFBpZS5mO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChzeW1ib2xzLmxlbmd0aCA+IGkpIGlmIChpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIF9vYmplY3REcHMgPSBfZGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICBfYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gX29iamVjdEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGkgPSAwO1xuICB2YXIgUDtcbiAgd2hpbGUgKGxlbmd0aCA+IGkpIF9vYmplY3REcC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07XG5cbnZhciBkb2N1bWVudCQxID0gX2dsb2JhbC5kb2N1bWVudDtcbnZhciBfaHRtbCA9IGRvY3VtZW50JDEgJiYgZG9jdW1lbnQkMS5kb2N1bWVudEVsZW1lbnQ7XG5cbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuXG5cblxudmFyIElFX1BST1RPJDEgPSBfc2hhcmVkS2V5KCdJRV9QUk9UTycpO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIFBST1RPVFlQRSQxID0gJ3Byb3RvdHlwZSc7XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24gKCkge1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gX2RvbUNyZWF0ZSgnaWZyYW1lJyk7XG4gIHZhciBpID0gX2VudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIF9odG1sLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRSQxXVtfZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxudmFyIF9vYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlbUFJPVE9UWVBFJDFdID0gX2FuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpO1xuICAgIEVtcHR5W1BST1RPVFlQRSQxXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UTyQxXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBfb2JqZWN0RHBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuXG4vLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG5cbnZhciBoaWRkZW5LZXlzID0gX2VudW1CdWdLZXlzLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG52YXIgZiQ0ID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiBfb2JqZWN0S2V5c0ludGVybmFsKE8sIGhpZGRlbktleXMpO1xufTtcblxudmFyIF9vYmplY3RHb3BuID0ge1xuXHRmOiBmJDRcbn07XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcblxudmFyIGdPUE4gPSBfb2JqZWN0R29wbi5mO1xudmFyIHRvU3RyaW5nJDEgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uIChpdCkge1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG52YXIgZiQ1ID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmckMS5jYWxsKGl0KSA9PSAnW29iamVjdCBXaW5kb3ddJyA/IGdldFdpbmRvd05hbWVzKGl0KSA6IGdPUE4oX3RvSW9iamVjdChpdCkpO1xufTtcblxudmFyIF9vYmplY3RHb3BuRXh0ID0ge1xuXHRmOiBmJDVcbn07XG5cbnZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxudmFyIGYkNiA9IF9kZXNjcmlwdG9ycyA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gX3RvSW9iamVjdChPKTtcbiAgUCA9IF90b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKF9pZThEb21EZWZpbmUpIHRyeSB7XG4gICAgcmV0dXJuIGdPUEQoTywgUCk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoX2hhcyhPLCBQKSkgcmV0dXJuIF9wcm9wZXJ0eURlc2MoIV9vYmplY3RQaWUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG5cbnZhciBfb2JqZWN0R29wZCA9IHtcblx0ZjogZiQ2XG59O1xuXG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG5cblxuXG5cblxudmFyIE1FVEEgPSBfbWV0YS5LRVk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBnT1BEJDEgPSBfb2JqZWN0R29wZC5mO1xudmFyIGRQJDEgPSBfb2JqZWN0RHAuZjtcbnZhciBnT1BOJDEgPSBfb2JqZWN0R29wbkV4dC5mO1xudmFyICRTeW1ib2wgPSBfZ2xvYmFsLlN5bWJvbDtcbnZhciAkSlNPTiA9IF9nbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSQyID0gJ3Byb3RvdHlwZSc7XG52YXIgSElEREVOID0gX3drcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IF93a3MoJ3RvUHJpbWl0aXZlJyk7XG52YXIgaXNFbnVtID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgU3ltYm9sUmVnaXN0cnkgPSBfc2hhcmVkKCdzeW1ib2wtcmVnaXN0cnknKTtcbnZhciBBbGxTeW1ib2xzID0gX3NoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IF9zaGFyZWQoJ29wLXN5bWJvbHMnKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdFtQUk9UT1RZUEUkMl07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbic7XG52YXIgUU9iamVjdCA9IF9nbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRSQyXSB8fCAhUU9iamVjdFtQUk9UT1RZUEUkMl0uZmluZENoaWxkO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjID0gX2Rlc2NyaXB0b3JzICYmIF9mYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfb2JqZWN0Q3JlYXRlKGRQJDEoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZFAkMSh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoaXQsIGtleSwgRCkge1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRCQxKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZiAocHJvdG9EZXNjKSBkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAkMShpdCwga2V5LCBEKTtcbiAgaWYgKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pIGRQJDEoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUCQxO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9vYmplY3RDcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEUkMl0pO1xuICBzeW0uX2sgPSB0YWc7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCkge1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvKSAkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuICBfYW5PYmplY3QoaXQpO1xuICBrZXkgPSBfdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgX2FuT2JqZWN0KEQpO1xuICBpZiAoX2hhcyhBbGxTeW1ib2xzLCBrZXkpKSB7XG4gICAgaWYgKCFELmVudW1lcmFibGUpIHtcbiAgICAgIGlmICghX2hhcyhpdCwgSElEREVOKSkgZFAkMShpdCwgSElEREVOLCBfcHJvcGVydHlEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoX2hhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pIGl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9vYmplY3RDcmVhdGUoRCwgeyBlbnVtZXJhYmxlOiBfcHJvcGVydHlEZXNjKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUCQxKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApIHtcbiAgX2FuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBfZW51bUtleXMoUCA9IF90b0lvYmplY3QoUCkpO1xuICB2YXIgaSA9IDA7XG4gIHZhciBsID0ga2V5cy5sZW5ndGg7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChsID4gaSkgJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCkge1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX29iamVjdENyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfb2JqZWN0Q3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSkge1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IF90b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvICYmIF9oYXMoQWxsU3ltYm9scywga2V5KSAmJiAhX2hhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIV9oYXModGhpcywga2V5KSB8fCAhX2hhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IF9oYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgaXQgPSBfdG9Jb2JqZWN0KGl0KTtcbiAga2V5ID0gX3RvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8gJiYgX2hhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFfaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQkMShpdCwga2V5KTtcbiAgaWYgKEQgJiYgX2hhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoX2hhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKSBELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gIHZhciBuYW1lcyA9IGdPUE4kMShfdG9Jb2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmICghX2hhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgdmFyIElTX09QID0gaXQgPT09IE9iamVjdFByb3RvO1xuICB2YXIgbmFtZXMgPSBnT1BOJDEoSVNfT1AgPyBPUFN5bWJvbHMgOiBfdG9Jb2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmIChfaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IF9oYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSkgcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZiAoIVVTRV9OQVRJVkUpIHtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpIHRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIScpO1xuICAgIHZhciB0YWcgPSBfdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvKSAkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZiAoX2hhcyh0aGlzLCBISURERU4pICYmIF9oYXModGhpc1tISURERU5dLCB0YWcpKSB0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIF9wcm9wZXJ0eURlc2MoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmIChfZGVzY3JpcHRvcnMgJiYgc2V0dGVyKSBzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXQgfSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgX3JlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFJDJdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgX29iamVjdEdvcGQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gIF9vYmplY3REcC5mID0gJGRlZmluZVByb3BlcnR5O1xuICBfb2JqZWN0R29wbi5mID0gX29iamVjdEdvcG5FeHQuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICBfb2JqZWN0UGllLmYgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIF9vYmplY3RHb3BzLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmIChfZGVzY3JpcHRvcnMgJiYgIV9saWJyYXJ5KSB7XG4gICAgX3JlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgX3drc0V4dC5mID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gd3JhcChfd2tzKG5hbWUpKTtcbiAgfTtcbn1cblxuX2V4cG9ydChfZXhwb3J0LkcgKyBfZXhwb3J0LlcgKyBfZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgeyBTeW1ib2w6ICRTeW1ib2wgfSk7XG5cbmZvciAodmFyIGVzNlN5bWJvbHMgPSAoXG4gIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG4gICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbikuc3BsaXQoJywnKSwgaiA9IDA7IGVzNlN5bWJvbHMubGVuZ3RoID4gajspX3drcyhlczZTeW1ib2xzW2orK10pO1xuXG5mb3IgKHZhciB3ZWxsS25vd25TeW1ib2xzID0gX29iamVjdEtleXMoX3drcy5zdG9yZSksIGsgPSAwOyB3ZWxsS25vd25TeW1ib2xzLmxlbmd0aCA+IGs7KSBfd2tzRGVmaW5lKHdlbGxLbm93blN5bWJvbHNbaysrXSk7XG5cbl9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBfaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgIGlmICghaXNTeW1ib2woc3ltKSkgdGhyb3cgVHlwZUVycm9yKHN5bSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICAgIGZvciAodmFyIGtleSBpbiBTeW1ib2xSZWdpc3RyeSkgaWYgKFN5bWJvbFJlZ2lzdHJ5W2tleV0gPT09IHN5bSkgcmV0dXJuIGtleTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbl9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmIF9leHBvcnQoX2V4cG9ydC5TICsgX2V4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8IF9mYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHsgYTogUyB9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSkpLCAnSlNPTicsIHtcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpIHtcbiAgICB2YXIgYXJncyA9IFtpdF07XG4gICAgdmFyIGkgPSAxO1xuICAgIHZhciByZXBsYWNlciwgJHJlcGxhY2VyO1xuICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSkgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICAkcmVwbGFjZXIgPSByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYgKCFfaXNPYmplY3QocmVwbGFjZXIpICYmIGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKSByZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICBpZiAoIV9pc0FycmF5KHJlcGxhY2VyKSkgcmVwbGFjZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiAkcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykgdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEUkMl1bVE9fUFJJTUlUSVZFXSB8fCBfaGlkZSgkU3ltYm9sW1BST1RPVFlQRSQyXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRSQyXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbl9zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5fc2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5fc2V0VG9TdHJpbmdUYWcoX2dsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuXG4vLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxuXG52YXIgVEFHJDEgPSBfd2tzKCd0b1N0cmluZ1RhZycpO1xuLy8gRVMzIHdyb25nIGhlcmVcbnZhciBBUkcgPSBfY29mKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn07XG5cbnZhciBfY2xhc3NvZiA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRyQxKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBfY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBfY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG5cbi8vIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxuXG52YXIgdGVzdCA9IHt9O1xudGVzdFtfd2tzKCd0b1N0cmluZ1RhZycpXSA9ICd6JztcbmlmICh0ZXN0ICsgJycgIT0gJ1tvYmplY3Qgel0nKSB7XG4gIF9yZWRlZmluZShPYmplY3QucHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ1tvYmplY3QgJyArIF9jbGFzc29mKHRoaXMpICsgJ10nO1xuICB9LCB0cnVlKTtcbn1cblxuX3drc0RlZmluZSgnYXN5bmNJdGVyYXRvcicpO1xuXG5fd2tzRGVmaW5lKCdvYnNlcnZhYmxlJyk7XG5cbnZhciBzeW1ib2wgPSBfY29yZS5TeW1ib2w7XG5cbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG52YXIgX3N0cmluZ0F0ID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykge1xuICAgIHZhciBzID0gU3RyaW5nKF9kZWZpbmVkKHRoYXQpKTtcbiAgICB2YXIgaSA9IF90b0ludGVnZXIocG9zKTtcbiAgICB2YXIgbCA9IHMubGVuZ3RoO1xuICAgIHZhciBhLCBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuXG52YXIgX2l0ZXJhdG9ycyA9IHt9O1xuXG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbl9oaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBfd2tzKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTtcblxudmFyIF9pdGVyQ3JlYXRlID0gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IF9vYmplY3RDcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogX3Byb3BlcnR5RGVzYygxLCBuZXh0KSB9KTtcbiAgX3NldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcblxuLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcblxuXG52YXIgSUVfUFJPVE8kMiA9IF9zaGFyZWRLZXkoJ0lFX1BST1RPJyk7XG52YXIgT2JqZWN0UHJvdG8kMSA9IE9iamVjdC5wcm90b3R5cGU7XG5cbnZhciBfb2JqZWN0R3BvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChPKSB7XG4gIE8gPSBfdG9PYmplY3QoTyk7XG4gIGlmIChfaGFzKE8sIElFX1BST1RPJDIpKSByZXR1cm4gT1tJRV9QUk9UTyQyXTtcbiAgaWYgKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byQxIDogbnVsbDtcbn07XG5cbnZhciBJVEVSQVRPUiA9IF93a3MoJ2l0ZXJhdG9yJyk7XG52YXIgQlVHR1kgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSk7IC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbnZhciBGRl9JVEVSQVRPUiA9ICdAQGl0ZXJhdG9yJztcbnZhciBLRVlTID0gJ2tleXMnO1xudmFyIFZBTFVFUyA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbnZhciBfaXRlckRlZmluZSA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgX2l0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBfb2JqZWN0R3BvKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSgpKSk7XG4gICAgaWYgKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEl0ZXJhdG9yUHJvdG90eXBlLm5leHQpIHtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIF9zZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFfbGlicmFyeSAmJiB0eXBlb2YgSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdICE9ICdmdW5jdGlvbicpIF9oaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYgKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUykge1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZiAoKCFfbGlicmFyeSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgX2hpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBfaXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIF9pdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSBfcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgX2V4cG9ydChfZXhwb3J0LlAgKyBfZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG4gIHJldHVybiBtZXRob2RzO1xufTtcblxudmFyICRhdCA9IF9zdHJpbmdBdCh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxuX2l0ZXJEZWZpbmUoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24gKGl0ZXJhdGVkKSB7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIgaW5kZXggPSB0aGlzLl9pO1xuICB2YXIgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBPLmxlbmd0aCkgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4geyB2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlIH07XG59KTtcblxudmFyIF9pdGVyU3RlcCA9IGZ1bmN0aW9uIChkb25lLCB2YWx1ZSkge1xuICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZSB9O1xufTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxudmFyIGVzNl9hcnJheV9pdGVyYXRvciA9IF9pdGVyRGVmaW5lKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcbiAgdGhpcy5fdCA9IF90b0lvYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBraW5kID0gdGhpcy5faztcbiAgdmFyIGluZGV4ID0gdGhpcy5faSsrO1xuICBpZiAoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpIHtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBfaXRlclN0ZXAoMSk7XG4gIH1cbiAgaWYgKGtpbmQgPT0gJ2tleXMnKSByZXR1cm4gX2l0ZXJTdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBfaXRlclN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gX2l0ZXJTdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuX2l0ZXJhdG9ycy5Bcmd1bWVudHMgPSBfaXRlcmF0b3JzLkFycmF5O1xuXG5fYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuX2FkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuX2FkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxudmFyIElURVJBVE9SJDEgPSBfd2tzKCdpdGVyYXRvcicpO1xudmFyIFRPX1NUUklOR19UQUcgPSBfd2tzKCd0b1N0cmluZ1RhZycpO1xudmFyIEFycmF5VmFsdWVzID0gX2l0ZXJhdG9ycy5BcnJheTtcblxudmFyIERPTUl0ZXJhYmxlcyA9IHtcbiAgQ1NTUnVsZUxpc3Q6IHRydWUsIC8vIFRPRE86IE5vdCBzcGVjIGNvbXBsaWFudCwgc2hvdWxkIGJlIGZhbHNlLlxuICBDU1NTdHlsZURlY2xhcmF0aW9uOiBmYWxzZSxcbiAgQ1NTVmFsdWVMaXN0OiBmYWxzZSxcbiAgQ2xpZW50UmVjdExpc3Q6IGZhbHNlLFxuICBET01SZWN0TGlzdDogZmFsc2UsXG4gIERPTVN0cmluZ0xpc3Q6IGZhbHNlLFxuICBET01Ub2tlbkxpc3Q6IHRydWUsXG4gIERhdGFUcmFuc2Zlckl0ZW1MaXN0OiBmYWxzZSxcbiAgRmlsZUxpc3Q6IGZhbHNlLFxuICBIVE1MQWxsQ29sbGVjdGlvbjogZmFsc2UsXG4gIEhUTUxDb2xsZWN0aW9uOiBmYWxzZSxcbiAgSFRNTEZvcm1FbGVtZW50OiBmYWxzZSxcbiAgSFRNTFNlbGVjdEVsZW1lbnQ6IGZhbHNlLFxuICBNZWRpYUxpc3Q6IHRydWUsIC8vIFRPRE86IE5vdCBzcGVjIGNvbXBsaWFudCwgc2hvdWxkIGJlIGZhbHNlLlxuICBNaW1lVHlwZUFycmF5OiBmYWxzZSxcbiAgTmFtZWROb2RlTWFwOiBmYWxzZSxcbiAgTm9kZUxpc3Q6IHRydWUsXG4gIFBhaW50UmVxdWVzdExpc3Q6IGZhbHNlLFxuICBQbHVnaW46IGZhbHNlLFxuICBQbHVnaW5BcnJheTogZmFsc2UsXG4gIFNWR0xlbmd0aExpc3Q6IGZhbHNlLFxuICBTVkdOdW1iZXJMaXN0OiBmYWxzZSxcbiAgU1ZHUGF0aFNlZ0xpc3Q6IGZhbHNlLFxuICBTVkdQb2ludExpc3Q6IGZhbHNlLFxuICBTVkdTdHJpbmdMaXN0OiBmYWxzZSxcbiAgU1ZHVHJhbnNmb3JtTGlzdDogZmFsc2UsXG4gIFNvdXJjZUJ1ZmZlckxpc3Q6IGZhbHNlLFxuICBTdHlsZVNoZWV0TGlzdDogdHJ1ZSwgLy8gVE9ETzogTm90IHNwZWMgY29tcGxpYW50LCBzaG91bGQgYmUgZmFsc2UuXG4gIFRleHRUcmFja0N1ZUxpc3Q6IGZhbHNlLFxuICBUZXh0VHJhY2tMaXN0OiBmYWxzZSxcbiAgVG91Y2hMaXN0OiBmYWxzZVxufTtcblxuZm9yICh2YXIgY29sbGVjdGlvbnMgPSBfb2JqZWN0S2V5cyhET01JdGVyYWJsZXMpLCBpID0gMDsgaSA8IGNvbGxlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gIHZhciBOQU1FID0gY29sbGVjdGlvbnNbaV07XG4gIHZhciBleHBsaWNpdCA9IERPTUl0ZXJhYmxlc1tOQU1FXTtcbiAgdmFyIENvbGxlY3Rpb24gPSBfZ2xvYmFsW05BTUVdO1xuICB2YXIgcHJvdG8gPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICB2YXIga2V5O1xuICBpZiAocHJvdG8pIHtcbiAgICBpZiAoIXByb3RvW0lURVJBVE9SJDFdKSBfaGlkZShwcm90bywgSVRFUkFUT1IkMSwgQXJyYXlWYWx1ZXMpO1xuICAgIGlmICghcHJvdG9bVE9fU1RSSU5HX1RBR10pIF9oaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgICBfaXRlcmF0b3JzW05BTUVdID0gQXJyYXlWYWx1ZXM7XG4gICAgaWYgKGV4cGxpY2l0KSBmb3IgKGtleSBpbiBlczZfYXJyYXlfaXRlcmF0b3IpIGlmICghcHJvdG9ba2V5XSkgX3JlZGVmaW5lKHByb3RvLCBrZXksIGVzNl9hcnJheV9pdGVyYXRvcltrZXldLCB0cnVlKTtcbiAgfVxufVxuXG52YXIgaXRlcmF0b3IgPSBfd2tzRXh0LmYoJ2l0ZXJhdG9yJyk7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xuIiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLmZldGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3VwcG9ydCA9IHtcbiAgICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gICAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH1cblxuICBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICAgIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICAgIF1cblxuICAgIHZhciBpc0RhdGFWaWV3ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgICB9XG5cbiAgICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlci5pc1ZpZXcgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gICAgfVxuICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICAgIH1cbiAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fVxuXG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgICB9LCB0aGlzKVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUrJywnK3ZhbHVlIDogdmFsdWVcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICAgIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2gobmFtZSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkgeyBpdGVtcy5wdXNoKHZhbHVlKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXVxuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkgeyBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgICB9XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gICAgfVxuICAgIHJldHVybiBjaGFycy5qb2luKCcnKVxuICB9XG5cbiAgZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gICAgaWYgKGJ1Zi5zbGljZSkge1xuICAgICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICAgIH1cbiAgICB0aGlzLl9pbml0Qm9keShib2R5KVxuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywgeyBib2R5OiB0aGlzLl9ib2R5SW5pdCB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAgIC8vIFJlcGxhY2UgaW5zdGFuY2VzIG9mIFxcclxcbiBhbmQgXFxuIGZvbGxvd2VkIGJ5IGF0IGxlYXN0IG9uZSBzcGFjZSBvciBob3Jpem9udGFsIHRhYiB3aXRoIGEgc3BhY2VcbiAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzIzMCNzZWN0aW9uLTMuMlxuICAgIHZhciBwcmVQcm9jZXNzZWRIZWFkZXJzID0gcmF3SGVhZGVycy5yZXBsYWNlKC9cXHI/XFxuW1xcdCBdKy9nLCAnICcpXG4gICAgcHJlUHJvY2Vzc2VkSGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gICAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cyA9PT0gdW5kZWZpbmVkID8gMjAwIDogb3B0aW9ucy5zdGF0dXNcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfVxuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbiAgfVxuXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2VcblxuICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ29taXQnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZVxuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgfSlcblxuICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgICB9KVxuICB9XG4gIHNlbGYuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcyk7XG4iLCJpbXBvcnQgeyBFcnJvckZhY3RvcnksIGNyZWF0ZVN1YnNjcmliZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IF9fZXh0ZW5kcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX19hc3NpZ24gfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgZmlyZWJhc2UgZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIEVSUk9SX0NPREVTID0ge1xyXG4gICAgQVZBSUxBQkxFX0lOX1dJTkRPVzogJ29ubHktYXZhaWxhYmxlLWluLXdpbmRvdycsXHJcbiAgICBBVkFJTEFCTEVfSU5fU1c6ICdvbmx5LWF2YWlsYWJsZS1pbi1zdycsXHJcbiAgICBTSE9VTERfQkVfSU5IRVJJVEVEOiAnc2hvdWxkLWJlLW92ZXJyaWRlbicsXHJcbiAgICBCQURfU0VOREVSX0lEOiAnYmFkLXNlbmRlci1pZCcsXHJcbiAgICBJTkNPUlJFQ1RfR0NNX1NFTkRFUl9JRDogJ2luY29ycmVjdC1nY20tc2VuZGVyLWlkJyxcclxuICAgIFBFUk1JU1NJT05fREVGQVVMVDogJ3Blcm1pc3Npb24tZGVmYXVsdCcsXHJcbiAgICBQRVJNSVNTSU9OX0JMT0NLRUQ6ICdwZXJtaXNzaW9uLWJsb2NrZWQnLFxyXG4gICAgVU5TVVBQT1JURURfQlJPV1NFUjogJ3Vuc3VwcG9ydGVkLWJyb3dzZXInLFxyXG4gICAgTk9USUZJQ0FUSU9OU19CTE9DS0VEOiAnbm90aWZpY2F0aW9ucy1ibG9ja2VkJyxcclxuICAgIEZBSUxFRF9ERUZBVUxUX1JFR0lTVFJBVElPTjogJ2ZhaWxlZC1zZXJ2aWNld29ya2VyLXJlZ2lzdHJhdGlvbicsXHJcbiAgICBTV19SRUdJU1RSQVRJT05fRVhQRUNURUQ6ICdzdy1yZWdpc3RyYXRpb24tZXhwZWN0ZWQnLFxyXG4gICAgR0VUX1NVQlNDUklQVElPTl9GQUlMRUQ6ICdnZXQtc3Vic2NyaXB0aW9uLWZhaWxlZCcsXHJcbiAgICBJTlZBTElEX1NBVkVEX1RPS0VOOiAnaW52YWxpZC1zYXZlZC10b2tlbicsXHJcbiAgICBTV19SRUdfUkVEVU5EQU5UOiAnc3ctcmVnLXJlZHVuZGFudCcsXHJcbiAgICBUT0tFTl9TVUJTQ1JJQkVfRkFJTEVEOiAndG9rZW4tc3Vic2NyaWJlLWZhaWxlZCcsXHJcbiAgICBUT0tFTl9TVUJTQ1JJQkVfTk9fVE9LRU46ICd0b2tlbi1zdWJzY3JpYmUtbm8tdG9rZW4nLFxyXG4gICAgVE9LRU5fU1VCU0NSSUJFX05PX1BVU0hfU0VUOiAndG9rZW4tc3Vic2NyaWJlLW5vLXB1c2gtc2V0JyxcclxuICAgIFRPS0VOX1VOU1VCU0NSSUJFX0ZBSUxFRDogJ3Rva2VuLXVuc3Vic2NyaWJlLWZhaWxlZCcsXHJcbiAgICBUT0tFTl9VUERBVEVfRkFJTEVEOiAndG9rZW4tdXBkYXRlLWZhaWxlZCcsXHJcbiAgICBUT0tFTl9VUERBVEVfTk9fVE9LRU46ICd0b2tlbi11cGRhdGUtbm8tdG9rZW4nLFxyXG4gICAgVVNFX1NXX0JFRk9SRV9HRVRfVE9LRU46ICd1c2Utc3ctYmVmb3JlLWdldC10b2tlbicsXHJcbiAgICBJTlZBTElEX0RFTEVURV9UT0tFTjogJ2ludmFsaWQtZGVsZXRlLXRva2VuJyxcclxuICAgIERFTEVURV9UT0tFTl9OT1RfRk9VTkQ6ICdkZWxldGUtdG9rZW4tbm90LWZvdW5kJyxcclxuICAgIERFTEVURV9TQ09QRV9OT1RfRk9VTkQ6ICdkZWxldGUtc2NvcGUtbm90LWZvdW5kJyxcclxuICAgIEJHX0hBTkRMRVJfRlVOQ1RJT05fRVhQRUNURUQ6ICdiZy1oYW5kbGVyLWZ1bmN0aW9uLWV4cGVjdGVkJyxcclxuICAgIE5PX1dJTkRPV19DTElFTlRfVE9fTVNHOiAnbm8td2luZG93LWNsaWVudC10by1tc2cnLFxyXG4gICAgVU5BQkxFX1RPX1JFU1VCU0NSSUJFOiAndW5hYmxlLXRvLXJlc3Vic2NyaWJlJyxcclxuICAgIE5PX0ZDTV9UT0tFTl9GT1JfUkVTVUJTQ1JJQkU6ICduby1mY20tdG9rZW4tZm9yLXJlc3Vic2NyaWJlJyxcclxuICAgIEZBSUxFRF9UT19ERUxFVEVfVE9LRU46ICdmYWlsZWQtdG8tZGVsZXRlLXRva2VuJyxcclxuICAgIE5PX1NXX0lOX1JFRzogJ25vLXN3LWluLXJlZycsXHJcbiAgICBCQURfU0NPUEU6ICdiYWQtc2NvcGUnLFxyXG4gICAgQkFEX1ZBUElEX0tFWTogJ2JhZC12YXBpZC1rZXknLFxyXG4gICAgQkFEX1NVQlNDUklQVElPTjogJ2JhZC1zdWJzY3JpcHRpb24nLFxyXG4gICAgQkFEX1RPS0VOOiAnYmFkLXRva2VuJyxcclxuICAgIEJBRF9QVVNIX1NFVDogJ2JhZC1wdXNoLXNldCcsXHJcbiAgICBGQUlMRURfREVMRVRFX1ZBUElEX0tFWTogJ2ZhaWxlZC1kZWxldGUtdmFwaWQta2V5JyxcclxuICAgIElOVkFMSURfUFVCTElDX1ZBUElEX0tFWTogJ2ludmFsaWQtcHVibGljLXZhcGlkLWtleScsXHJcbiAgICBVU0VfUFVCTElDX0tFWV9CRUZPUkVfR0VUX1RPS0VOOiAndXNlLXB1YmxpYy1rZXktYmVmb3JlLWdldC10b2tlbicsXHJcbiAgICBQVUJMSUNfS0VZX0RFQ1JZUFRJT05fRkFJTEVEOiAncHVibGljLXZhcGlkLWtleS1kZWNyeXB0aW9uLWZhaWxlZCdcclxufTtcclxudmFyIEVSUk9SX01BUCA9IChfYSA9IHt9LCBfYVtFUlJPUl9DT0RFUy5BVkFJTEFCTEVfSU5fV0lORE9XXSA9ICdUaGlzIG1ldGhvZCBpcyBhdmFpbGFibGUgaW4gYSBXaW5kb3cgY29udGV4dC4nLCBfYVtFUlJPUl9DT0RFUy5BVkFJTEFCTEVfSU5fU1ddID0gJ1RoaXMgbWV0aG9kIGlzIGF2YWlsYWJsZSBpbiBhIHNlcnZpY2Ugd29ya2VyICcgKyAnY29udGV4dC4nLCBfYVtFUlJPUl9DT0RFUy5TSE9VTERfQkVfSU5IRVJJVEVEXSA9ICdUaGlzIG1ldGhvZCBzaG91bGQgYmUgb3ZlcnJpZGVuIGJ5ICcgKyAnZXh0ZW5kZWQgY2xhc3Nlcy4nLCBfYVtFUlJPUl9DT0RFUy5CQURfU0VOREVSX0lEXSA9IFwiUGxlYXNlIGVuc3VyZSB0aGF0ICdtZXNzYWdpbmdTZW5kZXJJZCcgaXMgc2V0IFwiICtcclxuICAgICAgICAnY29ycmVjdGx5IGluIHRoZSBvcHRpb25zIHBhc3NlZCBpbnRvIGZpcmViYXNlLmluaXRpYWxpemVBcHAoKS4nLCBfYVtFUlJPUl9DT0RFUy5QRVJNSVNTSU9OX0RFRkFVTFRdID0gJ1RoZSByZXF1aXJlZCBwZXJtaXNzaW9ucyB3ZXJlIG5vdCBncmFudGVkIGFuZCAnICsgJ2Rpc21pc3NlZCBpbnN0ZWFkLicsIF9hW0VSUk9SX0NPREVTLlBFUk1JU1NJT05fQkxPQ0tFRF0gPSAnVGhlIHJlcXVpcmVkIHBlcm1pc3Npb25zIHdlcmUgbm90IGdyYW50ZWQgYW5kICcgKyAnYmxvY2tlZCBpbnN0ZWFkLicsIF9hW0VSUk9SX0NPREVTLlVOU1VQUE9SVEVEX0JST1dTRVJdID0gXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHRoZSBBUEkncyBcIiArXHJcbiAgICAgICAgJ3JlcXVpcmVkIHRvIHVzZSB0aGUgZmlyZWJhc2UgU0RLLicsIF9hW0VSUk9SX0NPREVTLk5PVElGSUNBVElPTlNfQkxPQ0tFRF0gPSAnTm90aWZpY2F0aW9ucyBoYXZlIGJlZW4gYmxvY2tlZC4nLCBfYVtFUlJPUl9DT0RFUy5GQUlMRURfREVGQVVMVF9SRUdJU1RSQVRJT05dID0gJ1dlIGFyZSB1bmFibGUgdG8gcmVnaXN0ZXIgdGhlICcgK1xyXG4gICAgICAgICdkZWZhdWx0IHNlcnZpY2Ugd29ya2VyLiB7JGJyb3dzZXJFcnJvck1lc3NhZ2V9JywgX2FbRVJST1JfQ09ERVMuU1dfUkVHSVNUUkFUSU9OX0VYUEVDVEVEXSA9ICdBIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiB3YXMgdGhlICcgKyAnZXhwZWN0ZWQgaW5wdXQuJywgX2FbRVJST1JfQ09ERVMuR0VUX1NVQlNDUklQVElPTl9GQUlMRURdID0gJ1RoZXJlIHdhcyBhbiBlcnJvciB3aGVuIHRyeWluZyB0byBnZXQgJyArXHJcbiAgICAgICAgJ2FueSBleGlzdGluZyBQdXNoIFN1YnNjcmlwdGlvbnMuJywgX2FbRVJST1JfQ09ERVMuSU5WQUxJRF9TQVZFRF9UT0tFTl0gPSAnVW5hYmxlIHRvIGFjY2VzcyBkZXRhaWxzIG9mIHRoZSBzYXZlZCB0b2tlbi4nLCBfYVtFUlJPUl9DT0RFUy5TV19SRUdfUkVEVU5EQU5UXSA9ICdUaGUgc2VydmljZSB3b3JrZXIgYmVpbmcgdXNlZCBmb3IgcHVzaCB3YXMgbWFkZSAnICsgJ3JlZHVuZGFudC4nLCBfYVtFUlJPUl9DT0RFUy5UT0tFTl9TVUJTQ1JJQkVfRkFJTEVEXSA9ICdBIHByb2JsZW0gb2NjdXJlZCB3aGlsZSBzdWJzY3JpYmluZyB0aGUgJyArICd1c2VyIHRvIEZDTTogeyRtZXNzYWdlfScsIF9hW0VSUk9SX0NPREVTLlRPS0VOX1NVQlNDUklCRV9OT19UT0tFTl0gPSAnRkNNIHJldHVybmVkIG5vIHRva2VuIHdoZW4gc3Vic2NyaWJpbmcgJyArICd0aGUgdXNlciB0byBwdXNoLicsIF9hW0VSUk9SX0NPREVTLlRPS0VOX1NVQlNDUklCRV9OT19QVVNIX1NFVF0gPSAnRkNNIHJldHVybmVkIGFuIGludmFsaWQgcmVzcG9uc2UgJyArICd3aGVuIGdldHRpbmcgYW4gRkNNIHRva2VuLicsIF9hW0VSUk9SX0NPREVTLlRPS0VOX1VOU1VCU0NSSUJFX0ZBSUxFRF0gPSAnQSBwcm9ibGVtIG9jY3VyZWQgd2hpbGUgdW5zdWJzY3JpYmluZyB0aGUgJyArICd1c2VyIGZyb20gRkNNOiB7JG1lc3NhZ2V9JywgX2FbRVJST1JfQ09ERVMuVE9LRU5fVVBEQVRFX0ZBSUxFRF0gPSAnQSBwcm9ibGVtIG9jY3VyZWQgd2hpbGUgdXBkYXRpbmcgdGhlICcgKyAndXNlciBmcm9tIEZDTTogeyRtZXNzYWdlfScsIF9hW0VSUk9SX0NPREVTLlRPS0VOX1VQREFURV9OT19UT0tFTl0gPSAnRkNNIHJldHVybmVkIG5vIHRva2VuIHdoZW4gdXBkYXRpbmcgJyArICd0aGUgdXNlciB0byBwdXNoLicsIF9hW0VSUk9SX0NPREVTLlVTRV9TV19CRUZPUkVfR0VUX1RPS0VOXSA9ICdUaGUgdXNlU2VydmljZVdvcmtlcigpIG1ldGhvZCBtYXkgb25seSBiZSBjYWxsZWQgb25jZSBhbmQgbXVzdCBiZSAnICtcclxuICAgICAgICAnY2FsbGVkIGJlZm9yZSBjYWxsaW5nIGdldFRva2VuKCkgdG8gZW5zdXJlIHlvdXIgc2VydmljZSB3b3JrZXIgaXMgdXNlZC4nLCBfYVtFUlJPUl9DT0RFUy5JTlZBTElEX0RFTEVURV9UT0tFTl0gPSAnWW91IG11c3QgcGFzcyBhIHZhbGlkIHRva2VuIGludG8gJyArXHJcbiAgICAgICAgJ2RlbGV0ZVRva2VuKCksIGkuZS4gdGhlIHRva2VuIGZyb20gZ2V0VG9rZW4oKS4nLCBfYVtFUlJPUl9DT0RFUy5ERUxFVEVfVE9LRU5fTk9UX0ZPVU5EXSA9ICdUaGUgZGVsZXRpb24gYXR0ZW1wdCBmb3IgdG9rZW4gY291bGQgbm90ICcgK1xyXG4gICAgICAgICdiZSBwZXJmb3JtZWQgYXMgdGhlIHRva2VuIHdhcyBub3QgZm91bmQuJywgX2FbRVJST1JfQ09ERVMuREVMRVRFX1NDT1BFX05PVF9GT1VORF0gPSAnVGhlIGRlbGV0aW9uIGF0dGVtcHQgZm9yIHNlcnZpY2Ugd29ya2VyICcgK1xyXG4gICAgICAgICdzY29wZSBjb3VsZCBub3QgYmUgcGVyZm9ybWVkIGFzIHRoZSBzY29wZSB3YXMgbm90IGZvdW5kLicsIF9hW0VSUk9SX0NPREVTLkJHX0hBTkRMRVJfRlVOQ1RJT05fRVhQRUNURURdID0gJ1RoZSBpbnB1dCB0byAnICsgJ3NldEJhY2tncm91bmRNZXNzYWdlSGFuZGxlcigpIG11c3QgYmUgYSBmdW5jdGlvbi4nLCBfYVtFUlJPUl9DT0RFUy5OT19XSU5ET1dfQ0xJRU5UX1RPX01TR10gPSAnQW4gYXR0ZW1wdCB3YXMgbWFkZSB0byBtZXNzYWdlIGEgJyArICdub24tZXhpc3RhbnQgd2luZG93IGNsaWVudC4nLCBfYVtFUlJPUl9DT0RFUy5VTkFCTEVfVE9fUkVTVUJTQ1JJQkVdID0gJ1RoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSByZS1zdWJzY3JpYmluZyAnICtcclxuICAgICAgICAndGhlIEZDTSB0b2tlbiBmb3IgcHVzaCBtZXNzYWdpbmcuIFdpbGwgaGF2ZSB0byByZXN1YnNjcmliZSB0aGUgJyArXHJcbiAgICAgICAgJ3VzZXIgb24gbmV4dCB2aXNpdC4geyRtZXNzYWdlfScsIF9hW0VSUk9SX0NPREVTLk5PX0ZDTV9UT0tFTl9GT1JfUkVTVUJTQ1JJQkVdID0gJ0NvdWxkIG5vdCBmaW5kIGFuIEZDTSB0b2tlbiAnICtcclxuICAgICAgICAnYW5kIGFzIGEgcmVzdWx0LCB1bmFibGUgdG8gcmVzdWJzY3JpYmUuIFdpbGwgaGF2ZSB0byByZXN1YnNjcmliZSB0aGUgJyArXHJcbiAgICAgICAgJ3VzZXIgb24gbmV4dCB2aXNpdC4nLCBfYVtFUlJPUl9DT0RFUy5GQUlMRURfVE9fREVMRVRFX1RPS0VOXSA9ICdVbmFibGUgdG8gZGVsZXRlIHRoZSBjdXJyZW50bHkgc2F2ZWQgdG9rZW4uJywgX2FbRVJST1JfQ09ERVMuTk9fU1dfSU5fUkVHXSA9ICdFdmVuIHRob3VnaCB0aGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIHdhcyAnICtcclxuICAgICAgICAnc3VjY2Vzc2Z1bCwgdGhlcmUgd2FzIGEgcHJvYmxlbSBhY2Nlc3NpbmcgdGhlIHNlcnZpY2Ugd29ya2VyIGl0c2VsZi4nLCBfYVtFUlJPUl9DT0RFUy5JTkNPUlJFQ1RfR0NNX1NFTkRFUl9JRF0gPSBcIlBsZWFzZSBjaGFuZ2UgeW91ciB3ZWIgYXBwIG1hbmlmZXN0J3MgXCIgK1xyXG4gICAgICAgIFwiJ2djbV9zZW5kZXJfaWQnIHZhbHVlIHRvICcxMDM5NTM4MDA1MDcnIHRvIHVzZSBGaXJlYmFzZSBtZXNzYWdpbmcuXCIsIF9hW0VSUk9SX0NPREVTLkJBRF9TQ09QRV0gPSAnVGhlIHNlcnZpY2Ugd29ya2VyIHNjb3BlIG11c3QgYmUgYSBzdHJpbmcgd2l0aCBhdCAnICtcclxuICAgICAgICAnbGVhc3Qgb25lIGNoYXJhY3Rlci4nLCBfYVtFUlJPUl9DT0RFUy5CQURfVkFQSURfS0VZXSA9ICdUaGUgcHVibGljIFZBUElEIGtleSBpcyBub3QgYSBVaW50OEFycmF5IHdpdGggNjUgYnl0ZXMuJywgX2FbRVJST1JfQ09ERVMuQkFEX1NVQlNDUklQVElPTl0gPSAnVGhlIHN1YnNjcmlwdGlvbiBtdXN0IGJlIGEgdmFsaWQgJyArICdQdXNoU3Vic2NyaXB0aW9uLicsIF9hW0VSUk9SX0NPREVTLkJBRF9UT0tFTl0gPSAnVGhlIEZDTSBUb2tlbiB1c2VkIGZvciBzdG9yYWdlIC8gbG9va3VwIHdhcyBub3QgJyArXHJcbiAgICAgICAgJ2EgdmFsaWQgdG9rZW4gc3RyaW5nLicsIF9hW0VSUk9SX0NPREVTLkJBRF9QVVNIX1NFVF0gPSAnVGhlIEZDTSBwdXNoIHNldCB1c2VkIGZvciBzdG9yYWdlIC8gbG9va3VwIHdhcyBub3QgJyArXHJcbiAgICAgICAgJ25vdCBhIHZhbGlkIHB1c2ggc2V0IHN0cmluZy4nLCBfYVtFUlJPUl9DT0RFUy5GQUlMRURfREVMRVRFX1ZBUElEX0tFWV0gPSAnVGhlIFZBUElEIGtleSBjb3VsZCBub3QgYmUgZGVsZXRlZC4nLCBfYVtFUlJPUl9DT0RFUy5JTlZBTElEX1BVQkxJQ19WQVBJRF9LRVldID0gJ1RoZSBwdWJsaWMgVkFQSUQga2V5IG11c3QgYmUgYSBzdHJpbmcuJywgX2FbRVJST1JfQ09ERVMuUFVCTElDX0tFWV9ERUNSWVBUSU9OX0ZBSUxFRF0gPSAnVGhlIHB1YmxpYyBWQVBJRCBrZXkgZGlkIG5vdCBlcXVhbCAnICsgJzY1IGJ5dGVzIHdoZW4gZGVjcnlwdGVkLicsIF9hKTtcclxudmFyIGVycm9yRmFjdG9yeSA9IG5ldyBFcnJvckZhY3RvcnkoJ21lc3NhZ2luZycsICdNZXNzYWdpbmcnLCBFUlJPUl9NQVApO1xyXG52YXIgX2E7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgREVGQVVMVF9QVUJMSUNfVkFQSURfS0VZID0gbmV3IFVpbnQ4QXJyYXkoW1xyXG4gICAgMHgwNCxcclxuICAgIDB4MzMsXHJcbiAgICAweDk0LFxyXG4gICAgMHhmNyxcclxuICAgIDB4ZGYsXHJcbiAgICAweGExLFxyXG4gICAgMHhlYixcclxuICAgIDB4YjEsXHJcbiAgICAweGRjLFxyXG4gICAgMHgwMyxcclxuICAgIDB4YTIsXHJcbiAgICAweDVlLFxyXG4gICAgMHgxNSxcclxuICAgIDB4NzEsXHJcbiAgICAweGRiLFxyXG4gICAgMHg0OCxcclxuICAgIDB4ZDMsXHJcbiAgICAweDJlLFxyXG4gICAgMHhlZCxcclxuICAgIDB4ZWQsXHJcbiAgICAweGIyLFxyXG4gICAgMHgzNCxcclxuICAgIDB4ZGIsXHJcbiAgICAweGI3LFxyXG4gICAgMHg0NyxcclxuICAgIDB4M2EsXHJcbiAgICAweDBjLFxyXG4gICAgMHg4ZixcclxuICAgIDB4YzQsXHJcbiAgICAweGNjLFxyXG4gICAgMHhlMSxcclxuICAgIDB4NmYsXHJcbiAgICAweDNjLFxyXG4gICAgMHg4YyxcclxuICAgIDB4ODQsXHJcbiAgICAweGRmLFxyXG4gICAgMHhhYixcclxuICAgIDB4YjYsXHJcbiAgICAweDY2LFxyXG4gICAgMHgzZSxcclxuICAgIDB4ZjIsXHJcbiAgICAweDBjLFxyXG4gICAgMHhkNCxcclxuICAgIDB4OGIsXHJcbiAgICAweGZlLFxyXG4gICAgMHhlMyxcclxuICAgIDB4ZjksXHJcbiAgICAweDc2LFxyXG4gICAgMHgyZixcclxuICAgIDB4MTQsXHJcbiAgICAweDFjLFxyXG4gICAgMHg2MyxcclxuICAgIDB4MDgsXHJcbiAgICAweDZhLFxyXG4gICAgMHg2ZixcclxuICAgIDB4MmQsXHJcbiAgICAweGIxLFxyXG4gICAgMHgxYSxcclxuICAgIDB4OTUsXHJcbiAgICAweGIwLFxyXG4gICAgMHhjZSxcclxuICAgIDB4MzcsXHJcbiAgICAweGMwLFxyXG4gICAgMHg5YyxcclxuICAgIDB4NmVcclxuXSk7XHJcbnZhciBFTkRQT0lOVCA9ICdodHRwczovL2ZjbS5nb29nbGVhcGlzLmNvbSc7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgTWVzc2FnZVBhcmFtZXRlcjtcclxuKGZ1bmN0aW9uIChNZXNzYWdlUGFyYW1ldGVyKSB7XHJcbiAgICBNZXNzYWdlUGFyYW1ldGVyW1wiVFlQRV9PRl9NU0dcIl0gPSBcImZpcmViYXNlLW1lc3NhZ2luZy1tc2ctdHlwZVwiO1xyXG4gICAgTWVzc2FnZVBhcmFtZXRlcltcIkRBVEFcIl0gPSBcImZpcmViYXNlLW1lc3NhZ2luZy1tc2ctZGF0YVwiO1xyXG59KShNZXNzYWdlUGFyYW1ldGVyIHx8IChNZXNzYWdlUGFyYW1ldGVyID0ge30pKTtcclxudmFyIE1lc3NhZ2VUeXBlO1xyXG4oZnVuY3Rpb24gKE1lc3NhZ2VUeXBlKSB7XHJcbiAgICBNZXNzYWdlVHlwZVtcIlBVU0hfTVNHX1JFQ0VJVkVEXCJdID0gXCJwdXNoLW1zZy1yZWNlaXZlZFwiO1xyXG4gICAgTWVzc2FnZVR5cGVbXCJOT1RJRklDQVRJT05fQ0xJQ0tFRFwiXSA9IFwibm90aWZpY2F0aW9uLWNsaWNrZWRcIjtcclxufSkoTWVzc2FnZVR5cGUgfHwgKE1lc3NhZ2VUeXBlID0ge30pKTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJFcXVhbChhLCBiKSB7XHJcbiAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoYS5ieXRlTGVuZ3RoICE9PSBiLmJ5dGVMZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgdmlld0EgPSBuZXcgRGF0YVZpZXcoYSk7XHJcbiAgICB2YXIgdmlld0IgPSBuZXcgRGF0YVZpZXcoYik7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEuYnl0ZUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHZpZXdBLmdldFVpbnQ4KGkpICE9PSB2aWV3Qi5nZXRVaW50OChpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIHRvQmFzZTY0KGFycmF5QnVmZmVyKSB7XHJcbiAgICB2YXIgdWludDhWZXJzaW9uID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xyXG4gICAgcmV0dXJuIGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCB1aW50OFZlcnNpb24pKTtcclxufVxyXG5mdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmFzZTY0KGFycmF5QnVmZmVyKSB7XHJcbiAgICB2YXIgYmFzZTY0U3RyaW5nID0gdG9CYXNlNjQoYXJyYXlCdWZmZXIpO1xyXG4gICAgcmV0dXJuIGJhc2U2NFN0cmluZ1xyXG4gICAgICAgIC5yZXBsYWNlKC89L2csICcnKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXCsvZywgJy0nKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXC8vZywgJ18nKTtcclxufVxuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIElpZE1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSWlkTW9kZWwoKSB7XHJcbiAgICB9XHJcbiAgICBJaWRNb2RlbC5wcm90b3R5cGUuZ2V0VG9rZW4gPSBmdW5jdGlvbiAoc2VuZGVySWQsIHN1YnNjcmlwdGlvbiwgcHVibGljVmFwaWRLZXkpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwMjU2ZGgsIGF1dGgsIGZjbVN1YnNjcmliZUJvZHksIGFwcGxpY2F0aW9uUHViS2V5LCBoZWFkZXJzLCBzdWJzY3JpYmVPcHRpb25zLCByZXNwb25zZURhdGEsIHJlc3BvbnNlLCBlcnJfMSwgbWVzc2FnZTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcDI1NmRoID0gYXJyYXlCdWZmZXJUb0Jhc2U2NChzdWJzY3JpcHRpb24uZ2V0S2V5KCdwMjU2ZGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGggPSBhcnJheUJ1ZmZlclRvQmFzZTY0KHN1YnNjcmlwdGlvbi5nZXRLZXkoJ2F1dGgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZjbVN1YnNjcmliZUJvZHkgPSBcImF1dGhvcml6ZWRfZW50aXR5PVwiICsgc2VuZGVySWQgKyBcIiZcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJlbmRwb2ludD1cIiArIHN1YnNjcmlwdGlvbi5lbmRwb2ludCArIFwiJlwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJlbmNyeXB0aW9uX2tleT1cIiArIHAyNTZkaCArIFwiJlwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJlbmNyeXB0aW9uX2F1dGg9XCIgKyBhdXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0FycmF5QnVmZmVyRXF1YWwocHVibGljVmFwaWRLZXkuYnVmZmVyLCBERUZBVUxUX1BVQkxJQ19WQVBJRF9LRVkuYnVmZmVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25QdWJLZXkgPSBhcnJheUJ1ZmZlclRvQmFzZTY0KHB1YmxpY1ZhcGlkS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjbVN1YnNjcmliZUJvZHkgKz0gXCImYXBwbGljYXRpb25fcHViX2tleT1cIiArIGFwcGxpY2F0aW9uUHViS2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogZmNtU3Vic2NyaWJlQm9keVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDQsICwgNV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaChFTkRQT0lOVCArICcvZmNtL2Nvbm5lY3Qvc3Vic2NyaWJlJywgc3Vic2NyaWJlT3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLmpzb24oKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuVE9LRU5fU1VCU0NSSUJFX0ZBSUxFRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gcmVzcG9uc2VEYXRhLmVycm9yLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLlRPS0VOX1NVQlNDUklCRV9GQUlMRUQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlRGF0YS50b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5UT0tFTl9TVUJTQ1JJQkVfTk9fVE9LRU4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2VEYXRhLnB1c2hTZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuVE9LRU5fU1VCU0NSSUJFX05PX1BVU0hfU0VUKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiByZXNwb25zZURhdGEudG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaFNldDogcmVzcG9uc2VEYXRhLnB1c2hTZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgdW5kZXJseWluZyB0b2tlbiBkZXRhaWxzIGZvciBmY21Ub2tlbi5cclxuICAgICAqL1xyXG4gICAgSWlkTW9kZWwucHJvdG90eXBlLnVwZGF0ZVRva2VuID0gZnVuY3Rpb24gKHNlbmRlcklkLCBmY21Ub2tlbiwgZmNtUHVzaFNldCwgc3Vic2NyaXB0aW9uLCBwdWJsaWNWYXBpZEtleSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHAyNTZkaCwgYXV0aCwgZmNtVXBkYXRlQm9keSwgYXBwbGljYXRpb25QdWJLZXksIGhlYWRlcnMsIHVwZGF0ZU9wdGlvbnMsIHJlc3BvbnNlRGF0YSwgcmVzcG9uc2UsIGVycl8yLCBtZXNzYWdlO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwMjU2ZGggPSBhcnJheUJ1ZmZlclRvQmFzZTY0KHN1YnNjcmlwdGlvbi5nZXRLZXkoJ3AyNTZkaCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aCA9IGFycmF5QnVmZmVyVG9CYXNlNjQoc3Vic2NyaXB0aW9uLmdldEtleSgnYXV0aCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmNtVXBkYXRlQm9keSA9IFwicHVzaF9zZXQ9XCIgKyBmY21QdXNoU2V0ICsgXCImXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwidG9rZW49XCIgKyBmY21Ub2tlbiArIFwiJlwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJhdXRob3JpemVkX2VudGl0eT1cIiArIHNlbmRlcklkICsgXCImXCIpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcImVuZHBvaW50PVwiICsgc3Vic2NyaXB0aW9uLmVuZHBvaW50ICsgXCImXCIpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcImVuY3J5cHRpb25fa2V5PVwiICsgcDI1NmRoICsgXCImXCIpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcImVuY3J5cHRpb25fYXV0aD1cIiArIGF1dGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQXJyYXlCdWZmZXJFcXVhbChwdWJsaWNWYXBpZEtleS5idWZmZXIsIERFRkFVTFRfUFVCTElDX1ZBUElEX0tFWS5idWZmZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblB1YktleSA9IGFycmF5QnVmZmVyVG9CYXNlNjQocHVibGljVmFwaWRLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmNtVXBkYXRlQm9keSArPSBcIiZhcHBsaWNhdGlvbl9wdWJfa2V5PVwiICsgYXBwbGljYXRpb25QdWJLZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBmY21VcGRhdGVCb2R5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgNCwgLCA1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKEVORFBPSU5UICsgJy9mY20vY29ubmVjdC9zdWJzY3JpYmUnLCB1cGRhdGVPcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuanNvbigpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJfMiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5UT0tFTl9VUERBVEVfRkFJTEVEKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZURhdGEuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSByZXNwb25zZURhdGEuZXJyb3IubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuVE9LRU5fVVBEQVRFX0ZBSUxFRCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2VEYXRhLnRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLlRPS0VOX1VQREFURV9OT19UT0tFTik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlRGF0YS50b2tlbl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYSBmY21Ub2tlbiwgcHVzaFNldCBhbmQgbWVzc2FnaW5nU2VuZGVySWQsIGRlbGV0ZSBhbiBGQ00gdG9rZW4uXHJcbiAgICAgKi9cclxuICAgIElpZE1vZGVsLnByb3RvdHlwZS5kZWxldGVUb2tlbiA9IGZ1bmN0aW9uIChzZW5kZXJJZCwgZmNtVG9rZW4sIGZjbVB1c2hTZXQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBmY21VbnN1YnNjcmliZUJvZHksIGhlYWRlcnMsIHVuc3Vic2NyaWJlT3B0aW9ucywgcmVzcG9uc2UsIHJlc3BvbnNlRGF0YSwgbWVzc2FnZSwgZXJyXzM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZjbVVuc3Vic2NyaWJlQm9keSA9IFwiYXV0aG9yaXplZF9lbnRpdHk9XCIgKyBzZW5kZXJJZCArIFwiJlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcInRva2VuPVwiICsgZmNtVG9rZW4gKyBcIiZcIikgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwicHVzaFNldD1cIiArIGZjbVB1c2hTZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogZmNtVW5zdWJzY3JpYmVCb2R5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgNCwgLCA1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKEVORFBPSU5UICsgJy9mY20vY29ubmVjdC91bnN1YnNjcmliZScsIHVuc3Vic2NyaWJlT3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLmpzb24oKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZURhdGEuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSByZXNwb25zZURhdGEuZXJyb3IubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuVE9LRU5fVU5TVUJTQ1JJQkVfRkFJTEVELCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJfMyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5UT0tFTl9VTlNVQlNDUklCRV9GQUlMRUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSWlkTW9kZWw7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NFN0cmluZykge1xyXG4gICAgdmFyIHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7XHJcbiAgICB2YXIgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcLS9nLCAnKycpXHJcbiAgICAgICAgLnJlcGxhY2UoL18vZywgJy8nKTtcclxuICAgIHZhciByYXdEYXRhID0gYXRvYihiYXNlNjQpO1xyXG4gICAgdmFyIG91dHB1dEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdEYXRhLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgb3V0cHV0QXJyYXlbaV0gPSByYXdEYXRhLmNoYXJDb2RlQXQoaSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0cHV0QXJyYXk7XHJcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBPTERfREJfTkFNRSA9ICd1bmRlZmluZWQnO1xyXG52YXIgT0xEX09CSkVDVF9TVE9SRV9OQU1FID0gJ2ZjbV90b2tlbl9vYmplY3RfU3RvcmUnO1xyXG5mdW5jdGlvbiBoYW5kbGVEYihkYikge1xyXG4gICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKE9MRF9PQkpFQ1RfU1RPUkVfTkFNRSkpIHtcclxuICAgICAgICAvLyBXZSBmb3VuZCBhIGRhdGFiYXNlIHdpdGggdGhlIG5hbWUgJ3VuZGVmaW5lZCcsIGJ1dCBvdXIgZXhwZWN0ZWQgb2JqZWN0XHJcbiAgICAgICAgLy8gc3RvcmUgaXNuJ3QgZGVmaW5lZC5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihPTERfT0JKRUNUX1NUT1JFX05BTUUpO1xyXG4gICAgdmFyIG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoT0xEX09CSkVDVF9TVE9SRV9OQU1FKTtcclxuICAgIHZhciBpaWRNb2RlbCA9IG5ldyBJaWRNb2RlbCgpO1xyXG4gICAgdmFyIG9wZW5DdXJzb3JSZXF1ZXN0ID0gb2JqZWN0U3RvcmUub3BlbkN1cnNvcigpO1xyXG4gICAgb3BlbkN1cnNvclJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vIE5PT1AgLSBOb3RoaW5nIHdlIGNhbiBkby5cclxuICAgICAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBjbGVhbnVwIG9sZCBJREIuJywgZXZlbnQpO1xyXG4gICAgfTtcclxuICAgIG9wZW5DdXJzb3JSZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3Vyc29yID0gb3BlbkN1cnNvclJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgIGlmIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgLy8gY3Vyc29yLnZhbHVlIGNvbnRhaW5zIHRoZSBjdXJyZW50IHJlY29yZCBiZWluZyBpdGVyYXRlZCB0aHJvdWdoXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgeW91J2QgZG8gc29tZXRoaW5nIHdpdGggdGhlIHJlc3VsdFxyXG4gICAgICAgICAgICB2YXIgdG9rZW5EZXRhaWxzID0gY3Vyc29yLnZhbHVlO1xyXG4gICAgICAgICAgICBpaWRNb2RlbC5kZWxldGVUb2tlbih0b2tlbkRldGFpbHMuZmNtU2VuZGVySWQsIHRva2VuRGV0YWlscy5mY21Ub2tlbiwgdG9rZW5EZXRhaWxzLmZjbVB1c2hTZXQpO1xyXG4gICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRiLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShPTERfREJfTkFNRSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBjbGVhblYxKCkge1xyXG4gICAgdmFyIHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihPTERfREJfTkFNRSk7XHJcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBOT09QIC0gTm90aGluZyB3ZSBjYW4gZG8uXHJcbiAgICB9O1xyXG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgZGIgPSByZXF1ZXN0LnJlc3VsdDtcclxuICAgICAgICBoYW5kbGVEYihkYik7XHJcbiAgICB9O1xyXG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgRGJJbnRlcmZhY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBEYkludGVyZmFjZSgpIHtcclxuICAgICAgICB0aGlzLmRiUHJvbWlzZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKiogR2V0cyByZWNvcmQocykgZnJvbSB0aGUgb2JqZWN0U3RvcmUgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4ga2V5LiAqL1xyXG4gICAgRGJJbnRlcmZhY2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVUcmFuc2FjdGlvbihmdW5jdGlvbiAob2JqZWN0U3RvcmUpIHsgcmV0dXJuIG9iamVjdFN0b3JlLmdldChrZXkpOyB9KTtcclxuICAgIH07XHJcbiAgICAvKiogR2V0cyByZWNvcmQocykgZnJvbSB0aGUgb2JqZWN0U3RvcmUgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4gaW5kZXguICovXHJcbiAgICBEYkludGVyZmFjZS5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgsIGtleSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIHJ1blJlcXVlc3Qob2JqZWN0U3RvcmUpIHtcclxuICAgICAgICAgICAgdmFyIGlkYkluZGV4ID0gb2JqZWN0U3RvcmUuaW5kZXgoaW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gaWRiSW5kZXguZ2V0KGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVRyYW5zYWN0aW9uKHJ1blJlcXVlc3QpO1xyXG4gICAgfTtcclxuICAgIC8qKiBBc3NpZ25zIG9yIG92ZXJ3cml0ZXMgdGhlIHJlY29yZCBmb3IgdGhlIGdpdmVuIHZhbHVlLiAqL1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBJbmRleGVkREIgdmFsdWVzIGFyZSBvZiB0eXBlIFwiYW55XCJcclxuICAgIERiSW50ZXJmYWNlLnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVUcmFuc2FjdGlvbihmdW5jdGlvbiAob2JqZWN0U3RvcmUpIHsgcmV0dXJuIG9iamVjdFN0b3JlLnB1dCh2YWx1ZSk7IH0sICdyZWFkd3JpdGUnKTtcclxuICAgIH07XHJcbiAgICAvKiogRGVsZXRlcyByZWNvcmQocykgZnJvbSB0aGUgb2JqZWN0U3RvcmUgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4ga2V5LiAqL1xyXG4gICAgRGJJbnRlcmZhY2UucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVUcmFuc2FjdGlvbihmdW5jdGlvbiAob2JqZWN0U3RvcmUpIHsgcmV0dXJuIG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpOyB9LCAncmVhZHdyaXRlJyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbG9zZSB0aGUgY3VycmVudGx5IG9wZW4gZGF0YWJhc2UuXHJcbiAgICAgKi9cclxuICAgIERiSW50ZXJmYWNlLnByb3RvdHlwZS5jbG9zZURhdGFiYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGRiO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGJQcm9taXNlKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5kYlByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGJQcm9taXNlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gSW5kZXhlZERCIFRyYW5zYWN0aW9uIGFuZCBwYXNzZXMgaXRzIG9iamVjdFN0b3JlIHRvIHRoZVxyXG4gICAgICogcnVuUmVxdWVzdCBmdW5jdGlvbiwgd2hpY2ggcnVucyB0aGUgZGF0YWJhc2UgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIHJ1blJlcXVlc3QgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgRGJJbnRlcmZhY2UucHJvdG90eXBlLmNyZWF0ZVRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKHJ1blJlcXVlc3QsIG1vZGUpIHtcclxuICAgICAgICBpZiAobW9kZSA9PT0gdm9pZCAwKSB7IG1vZGUgPSAncmVhZG9ubHknOyB9XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZGIsIHRyYW5zYWN0aW9uLCByZXF1ZXN0LCByZXN1bHQ7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0RGIoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbih0aGlzLm9iamVjdFN0b3JlTmFtZSwgbW9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSh0aGlzLm9iamVjdFN0b3JlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHByb21pc2lmeShydW5SZXF1ZXN0KHJlcXVlc3QpKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRyYW5zYWN0aW9uLmVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKiogR2V0cyB0aGUgY2FjaGVkIGRiIGNvbm5lY3Rpb24gb3Igb3BlbnMgYSBuZXcgb25lLiAqL1xyXG4gICAgRGJJbnRlcmZhY2UucHJvdG90eXBlLmdldERiID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRiUHJvbWlzZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRiUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oX3RoaXMuZGJOYW1lLCBfdGhpcy5kYlZlcnNpb24pO1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRiUHJvbWlzZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBfdGhpcy5vbkRiVXBncmFkZShyZXF1ZXN0LCBldmVudCk7IH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5kYlByb21pc2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERiSW50ZXJmYWNlO1xyXG59KCkpO1xyXG4vKiogUHJvbWlzaWZpZXMgYW4gSURCUmVxdWVzdC4gUmVzb2x2ZXMgd2l0aCB0aGUgSURCUmVxdWVzdCdzIHJlc3VsdC4gKi9cclxuZnVuY3Rpb24gcHJvbWlzaWZ5KHJlcXVlc3QpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZWplY3QocmVxdWVzdC5lcnJvcik7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgVG9rZW5EZXRhaWxzTW9kZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVG9rZW5EZXRhaWxzTW9kZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUb2tlbkRldGFpbHNNb2RlbCgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5kYk5hbWUgPSAnZmNtX3Rva2VuX2RldGFpbHNfZGInO1xyXG4gICAgICAgIF90aGlzLmRiVmVyc2lvbiA9IDM7XHJcbiAgICAgICAgX3RoaXMub2JqZWN0U3RvcmVOYW1lID0gJ2ZjbV90b2tlbl9vYmplY3RfU3RvcmUnO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFRva2VuRGV0YWlsc01vZGVsLnByb3RvdHlwZS5vbkRiVXBncmFkZSA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBldmVudCkge1xyXG4gICAgICAgIHZhciBkYiA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgIC8vIExhY2sgb2YgJ2JyZWFrJyBzdGF0ZW1lbnRzIGlzIGludGVudGlvbmFsLlxyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQub2xkVmVyc2lvbikge1xyXG4gICAgICAgICAgICBjYXNlIDA6IHtcclxuICAgICAgICAgICAgICAgIC8vIE5ldyBJREIgaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgIHZhciBvYmplY3RTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKHRoaXMub2JqZWN0U3RvcmVOYW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5UGF0aDogJ3N3U2NvcGUnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgc2VuZGVyIElEIGNhbiBiZSBzZWFyY2hlZFxyXG4gICAgICAgICAgICAgICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoJ2ZjbVNlbmRlcklkJywgJ2ZjbVNlbmRlcklkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoJ2ZjbVRva2VuJywgJ2ZjbVRva2VuJywgeyB1bmlxdWU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAxOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBQcmlvciB0byB2ZXJzaW9uIDIsIHdlIHdlcmUgdXNpbmcgZWl0aGVyICdmY21fdG9rZW5fZGV0YWlsc19kYidcclxuICAgICAgICAgICAgICAgIC8vIG9yICd1bmRlZmluZWQnIGFzIHRoZSBkYXRhYmFzZSBuYW1lIGR1ZSB0byBidWcgaW4gdGhlIFNES1xyXG4gICAgICAgICAgICAgICAgLy8gU28gcmVtb3ZlIHRoZSBvbGQgdG9rZW5zIGFuZCBkYXRhYmFzZXMuXHJcbiAgICAgICAgICAgICAgICBjbGVhblYxKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAyOiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0U3RvcmUgPSByZXF1ZXN0LnRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHRoaXMub2JqZWN0U3RvcmVOYW1lKTtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJzb3JSZXF1ZXN0XzEgPSBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKCk7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3JSZXF1ZXN0XzEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSBjdXJzb3JSZXF1ZXN0XzEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY3Vyc29yLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBfX2Fzc2lnbih7fSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlLmNyZWF0ZVRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLmNyZWF0ZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUudmFwaWRLZXkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZS52YXBpZEtleSA9IGJhc2U2NFRvQXJyYXlCdWZmZXIodmFsdWUudmFwaWRLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUuYXV0aCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLmF1dGggPSBiYXNlNjRUb0FycmF5QnVmZmVyKHZhbHVlLmF1dGgpLmJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlLmF1dGggPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZS5wMjU2ZGggPSBiYXNlNjRUb0FycmF5QnVmZmVyKHZhbHVlLnAyNTZkaCkuYnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci51cGRhdGUobmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYSB0b2tlbiwgdGhpcyBtZXRob2Qgd2lsbCBsb29rIHVwIHRoZSBkZXRhaWxzIGluIGluZGV4ZWREQi5cclxuICAgICAqL1xyXG4gICAgVG9rZW5EZXRhaWxzTW9kZWwucHJvdG90eXBlLmdldFRva2VuRGV0YWlsc0Zyb21Ub2tlbiA9IGZ1bmN0aW9uIChmY21Ub2tlbikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmY21Ub2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQkFEX1RPS0VOKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlSW5wdXRzKHsgZmNtVG9rZW46IGZjbVRva2VuIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuZ2V0SW5kZXgoJ2ZjbVRva2VuJywgZmNtVG9rZW4pXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhIHNlcnZpY2Ugd29ya2VyIHNjb3BlLCB0aGlzIG1ldGhvZCB3aWxsIGxvb2sgdXAgdGhlIGRldGFpbHMgaW5cclxuICAgICAqIGluZGV4ZWREQi5cclxuICAgICAqIEByZXR1cm4gVGhlIGRldGFpbHMgYXNzb2NpYXRlZCB3aXRoIHRoYXQgdG9rZW4uXHJcbiAgICAgKi9cclxuICAgIFRva2VuRGV0YWlsc01vZGVsLnByb3RvdHlwZS5nZXRUb2tlbkRldGFpbHNGcm9tU1dTY29wZSA9IGZ1bmN0aW9uIChzd1Njb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN3U2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkJBRF9TQ09QRSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUlucHV0cyh7IHN3U2NvcGU6IHN3U2NvcGUgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5nZXQoc3dTY29wZSldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgdGhlIGRldGFpbHMgZm9yIHRoZSBmY20gdG9rZW4gZm9yIHJlLXVzZSBhdCBhIGxhdGVyIGRhdGUuXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgQSBwbGFpbiBqcyBvYmplY3QgY29udGFpbmluZyBhcmdzIHRvIHNhdmUuXHJcbiAgICAgKi9cclxuICAgIFRva2VuRGV0YWlsc01vZGVsLnByb3RvdHlwZS5zYXZlVG9rZW5EZXRhaWxzID0gZnVuY3Rpb24gKHRva2VuRGV0YWlscykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbkRldGFpbHMuc3dTY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQkFEX1NDT1BFKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5EZXRhaWxzLnZhcGlkS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5CQURfVkFQSURfS0VZKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5EZXRhaWxzLmVuZHBvaW50IHx8ICF0b2tlbkRldGFpbHMuYXV0aCB8fCAhdG9rZW5EZXRhaWxzLnAyNTZkaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQkFEX1NVQlNDUklQVElPTik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuRGV0YWlscy5mY21TZW5kZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQkFEX1NFTkRFUl9JRCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuRGV0YWlscy5mY21Ub2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQkFEX1RPS0VOKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5EZXRhaWxzLmZjbVB1c2hTZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkJBRF9QVVNIX1NFVCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUlucHV0cyh0b2tlbkRldGFpbHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMucHV0KHRva2VuRGV0YWlscyldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIGRlbGV0ZXMgZGV0YWlscyBvZiB0aGUgY3VycmVudCBGQ00gdG9rZW4uXHJcbiAgICAgKiBJdCdzIHJldHVybmluZyBhIHByb21pc2UgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vdmUgdG8gYW4gYXN5bmNcclxuICAgICAqIG1ldGhvZCBmb3IgZGVsZXRpbmcgYXQgYSBsYXRlciBkYXRlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gUmVzb2x2ZXMgb25jZSB0aGUgRkNNIHRva2VuIGRldGFpbHMgaGF2ZSBiZWVuIGRlbGV0ZWQgYW5kIHJldHVybnNcclxuICAgICAqIHRoZSBkZWxldGVkIGRldGFpbHMuXHJcbiAgICAgKi9cclxuICAgIFRva2VuRGV0YWlsc01vZGVsLnByb3RvdHlwZS5kZWxldGVUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGRldGFpbHM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW4gIT09ICdzdHJpbmcnIHx8IHRva2VuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVqZWN0KGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuSU5WQUxJRF9ERUxFVEVfVE9LRU4pKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRUb2tlbkRldGFpbHNGcm9tVG9rZW4odG9rZW4pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGV0YWlscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5ERUxFVEVfVE9LRU5fTk9UX0ZPVU5EKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmRlbGV0ZShkZXRhaWxzLnN3U2NvcGUpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGRldGFpbHNdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVG9rZW5EZXRhaWxzTW9kZWw7XHJcbn0oRGJJbnRlcmZhY2UpKTtcclxuLyoqXHJcbiAqIFRoaXMgbWV0aG9kIHRha2VzIGFuIG9iamVjdCBhbmQgd2lsbCBjaGVjayBmb3Iga25vd24gYXJndW1lbnRzIGFuZFxyXG4gKiB2YWxpZGF0ZSB0aGUgaW5wdXQuXHJcbiAqIEByZXR1cm4gUHJvbWlzZSB0aGF0IHJlc29sdmVzIGlmIGlucHV0IGlzIHZhbGlkLCByZWplY3RzIG90aGVyd2lzZS5cclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRzKGlucHV0KSB7XHJcbiAgICBpZiAoaW5wdXQuZmNtVG9rZW4pIHtcclxuICAgICAgICBpZiAodHlwZW9mIGlucHV0LmZjbVRva2VuICE9PSAnc3RyaW5nJyB8fCBpbnB1dC5mY21Ub2tlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5CQURfVE9LRU4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpbnB1dC5zd1Njb3BlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5zd1Njb3BlICE9PSAnc3RyaW5nJyB8fCBpbnB1dC5zd1Njb3BlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkJBRF9TQ09QRSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlucHV0LnZhcGlkS2V5KSB7XHJcbiAgICAgICAgaWYgKCEoaW5wdXQudmFwaWRLZXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB8fFxyXG4gICAgICAgICAgICBpbnB1dC52YXBpZEtleS5sZW5ndGggIT09IDY1KSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQkFEX1ZBUElEX0tFWSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlucHV0LmVuZHBvaW50KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5lbmRwb2ludCAhPT0gJ3N0cmluZycgfHwgaW5wdXQuZW5kcG9pbnQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQkFEX1NVQlNDUklQVElPTik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlucHV0LmF1dGgpIHtcclxuICAgICAgICBpZiAoIShpbnB1dC5hdXRoIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQkFEX1NVQlNDUklQVElPTik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlucHV0LnAyNTZkaCkge1xyXG4gICAgICAgIGlmICghKGlucHV0LnAyNTZkaCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkJBRF9TVUJTQ1JJUFRJT04pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpbnB1dC5mY21TZW5kZXJJZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQuZmNtU2VuZGVySWQgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAgICAgICAgIGlucHV0LmZjbVNlbmRlcklkLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkJBRF9TRU5ERVJfSUQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpbnB1dC5mY21QdXNoU2V0KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5mY21QdXNoU2V0ICE9PSAnc3RyaW5nJyB8fCBpbnB1dC5mY21QdXNoU2V0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkJBRF9QVVNIX1NFVCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgVU5DT01QUkVTU0VEX1BVQkxJQ19LRVlfU0laRSA9IDY1O1xyXG52YXIgVmFwaWREZXRhaWxzTW9kZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVmFwaWREZXRhaWxzTW9kZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBWYXBpZERldGFpbHNNb2RlbCgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5kYk5hbWUgPSAnZmNtX3ZhcGlkX2RldGFpbHNfZGInO1xyXG4gICAgICAgIF90aGlzLmRiVmVyc2lvbiA9IDE7XHJcbiAgICAgICAgX3RoaXMub2JqZWN0U3RvcmVOYW1lID0gJ2ZjbV92YXBpZF9vYmplY3RfU3RvcmUnO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFZhcGlkRGV0YWlsc01vZGVsLnByb3RvdHlwZS5vbkRiVXBncmFkZSA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgdmFyIGRiID0gcmVxdWVzdC5yZXN1bHQ7XHJcbiAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUodGhpcy5vYmplY3RTdG9yZU5hbWUsIHsga2V5UGF0aDogJ3N3U2NvcGUnIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYSBzZXJ2aWNlIHdvcmtlciBzY29wZSwgdGhpcyBtZXRob2Qgd2lsbCBsb29rIHVwIHRoZSB2YXBpZCBrZXlcclxuICAgICAqIGluIGluZGV4ZWREQi5cclxuICAgICAqL1xyXG4gICAgVmFwaWREZXRhaWxzTW9kZWwucHJvdG90eXBlLmdldFZhcGlkRnJvbVNXU2NvcGUgPSBmdW5jdGlvbiAoc3dTY29wZSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdDtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzd1Njb3BlICE9PSAnc3RyaW5nJyB8fCBzd1Njb3BlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5CQURfU0NPUEUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0KHN3U2NvcGUpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3VsdCA/IHJlc3VsdC52YXBpZEtleSA6IHVuZGVmaW5lZF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2F2ZSBhIHZhcGlkIGtleSBhZ2FpbnN0IGEgc3dTY29wZSBmb3IgbGF0ZXIgZGF0ZS5cclxuICAgICAqL1xyXG4gICAgVmFwaWREZXRhaWxzTW9kZWwucHJvdG90eXBlLnNhdmVWYXBpZERldGFpbHMgPSBmdW5jdGlvbiAoc3dTY29wZSwgdmFwaWRLZXkpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkZXRhaWxzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN3U2NvcGUgIT09ICdzdHJpbmcnIHx8IHN3U2NvcGUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5CQURfU0NPUEUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhcGlkS2V5ID09PSBudWxsIHx8IHZhcGlkS2V5Lmxlbmd0aCAhPT0gVU5DT01QUkVTU0VEX1BVQkxJQ19LRVlfU0laRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQkFEX1ZBUElEX0tFWSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkZXRhaWxzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3U2NvcGU6IHN3U2NvcGUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFwaWRLZXk6IHZhcGlkS2V5XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMucHV0KGRldGFpbHMpXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBkZWxldGVzIGRldGFpbHMgb2YgdGhlIGN1cnJlbnQgRkNNIFZBUElEIGtleSBmb3IgYSBTVyBzY29wZS5cclxuICAgICAqIFJlc29sdmVzIG9uY2UgdGhlIHNjb3BlL3ZhcGlkIGRldGFpbHMgaGF2ZSBiZWVuIGRlbGV0ZWQgYW5kIHJldHVybnMgdGhlXHJcbiAgICAgKiBkZWxldGVkIHZhcGlkIGtleS5cclxuICAgICAqL1xyXG4gICAgVmFwaWREZXRhaWxzTW9kZWwucHJvdG90eXBlLmRlbGV0ZVZhcGlkRGV0YWlscyA9IGZ1bmN0aW9uIChzd1Njb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFwaWRLZXk7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0VmFwaWRGcm9tU1dTY29wZShzd1Njb3BlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXBpZEtleSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YXBpZEtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5ERUxFVEVfU0NPUEVfTk9UX0ZPVU5EKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmRlbGV0ZShzd1Njb3BlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB2YXBpZEtleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWYXBpZERldGFpbHNNb2RlbDtcclxufShEYkludGVyZmFjZSkpO1xuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFNFTkRFUl9JRF9PUFRJT05fTkFNRSA9ICdtZXNzYWdpbmdTZW5kZXJJZCc7XHJcbi8vIERhdGFiYXNlIGNhY2hlIHNob3VsZCBiZSBpbnZhbGlkYXRlZCBvbmNlIGEgd2Vlay5cclxudmFyIFRPS0VOX0VYUElSQVRJT05fTUlMTElTID0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vIDcgZGF5c1xyXG52YXIgQmFzZUNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEFuIGludGVyZmFjZSBvZiB0aGUgTWVzc2FnaW5nIFNlcnZpY2UgQVBJXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIEJhc2VDb250cm9sbGVyKGFwcCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCFhcHAub3B0aW9uc1tTRU5ERVJfSURfT1BUSU9OX05BTUVdIHx8XHJcbiAgICAgICAgICAgIHR5cGVvZiBhcHAub3B0aW9uc1tTRU5ERVJfSURfT1BUSU9OX05BTUVdICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkJBRF9TRU5ERVJfSUQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1lc3NhZ2luZ1NlbmRlcklkID0gYXBwLm9wdGlvbnNbU0VOREVSX0lEX09QVElPTl9OQU1FXTtcclxuICAgICAgICB0aGlzLnRva2VuRGV0YWlsc01vZGVsID0gbmV3IFRva2VuRGV0YWlsc01vZGVsKCk7XHJcbiAgICAgICAgdGhpcy52YXBpZERldGFpbHNNb2RlbCA9IG5ldyBWYXBpZERldGFpbHNNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuaWlkTW9kZWwgPSBuZXcgSWlkTW9kZWwoKTtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLklOVEVSTkFMID0ge1xyXG4gICAgICAgICAgICBkZWxldGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmRlbGV0ZSgpOyB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGV4cG9ydFxyXG4gICAgICovXHJcbiAgICBCYXNlQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0VG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFBlcm1pc3Npb24sIHN3UmVnLCBwdWJsaWNWYXBpZEtleSwgcHVzaFN1YnNjcmlwdGlvbiwgdG9rZW5EZXRhaWxzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGVybWlzc2lvbiA9IHRoaXMuZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbl8oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQZXJtaXNzaW9uID09PSAnZGVuaWVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5OT1RJRklDQVRJT05TX0JMT0NLRUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRQZXJtaXNzaW9uICE9PSAnZ3JhbnRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG11c3Qgd2FpdCBmb3IgcGVybWlzc2lvbiB0byBiZSBncmFudGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbnVsbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRTV1JlZ2lzdHJhdGlvbl8oKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd1JlZyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRQdWJsaWNWYXBpZEtleV8oKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWNWYXBpZEtleSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRQdXNoU3Vic2NyaXB0aW9uKHN3UmVnLCBwdWJsaWNWYXBpZEtleSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaFN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy50b2tlbkRldGFpbHNNb2RlbC5nZXRUb2tlbkRldGFpbHNGcm9tU1dTY29wZShzd1JlZy5zY29wZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5EZXRhaWxzID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5EZXRhaWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5tYW5hZ2VFeGlzdGluZ1Rva2VuKHN3UmVnLCBwdXNoU3Vic2NyaXB0aW9uLCBwdWJsaWNWYXBpZEtleSwgdG9rZW5EZXRhaWxzKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuZ2V0TmV3VG9rZW4oc3dSZWcsIHB1c2hTdWJzY3JpcHRpb24sIHB1YmxpY1ZhcGlkS2V5KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogbWFuYWdlRXhpc3RpbmdUb2tlbiBpcyB0cmlnZ2VyZWQgaWYgdGhlcmUncyBhbiBleGlzdGluZyBGQ00gdG9rZW4gaW4gdGhlXHJcbiAgICAgKiBkYXRhYmFzZSBhbmQgaXQgY2FuIHRha2UgMyBkaWZmZXJlbnQgYWN0aW9uczpcclxuICAgICAqIDEpIFJldHJpZXZlIHRoZSBleGlzdGluZyBGQ00gdG9rZW4gZnJvbSB0aGUgZGF0YWJhc2UuXHJcbiAgICAgKiAyKSBJZiBWQVBJRCBkZXRhaWxzIGhhdmUgY2hhbmdlZDogRGVsZXRlIHRoZSBleGlzdGluZyB0b2tlbiBhbmQgY3JlYXRlIGFcclxuICAgICAqIG5ldyBvbmUgd2l0aCB0aGUgbmV3IFZBUElEIGtleS5cclxuICAgICAqIDMpIElmIHRoZSBkYXRhYmFzZSBjYWNoZSBpcyBpbnZhbGlkYXRlZDogU2VuZCBhIHJlcXVlc3QgdG8gRkNNIHRvIHVwZGF0ZVxyXG4gICAgICogdGhlIHRva2VuLCBhbmQgdG8gY2hlY2sgaWYgdGhlIHRva2VuIGlzIHN0aWxsIHZhbGlkIG9uIEZDTS1zaWRlLlxyXG4gICAgICovXHJcbiAgICBCYXNlQ29udHJvbGxlci5wcm90b3R5cGUubWFuYWdlRXhpc3RpbmdUb2tlbiA9IGZ1bmN0aW9uIChzd1JlZywgcHVzaFN1YnNjcmlwdGlvbiwgcHVibGljVmFwaWRLZXksIHRva2VuRGV0YWlscykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlzVG9rZW5WYWxpZCwgbm93O1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Rva2VuVmFsaWQgPSBpc1Rva2VuU3RpbGxWYWxpZChwdXNoU3Vic2NyaXB0aW9uLCBwdWJsaWNWYXBpZEtleSwgdG9rZW5EZXRhaWxzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVG9rZW5WYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3cgPCB0b2tlbkRldGFpbHMuY3JlYXRlVGltZSArIFRPS0VOX0VYUElSQVRJT05fTUlMTElTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRva2VuRGV0YWlscy5mY21Ub2tlbl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy51cGRhdGVUb2tlbihzd1JlZywgcHVzaFN1YnNjcmlwdGlvbiwgcHVibGljVmFwaWRLZXksIHRva2VuRGV0YWlscyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0b2tlbiBpcyBubyBsb25nZXIgdmFsaWQgKGZvciBleGFtcGxlIGlmIHRoZSBWQVBJRCBkZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgY2hhbmdlZCksIGRlbGV0ZSB0aGUgZXhpc3RpbmcgdG9rZW4gZnJvbSB0aGUgRkNNIGNsaWVudCBhbmQgc2VydmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRhdGFiYXNlLiBObyBuZWVkIHRvIHVuc3Vic2NyaWJlIGZyb20gdGhlIFNlcnZpY2UgV29ya2VyIGFzIHdlIGhhdmUgYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnb29kIHB1c2ggc3Vic2NyaXB0aW9uIHRoYXQgd2UnZCBsaWtlIHRvIHVzZSBpbiBnZXROZXdUb2tlbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5kZWxldGVUb2tlbkZyb21EQih0b2tlbkRldGFpbHMuZmNtVG9rZW4pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0b2tlbiBpcyBubyBsb25nZXIgdmFsaWQgKGZvciBleGFtcGxlIGlmIHRoZSBWQVBJRCBkZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgY2hhbmdlZCksIGRlbGV0ZSB0aGUgZXhpc3RpbmcgdG9rZW4gZnJvbSB0aGUgRkNNIGNsaWVudCBhbmQgc2VydmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRhdGFiYXNlLiBObyBuZWVkIHRvIHVuc3Vic2NyaWJlIGZyb20gdGhlIFNlcnZpY2UgV29ya2VyIGFzIHdlIGhhdmUgYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnb29kIHB1c2ggc3Vic2NyaXB0aW9uIHRoYXQgd2UnZCBsaWtlIHRvIHVzZSBpbiBnZXROZXdUb2tlbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5nZXROZXdUb2tlbihzd1JlZywgcHVzaFN1YnNjcmlwdGlvbiwgcHVibGljVmFwaWRLZXkpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQmFzZUNvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZVRva2VuID0gZnVuY3Rpb24gKHN3UmVnLCBwdXNoU3Vic2NyaXB0aW9uLCBwdWJsaWNWYXBpZEtleSwgdG9rZW5EZXRhaWxzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlZFRva2VuLCBhbGxEZXRhaWxzLCBlXzE7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgNCwgLCA2XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaWlkTW9kZWwudXBkYXRlVG9rZW4odGhpcy5tZXNzYWdpbmdTZW5kZXJJZCwgdG9rZW5EZXRhaWxzLmZjbVRva2VuLCB0b2tlbkRldGFpbHMuZmNtUHVzaFNldCwgcHVzaFN1YnNjcmlwdGlvbiwgcHVibGljVmFwaWRLZXkpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRUb2tlbiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGV0YWlscyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3U2NvcGU6IHN3UmVnLnNjb3BlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFwaWRLZXk6IHB1YmxpY1ZhcGlkS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmNtU2VuZGVySWQ6IHRoaXMubWVzc2FnaW5nU2VuZGVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmY21Ub2tlbjogdXBkYXRlZFRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmNtUHVzaFNldDogdG9rZW5EZXRhaWxzLmZjbVB1c2hTZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IHB1c2hTdWJzY3JpcHRpb24uZW5kcG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiBwdXNoU3Vic2NyaXB0aW9uLmdldEtleSgnYXV0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcDI1NmRoOiBwdXNoU3Vic2NyaXB0aW9uLmdldEtleSgncDI1NmRoJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy50b2tlbkRldGFpbHNNb2RlbC5zYXZlVG9rZW5EZXRhaWxzKGFsbERldGFpbHMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy52YXBpZERldGFpbHNNb2RlbC5zYXZlVmFwaWREZXRhaWxzKHN3UmVnLnNjb3BlLCBwdWJsaWNWYXBpZEtleSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdXBkYXRlZFRva2VuXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5kZWxldGVUb2tlbih0b2tlbkRldGFpbHMuZmNtVG9rZW4pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZV8xO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBCYXNlQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TmV3VG9rZW4gPSBmdW5jdGlvbiAoc3dSZWcsIHB1c2hTdWJzY3JpcHRpb24sIHB1YmxpY1ZhcGlkS2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW5EZXRhaWxzLCBhbGxEZXRhaWxzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmlpZE1vZGVsLmdldFRva2VuKHRoaXMubWVzc2FnaW5nU2VuZGVySWQsIHB1c2hTdWJzY3JpcHRpb24sIHB1YmxpY1ZhcGlkS2V5KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkRldGFpbHMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERldGFpbHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd1Njb3BlOiBzd1JlZy5zY29wZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcGlkS2V5OiBwdWJsaWNWYXBpZEtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjbVNlbmRlcklkOiB0aGlzLm1lc3NhZ2luZ1NlbmRlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmNtVG9rZW46IHRva2VuRGV0YWlscy50b2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZjbVB1c2hTZXQ6IHRva2VuRGV0YWlscy5wdXNoU2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGltZTogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50OiBwdXNoU3Vic2NyaXB0aW9uLmVuZHBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aDogcHVzaFN1YnNjcmlwdGlvbi5nZXRLZXkoJ2F1dGgnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAyNTZkaDogcHVzaFN1YnNjcmlwdGlvbi5nZXRLZXkoJ3AyNTZkaCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMudG9rZW5EZXRhaWxzTW9kZWwuc2F2ZVRva2VuRGV0YWlscyhhbGxEZXRhaWxzKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMudmFwaWREZXRhaWxzTW9kZWwuc2F2ZVZhcGlkRGV0YWlscyhzd1JlZy5zY29wZSwgcHVibGljVmFwaWRLZXkpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRva2VuRGV0YWlscy50b2tlbl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2QgZGVsZXRlcyB0b2tlbnMgdGhhdCB0aGUgdG9rZW4gbWFuYWdlciBsb29rcyBhZnRlcixcclxuICAgICAqIHVuc3Vic2NyaWJlcyB0aGUgdG9rZW4gZnJvbSBGQ00gIGFuZCB0aGVuIHVucmVnaXN0ZXJzIHRoZSBwdXNoXHJcbiAgICAgKiBzdWJzY3JpcHRpb24gaWYgaXQgZXhpc3RzLiBJdCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGluZGljYXRlc1xyXG4gICAgICogd2hldGhlciBvciBub3QgdGhlIHVuc3Vic2NyaWJlIHJlcXVlc3Qgd2FzIHByb2Nlc3NlZCBzdWNjZXNzZnVsbHkuXHJcbiAgICAgKi9cclxuICAgIEJhc2VDb250cm9sbGVyLnByb3RvdHlwZS5kZWxldGVUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbiwgcHVzaFN1YnNjcmlwdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSB0b2tlbiBkZXRhaWxzIGZyb20gdGhlIGRhdGFiYXNlLlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZGVsZXRlVG9rZW5Gcm9tREIodG9rZW4pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgdG9rZW4gZGV0YWlscyBmcm9tIHRoZSBkYXRhYmFzZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldFNXUmVnaXN0cmF0aW9uXygpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdpc3RyYXRpb24pIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaFN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHB1c2hTdWJzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBwdXNoU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNDtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gU1csIGNvbnNpZGVyIGl0IGEgc3VjY2Vzcy5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBkZWxldGUgdGhlIHRva2VuIGZyb20gdGhlIGNsaWVudCBkYXRhYmFzZSwgYW5kIG1ha2UgYVxyXG4gICAgICogY2FsbCB0byBGQ00gdG8gcmVtb3ZlIGl0IGZyb20gdGhlIHNlcnZlciBEQi4gRG9lcyBub3QgdGVtcGVyIHdpdGggdGhlXHJcbiAgICAgKiBwdXNoIHN1YnNjcmlwdGlvbi5cclxuICAgICAqL1xyXG4gICAgQmFzZUNvbnRyb2xsZXIucHJvdG90eXBlLmRlbGV0ZVRva2VuRnJvbURCID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZGV0YWlscztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy50b2tlbkRldGFpbHNNb2RlbC5kZWxldGVUb2tlbih0b2tlbildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5paWRNb2RlbC5kZWxldGVUb2tlbihkZXRhaWxzLmZjbVNlbmRlcklkLCBkZXRhaWxzLmZjbVRva2VuLCBkZXRhaWxzLmZjbVB1c2hTZXQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBQdXNoU3Vic2NyaXB0aW9uIGZvciB0aGUgY3VycmVudCB1c2VyLlxyXG4gICAgICovXHJcbiAgICBCYXNlQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0UHVzaFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzd1JlZ2lzdHJhdGlvbiwgcHVibGljVmFwaWRLZXkpIHtcclxuICAgICAgICByZXR1cm4gc3dSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCkudGhlbihmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN3UmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleTogcHVibGljVmFwaWRLZXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLy9cclxuICAgIC8vIFRoZSBmb2xsb3dpbmcgbWV0aG9kcyBzaG91bGQgb25seSBiZSBhdmFpbGFibGUgaW4gdGhlIHdpbmRvdy5cclxuICAgIC8vXHJcbiAgICBCYXNlQ29udHJvbGxlci5wcm90b3R5cGUucmVxdWVzdFBlcm1pc3Npb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5BVkFJTEFCTEVfSU5fV0lORE9XKTtcclxuICAgIH07XHJcbiAgICBCYXNlQ29udHJvbGxlci5wcm90b3R5cGUudXNlU2VydmljZVdvcmtlciA9IGZ1bmN0aW9uIChyZWdpc3RyYXRpb24pIHtcclxuICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkFWQUlMQUJMRV9JTl9XSU5ET1cpO1xyXG4gICAgfTtcclxuICAgIEJhc2VDb250cm9sbGVyLnByb3RvdHlwZS51c2VQdWJsaWNWYXBpZEtleSA9IGZ1bmN0aW9uIChiNjRQdWJsaWNLZXkpIHtcclxuICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkFWQUlMQUJMRV9JTl9XSU5ET1cpO1xyXG4gICAgfTtcclxuICAgIEJhc2VDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lc3NhZ2UgPSBmdW5jdGlvbiAobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZWQpIHtcclxuICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkFWQUlMQUJMRV9JTl9XSU5ET1cpO1xyXG4gICAgfTtcclxuICAgIEJhc2VDb250cm9sbGVyLnByb3RvdHlwZS5vblRva2VuUmVmcmVzaCA9IGZ1bmN0aW9uIChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlZCkge1xyXG4gICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuQVZBSUxBQkxFX0lOX1dJTkRPVyk7XHJcbiAgICB9O1xyXG4gICAgLy9cclxuICAgIC8vIFRoZSBmb2xsb3dpbmcgbWV0aG9kcyBhcmUgdXNlZCBieSB0aGUgc2VydmljZSB3b3JrZXIgb25seS5cclxuICAgIC8vXHJcbiAgICBCYXNlQ29udHJvbGxlci5wcm90b3R5cGUuc2V0QmFja2dyb3VuZE1lc3NhZ2VIYW5kbGVyID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5BVkFJTEFCTEVfSU5fU1cpO1xyXG4gICAgfTtcclxuICAgIC8vXHJcbiAgICAvLyBUaGUgZm9sbG93aW5nIG1ldGhvZHMgYXJlIHVzZWQgYnkgdGhlIHNlcnZpY2UgdGhlbXNlbHZlcyBhbmQgbm90IGV4cG9zZWRcclxuICAgIC8vIHB1YmxpY2x5IG9yIG5vdCBleHBlY3RlZCB0byBiZSB1c2VkIGJ5IGRldmVsb3BlcnMuXHJcbiAgICAvL1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyByZXF1aXJlZCB0byBhZGhlcmUgdG8gdGhlIEZpcmViYXNlIGludGVyZmFjZS5cclxuICAgICAqIEl0IGNsb3NlcyBhbnkgY3VycmVudGx5IG9wZW4gaW5kZXhkYiBkYXRhYmFzZSBjb25uZWN0aW9ucy5cclxuICAgICAqL1xyXG4gICAgQmFzZUNvbnRyb2xsZXIucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5EZXRhaWxzTW9kZWwuY2xvc2VEYXRhYmFzZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YXBpZERldGFpbHNNb2RlbC5jbG9zZURhdGFiYXNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBOb3RpZmljYXRpb24gUGVybWlzc2lvbiBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgQmFzZUNvbnRyb2xsZXIucHJvdG90eXBlLmdldE5vdGlmaWNhdGlvblBlcm1pc3Npb25fID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGUgY2FzdCB3aGVuIHRoaXMgaXNzdWUgaXMgZml4ZWQ6XHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xNDcwMVxyXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZSBuby1hbnlcclxuICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnBlcm1pc3Npb247XHJcbiAgICB9O1xyXG4gICAgQmFzZUNvbnRyb2xsZXIucHJvdG90eXBlLmdldFRva2VuRGV0YWlsc01vZGVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuRGV0YWlsc01vZGVsO1xyXG4gICAgfTtcclxuICAgIEJhc2VDb250cm9sbGVyLnByb3RvdHlwZS5nZXRWYXBpZERldGFpbHNNb2RlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YXBpZERldGFpbHNNb2RlbDtcclxuICAgIH07XHJcbiAgICAvLyBWaXNpYmxlIGZvciB0ZXN0aW5nXHJcbiAgICAvLyBUT0RPOiBtYWtlIHByb3RlY3RlZFxyXG4gICAgQmFzZUNvbnRyb2xsZXIucHJvdG90eXBlLmdldElpZE1vZGVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlpZE1vZGVsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCYXNlQ29udHJvbGxlcjtcclxufSgpKTtcclxuLyoqXHJcbiAqIENoZWNrcyBpZiB0aGUgdG9rZW5EZXRhaWxzIG1hdGNoIHRoZSBkZXRhaWxzIHByb3ZpZGVkIGluIHRoZSBjbGllbnRzLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNUb2tlblN0aWxsVmFsaWQocHVzaFN1YnNjcmlwdGlvbiwgcHVibGljVmFwaWRLZXksIHRva2VuRGV0YWlscykge1xyXG4gICAgaWYgKCF0b2tlbkRldGFpbHMudmFwaWRLZXkgfHxcclxuICAgICAgICAhaXNBcnJheUJ1ZmZlckVxdWFsKHB1YmxpY1ZhcGlkS2V5LmJ1ZmZlciwgdG9rZW5EZXRhaWxzLnZhcGlkS2V5LmJ1ZmZlcikpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgaXNFbmRwb2ludEVxdWFsID0gcHVzaFN1YnNjcmlwdGlvbi5lbmRwb2ludCA9PT0gdG9rZW5EZXRhaWxzLmVuZHBvaW50O1xyXG4gICAgdmFyIGlzQXV0aEVxdWFsID0gaXNBcnJheUJ1ZmZlckVxdWFsKHB1c2hTdWJzY3JpcHRpb24uZ2V0S2V5KCdhdXRoJyksIHRva2VuRGV0YWlscy5hdXRoKTtcclxuICAgIHZhciBpc1AyNTZkaEVxdWFsID0gaXNBcnJheUJ1ZmZlckVxdWFsKHB1c2hTdWJzY3JpcHRpb24uZ2V0S2V5KCdwMjU2ZGgnKSwgdG9rZW5EZXRhaWxzLnAyNTZkaCk7XHJcbiAgICByZXR1cm4gaXNFbmRwb2ludEVxdWFsICYmIGlzQXV0aEVxdWFsICYmIGlzUDI1NmRoRXF1YWw7XHJcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBGQ01fTVNHID0gJ0ZDTV9NU0cnO1xyXG52YXIgU3dDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFN3Q29udHJvbGxlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN3Q29udHJvbGxlcihhcHApIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBhcHApIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuYmdNZXNzYWdlSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdwdXNoJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgX3RoaXMub25QdXNoKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncHVzaHN1YnNjcmlwdGlvbmNoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uU3ViQ2hhbmdlKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbm90aWZpY2F0aW9uY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbk5vdGlmaWNhdGlvbkNsaWNrKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8vIFZpc2libGUgZm9yIHRlc3RpbmdcclxuICAgIC8vIFRPRE86IE1ha2UgcHJpdmF0ZVxyXG4gICAgU3dDb250cm9sbGVyLnByb3RvdHlwZS5vblB1c2ggPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC53YWl0VW50aWwodGhpcy5vblB1c2hfKGV2ZW50KSk7XHJcbiAgICB9O1xyXG4gICAgLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gICAgLy8gVE9ETzogTWFrZSBwcml2YXRlXHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLm9uU3ViQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQud2FpdFVudGlsKHRoaXMub25TdWJDaGFuZ2VfKGV2ZW50KSk7XHJcbiAgICB9O1xyXG4gICAgLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gICAgLy8gVE9ETzogTWFrZSBwcml2YXRlXHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTm90aWZpY2F0aW9uQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC53YWl0VW50aWwodGhpcy5vbk5vdGlmaWNhdGlvbkNsaWNrXyhldmVudCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQSBoYW5kbGVyIGZvciBwdXNoIGV2ZW50cyB0aGF0IHNob3dzIG5vdGlmaWNhdGlvbnMgYmFzZWQgb24gdGhlIGNvbnRlbnQgb2ZcclxuICAgICAqIHRoZSBwYXlsb2FkLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBwYXlsb2FkIG11c3QgYmUgYSBKU09OLWVuY29kZWQgT2JqZWN0IHdpdGggYSBgbm90aWZpY2F0aW9uYCBrZXkuIFRoZVxyXG4gICAgICogdmFsdWUgb2YgdGhlIGBub3RpZmljYXRpb25gIHByb3BlcnR5IHdpbGwgYmUgdXNlZCBhcyB0aGUgTm90aWZpY2F0aW9uT3B0aW9uc1xyXG4gICAgICogb2JqZWN0IHBhc3NlZCB0byBzaG93Tm90aWZpY2F0aW9uLiBBZGRpdGlvbmFsbHksIHRoZSBgdGl0bGVgIHByb3BlcnR5IG9mIHRoZVxyXG4gICAgICogbm90aWZpY2F0aW9uIG9iamVjdCB3aWxsIGJlIHVzZWQgYXMgdGhlIHRpdGxlLlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZXJlIGlzIG5vIG5vdGlmaWNhdGlvbiBkYXRhIGluIHRoZSBwYXlsb2FkIHRoZW4gbm8gbm90aWZpY2F0aW9uIHdpbGwgYmVcclxuICAgICAqIHNob3duLlxyXG4gICAgICovXHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLm9uUHVzaF8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtc2dQYXlsb2FkLCBoYXNWaXNpYmxlQ2xpZW50cywgbm90aWZpY2F0aW9uRGV0YWlscywgbm90aWZpY2F0aW9uVGl0bGUsIHJlZywgYWN0aW9ucywgbWF4QWN0aW9ucztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudC5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZ1BheWxvYWQgPSBldmVudC5kYXRhLmpzb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3QgSlNPTiBzbyBub3QgYW4gRkNNIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmhhc1Zpc2libGVDbGllbnRzXygpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1Zpc2libGVDbGllbnRzID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzVmlzaWJsZUNsaWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcCBpbiBmb3JlZ3JvdW5kLiBTZW5kIHRvIHBhZ2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5zZW5kTWVzc2FnZVRvV2luZG93Q2xpZW50c18obXNnUGF5bG9hZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkRldGFpbHMgPSB0aGlzLmdldE5vdGlmaWNhdGlvbkRhdGFfKG1zZ1BheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vdGlmaWNhdGlvbkRldGFpbHMpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25UaXRsZSA9IG5vdGlmaWNhdGlvbkRldGFpbHMudGl0bGUgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0U1dSZWdpc3RyYXRpb25fKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zID0gbm90aWZpY2F0aW9uRGV0YWlscy5hY3Rpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhBY3Rpb25zID0gTm90aWZpY2F0aW9uLm1heEFjdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDplbmFibGUgbm8tYW55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25zICYmIG1heEFjdGlvbnMgJiYgYWN0aW9ucy5sZW5ndGggPiBtYXhBY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUaGlzIGJyb3dzZXIgb25seSBzdXBwb3J0cyBcIiArIG1heEFjdGlvbnMgKyBcIiBhY3Rpb25zLlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoZSByZW1haW5pbmcgYWN0aW9ucyB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWcuc2hvd05vdGlmaWNhdGlvbihub3RpZmljYXRpb25UaXRsZSwgbm90aWZpY2F0aW9uRGV0YWlscyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJnTWVzc2FnZUhhbmRsZXIpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmJnTWVzc2FnZUhhbmRsZXIobXNnUGF5bG9hZCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFN3Q29udHJvbGxlci5wcm90b3R5cGUub25TdWJDaGFuZ2VfID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVnaXN0cmF0aW9uLCBlcnJfMSwgZXJyXzIsIHRva2VuRGV0YWlsc01vZGVsLCB0b2tlbkRldGFpbHM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgMiwgLCAzXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0U1dSZWdpc3RyYXRpb25fKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycl8xID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLlVOQUJMRV9UT19SRVNVQlNDUklCRSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyXzFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzMsIDUsICwgOF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycl8yID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkRldGFpbHNNb2RlbCA9IHRoaXMuZ2V0VG9rZW5EZXRhaWxzTW9kZWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdG9rZW5EZXRhaWxzTW9kZWwuZ2V0VG9rZW5EZXRhaWxzRnJvbVNXU2NvcGUocmVnaXN0cmF0aW9uLnNjb3BlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkRldGFpbHMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdG9rZW5EZXRhaWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHNob3VsZCByYXJlbHkgb2NjdXJlLCBidXQgY291bGQgaWYgaW5kZXhlZERCXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBjb3JydXB0ZWQgb3Igd2lwZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycl8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gZGVsZXRlIHRoZSB0b2tlbiBpZiB3ZSBrbm93IGl0J3MgYmFkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZGVsZXRlVG9rZW4odG9rZW5EZXRhaWxzLmZjbVRva2VuKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGRlbGV0ZSB0aGUgdG9rZW4gaWYgd2Uga25vdyBpdCdzIGJhZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycl8yO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTm90aWZpY2F0aW9uQ2xpY2tfID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbXNnUGF5bG9hZCwgbGluaywgd2luZG93Q2xpZW50LCBpbnRlcm5hbE1zZztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudC5ub3RpZmljYXRpb24gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFldmVudC5ub3RpZmljYXRpb24uZGF0YSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWV2ZW50Lm5vdGlmaWNhdGlvbi5kYXRhW0ZDTV9NU0ddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3QgYW4gRkNNIG5vdGlmaWNhdGlvbiwgZG8gbm90aGluZy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChldmVudC5hY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgY2xpY2tlZCBvbiBhbiBhY3Rpb24gYnV0dG9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGFsbG93IGRldnMgdG8gYWN0IG9uIGFjdGlvbiBidXR0b24gY2xpY2tzIGJ5IHVzaW5nIGEgY3VzdG9tXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbk5vdGlmaWNhdGlvbkNsaWNrIGxpc3RlbmVyIHRoYXQgdGhleSBkZWZpbmUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBvdGhlciBsaXN0ZW5lcnMgZnJvbSByZWNlaXZpbmcgdGhlIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5ub3RpZmljYXRpb24uY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnUGF5bG9hZCA9IGV2ZW50Lm5vdGlmaWNhdGlvbi5kYXRhW0ZDTV9NU0ddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1zZ1BheWxvYWQubm90aWZpY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGRvLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSAobXNnUGF5bG9hZC5mY21PcHRpb25zICYmIG1zZ1BheWxvYWQuZmNtT3B0aW9ucy5saW5rKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnUGF5bG9hZC5ub3RpZmljYXRpb24uY2xpY2tfYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gZG8uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRXaW5kb3dDbGllbnRfKGxpbmspXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsaWVudCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhd2luZG93Q2xpZW50KSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2VsZi5jbGllbnRzLm9wZW5XaW5kb3cobGluayldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW5hYmxlIHRvIGZpbmQgd2luZG93IGNsaWVudCBzbyBuZWVkIHRvIG9wZW4gb25lLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGllbnQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFs0IC8qeWllbGQqLywgd2luZG93Q2xpZW50LmZvY3VzKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xpZW50ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmRvd0NsaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2luZG93IENsaWVudCB3aWxsIG5vdCBiZSByZXR1cm5lZCBpZiBpdCdzIGZvciBhIHRoaXJkIHBhcnR5IG9yaWdpbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgbm90aWZpY2F0aW9uIGFuZCBmY21PcHRpb25zIGRhdGEgZnJvbSBwYXlsb2FkIGJlZm9yZSBzZW5kaW5nIHRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwYWdlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbXNnUGF5bG9hZC5ub3RpZmljYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtc2dQYXlsb2FkLmZjbU9wdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsTXNnID0gY3JlYXRlTmV3TXNnKE1lc3NhZ2VUeXBlLk5PVElGSUNBVElPTl9DTElDS0VELCBtc2dQYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBzZW5kIGEgbWVzc2FnZSB0byB0aGUgY2xpZW50IHRvIGhhbmRsZSB0aGUgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJcyBhZmZlY3RlZCBieTogaHR0cHM6Ly9naXRodWIuY29tL3NsaWdodGx5b2ZmL1NlcnZpY2VXb3JrZXIvaXNzdWVzLzcyOFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5hdHRlbXB0VG9NZXNzYWdlQ2xpZW50Xyh3aW5kb3dDbGllbnQsIGludGVybmFsTXNnKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8vIFZpc2libGUgZm9yIHRlc3RpbmdcclxuICAgIC8vIFRPRE86IE1ha2UgcHJpdmF0ZVxyXG4gICAgU3dDb250cm9sbGVyLnByb3RvdHlwZS5nZXROb3RpZmljYXRpb25EYXRhXyA9IGZ1bmN0aW9uIChtc2dQYXlsb2FkKSB7XHJcbiAgICAgICAgaWYgKCFtc2dQYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBtc2dQYXlsb2FkLm5vdGlmaWNhdGlvbiAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW5mb3JtYXRpb24gPSBfX2Fzc2lnbih7fSwgbXNnUGF5bG9hZC5ub3RpZmljYXRpb24pO1xyXG4gICAgICAgIC8vIFB1dCB0aGUgbWVzc2FnZSBwYXlsb2FkIHVuZGVyIEZDTV9NU0cgbmFtZSBzbyB3ZSBjYW4gaWRlbnRpZnkgdGhlXHJcbiAgICAgICAgLy8gbm90aWZpY2F0aW9uIGFzIGJlaW5nIGFuIEZDTSBub3RpZmljYXRpb24gdnMgYSBub3RpZmljYXRpb24gZnJvbVxyXG4gICAgICAgIC8vIHNvbWV3aGVyZSBlbHNlIChpLmUuIG5vcm1hbCB3ZWIgcHVzaCBvciBkZXZlbG9wZXIgZ2VuZXJhdGVkXHJcbiAgICAgICAgLy8gbm90aWZpY2F0aW9uKS5cclxuICAgICAgICBub3RpZmljYXRpb25JbmZvcm1hdGlvbi5kYXRhID0gX19hc3NpZ24oe30sIG1zZ1BheWxvYWQubm90aWZpY2F0aW9uLmRhdGEsIChfYSA9IHt9LCBfYVtGQ01fTVNHXSA9IG1zZ1BheWxvYWQsIF9hKSk7XHJcbiAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbkluZm9ybWF0aW9uO1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENhbGxpbmcgc2V0QmFja2dyb3VuZE1lc3NhZ2VIYW5kbGVyIHdpbGwgb3B0IGluIHRvIHNvbWUgc3BlY2lmaWNcclxuICAgICAqIGJlaGF2aW91cnMuXHJcbiAgICAgKiAxLikgSWYgYSBub3RpZmljYXRpb24gZG9lc24ndCBuZWVkIHRvIGJlIHNob3duIGR1ZSB0byBhIHdpbmRvdyBhbHJlYWR5XHJcbiAgICAgKiBiZWluZyB2aXNpYmxlLCB0aGVuIHB1c2ggbWVzc2FnZXMgd2lsbCBiZSBzZW50IHRvIHRoZSBwYWdlLlxyXG4gICAgICogMi4pIElmIGEgbm90aWZpY2F0aW9uIG5lZWRzIHRvIGJlIHNob3duLCBhbmQgdGhlIG1lc3NhZ2UgY29udGFpbnMgbm9cclxuICAgICAqIG5vdGlmaWNhdGlvbiBkYXRhIHRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkXHJcbiAgICAgKiBhbmQgdGhlIHByb21pc2UgaXQgcmV0dXJucyB3aWxsIGJlIHBhc3NlZCB0byBldmVudC53YWl0VW50aWwuXHJcbiAgICAgKiBJZiB5b3UgZG8gbm90IHNldCB0aGlzIGNhbGxiYWNrIHRoZW4gYWxsIHB1c2ggbWVzc2FnZXMgd2lsbCBsZXQgYW5kIHRoZVxyXG4gICAgICogZGV2ZWxvcGVyIGNhbiBoYW5kbGUgdGhlbSBpbiBhIHRoZWlyIG93biAncHVzaCcgZXZlbnQgY2FsbGJhY2tcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIGEgcHVzaCBtZXNzYWdlIGlzIHJlY2VpdmVkXHJcbiAgICAgKiBhbmQgYSBub3RpZmljYXRpb24gbXVzdCBiZSBzaG93bi4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgZ2l2ZW4gdGhlIGRhdGEgZnJvbVxyXG4gICAgICogdGhlIHB1c2ggbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgU3dDb250cm9sbGVyLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kTWVzc2FnZUhhbmRsZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLkJHX0hBTkRMRVJfRlVOQ1RJT05fRVhQRUNURUQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJnTWVzc2FnZUhhbmRsZXIgPSBjYWxsYmFjaztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB1cmwgVGhlIFVSTCB0byBsb29rIGZvciB3aGVuIGZvY3VzaW5nIGEgY2xpZW50LlxyXG4gICAgICogQHJldHVybiBSZXR1cm5zIGFuIGV4aXN0aW5nIHdpbmRvdyBjbGllbnQgb3IgYSBuZXdseSBvcGVuZWQgV2luZG93Q2xpZW50LlxyXG4gICAgICovXHJcbiAgICAvLyBWaXNpYmxlIGZvciB0ZXN0aW5nXHJcbiAgICAvLyBUT0RPOiBNYWtlIHByaXZhdGVcclxuICAgIFN3Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0V2luZG93Q2xpZW50XyA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJzZWRVUkwsIGNsaWVudExpc3QsIHN1aXRhYmxlQ2xpZW50LCBpLCBwYXJzZWRDbGllbnRVcmw7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZFVSTCA9IG5ldyBVUkwodXJsLCBzZWxmLmxvY2F0aW9uLmhyZWYpLmhyZWY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldENsaWVudExpc3QoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRMaXN0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWl0YWJsZUNsaWVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjbGllbnRMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRDbGllbnRVcmwgPSBuZXcgVVJMKGNsaWVudExpc3RbaV0udXJsLCBzZWxmLmxvY2F0aW9uLmhyZWYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhyZWY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkQ2xpZW50VXJsID09PSBwYXJzZWRVUkwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWl0YWJsZUNsaWVudCA9IGNsaWVudExpc3RbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHN1aXRhYmxlQ2xpZW50XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1lc3NhZ2Ugd2lsbCBhdHRlbXB0IHRvIHNlbmQgdGhlIG1lc3NhZ2UgdG8gYSB3aW5kb3cgY2xpZW50LlxyXG4gICAgICogQHBhcmFtIGNsaWVudCBUaGUgV2luZG93Q2xpZW50IHRvIHNlbmQgdGhlIG1lc3NhZ2UgdG8uXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzZW5kIHRvIHRoZSBjbGllbnQuXHJcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIHNlbmRpbmcgdGhlIG1lc3NhZ2UuIFRoaXNcclxuICAgICAqIGRvZXMgbm90IGd1YXJhbnRlZSB0aGF0IHRoZSBtZXNzYWdlIHdhcyBzdWNjZXNzZnVsbHkgcmVjZWl2ZWQuXHJcbiAgICAgKi9cclxuICAgIC8vIFZpc2libGUgZm9yIHRlc3RpbmdcclxuICAgIC8vIFRPRE86IE1ha2UgcHJpdmF0ZVxyXG4gICAgU3dDb250cm9sbGVyLnByb3RvdHlwZS5hdHRlbXB0VG9NZXNzYWdlQ2xpZW50XyA9IGZ1bmN0aW9uIChjbGllbnQsIG1lc3NhZ2UpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IFRoaXMgcmV0dXJucyBhIHByb21pc2UgaW4gY2FzZSB0aGlzIEFQSSBpcyBhYnN0cmFjdGVkIGxhdGVyIG9uIHRvXHJcbiAgICAgICAgICAgICAgICAvLyBkbyBhZGRpdGlvbmFsIHdvcmtcclxuICAgICAgICAgICAgICAgIGlmICghY2xpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5OT19XSU5ET1dfQ0xJRU5UX1RPX01TRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjbGllbnQucG9zdE1lc3NhZ2UobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMgSWYgdGhlcmUgaXMgY3VycmVudGx5IGEgdmlzaWJsZSBXaW5kb3dDbGllbnQsIHRoaXMgbWV0aG9kIHdpbGxcclxuICAgICAqIHJlc29sdmUgdG8gdHJ1ZSwgb3RoZXJ3aXNlIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICAvLyBWaXNpYmxlIGZvciB0ZXN0aW5nXHJcbiAgICAvLyBUT0RPOiBNYWtlIHByaXZhdGVcclxuICAgIFN3Q29udHJvbGxlci5wcm90b3R5cGUuaGFzVmlzaWJsZUNsaWVudHNfID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNsaWVudExpc3Q7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGdldENsaWVudExpc3QoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRMaXN0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2xpZW50TGlzdC5zb21lKGZ1bmN0aW9uIChjbGllbnQpIHsgcmV0dXJuIGNsaWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJzsgfSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBtc2dQYXlsb2FkIFRoZSBkYXRhIGZyb20gdGhlIHB1c2ggZXZlbnQgdGhhdCBzaG91bGQgYmUgc2VudCB0byBhbGxcclxuICAgICAqIGF2YWlsYWJsZSBwYWdlcy5cclxuICAgICAqIEByZXR1cm5zIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSB0aGUgbWVzc2FnZSBoYXMgYmVlbiBzZW50IHRvXHJcbiAgICAgKiBhbGwgV2luZG93Q2xpZW50cy5cclxuICAgICAqL1xyXG4gICAgLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gICAgLy8gVE9ETzogTWFrZSBwcml2YXRlXHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLnNlbmRNZXNzYWdlVG9XaW5kb3dDbGllbnRzXyA9IGZ1bmN0aW9uIChtc2dQYXlsb2FkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgY2xpZW50TGlzdCwgaW50ZXJuYWxNc2c7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGdldENsaWVudExpc3QoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRMaXN0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbE1zZyA9IGNyZWF0ZU5ld01zZyhNZXNzYWdlVHlwZS5QVVNIX01TR19SRUNFSVZFRCwgbXNnUGF5bG9hZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKGNsaWVudExpc3QubWFwKGZ1bmN0aW9uIChjbGllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXR0ZW1wdFRvTWVzc2FnZUNsaWVudF8oY2xpZW50LCBpbnRlcm5hbE1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyB3aWxsIHJlZ2lzdGVyIHRoZSBkZWZhdWx0IHNlcnZpY2Ugd29ya2VyIGFuZCByZXR1cm4gdGhlIHJlZ2lzdHJhdGlvbi5cclxuICAgICAqIEByZXR1cm4gaGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIHRvIGJlIHVzZWQgZm9yIHRoZSBwdXNoIHNlcnZpY2UuXHJcbiAgICAgKi9cclxuICAgIFN3Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0U1dSZWdpc3RyYXRpb25fID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHNlbGYucmVnaXN0cmF0aW9uXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIHdpbGwgcmV0dXJuIHRoZSBkZWZhdWx0IFZBUElEIGtleSBvciB0aGUgdWludDhhcnJheSB2ZXJzaW9uIG9mIHRoZVxyXG4gICAgICogcHVibGljIFZBUElEIGtleSBwcm92aWRlZCBieSB0aGUgZGV2ZWxvcGVyLlxyXG4gICAgICovXHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLmdldFB1YmxpY1ZhcGlkS2V5XyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzd1JlZywgdmFwaWRLZXlGcm9tRGF0YWJhc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0U1dSZWdpc3RyYXRpb25fKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dSZWcgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3dSZWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuU1dfUkVHSVNUUkFUSU9OX0VYUEVDVEVEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldFZhcGlkRGV0YWlsc01vZGVsKCkuZ2V0VmFwaWRGcm9tU1dTY29wZShzd1JlZy5zY29wZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFwaWRLZXlGcm9tRGF0YWJhc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXBpZEtleUZyb21EYXRhYmFzZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgREVGQVVMVF9QVUJMSUNfVkFQSURfS0VZXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdmFwaWRLZXlGcm9tRGF0YWJhc2VdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3dDb250cm9sbGVyO1xyXG59KEJhc2VDb250cm9sbGVyKSk7XHJcbmZ1bmN0aW9uIGdldENsaWVudExpc3QoKSB7XHJcbiAgICByZXR1cm4gc2VsZi5jbGllbnRzLm1hdGNoQWxsKHtcclxuICAgICAgICB0eXBlOiAnd2luZG93JyxcclxuICAgICAgICBpbmNsdWRlVW5jb250cm9sbGVkOiB0cnVlXHJcbiAgICAgICAgLy8gVFMgZG9lc24ndCBrbm93IHRoYXQgXCJ0eXBlOiAnd2luZG93J1wiIG1lYW5zIGl0J2xsIHJldHVybiBXaW5kb3dDbGllbnRbXVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlTmV3TXNnKG1zZ1R5cGUsIG1zZ0RhdGEpIHtcclxuICAgIHJldHVybiBfYSA9IHt9LCBfYVtNZXNzYWdlUGFyYW1ldGVyLlRZUEVfT0ZfTVNHXSA9IG1zZ1R5cGUsIF9hW01lc3NhZ2VQYXJhbWV0ZXIuREFUQV0gPSBtc2dEYXRhLCBfYTtcclxuICAgIHZhciBfYTtcclxufVxuXG4vKipcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIERFRkFVTFRfU1dfUEFUSCA9ICcvZmlyZWJhc2UtbWVzc2FnaW5nLXN3LmpzJztcclxudmFyIERFRkFVTFRfU1dfU0NPUEUgPSAnL2ZpcmViYXNlLWNsb3VkLW1lc3NhZ2luZy1wdXNoLXNjb3BlJztcblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBXaW5kb3dDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFdpbmRvd0NvbnRyb2xsZXIsIF9zdXBlcik7XHJcbiAgICAvKipcclxuICAgICAqIEEgc2VydmljZSB0aGF0IHByb3ZpZGVzIGEgTWVzc2FnaW5nU2VydmljZSBpbnN0YW5jZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gV2luZG93Q29udHJvbGxlcihhcHApIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBhcHApIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucmVnaXN0cmF0aW9uVG9Vc2UgPSBudWxsO1xyXG4gICAgICAgIF90aGlzLnB1YmxpY1ZhcGlkS2V5VG9Vc2UgPSBudWxsO1xyXG4gICAgICAgIF90aGlzLm1hbmlmZXN0Q2hlY2tQcm9taXNlID0gbnVsbDtcclxuICAgICAgICBfdGhpcy5tZXNzYWdlT2JzZXJ2ZXIgPSBudWxsO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IFVudXNlZCB2YXJpYWJsZSBlcnJvciwgdGhpcyBpcyBub3QgaW1wbGVtZW50ZWQgeWV0LlxyXG4gICAgICAgIF90aGlzLnRva2VuUmVmcmVzaE9ic2VydmVyID0gbnVsbDtcclxuICAgICAgICBfdGhpcy5vbk1lc3NhZ2VJbnRlcm5hbCA9IGNyZWF0ZVN1YnNjcmliZShmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgX3RoaXMubWVzc2FnZU9ic2VydmVyID0gb2JzZXJ2ZXI7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX3RoaXMub25Ub2tlblJlZnJlc2hJbnRlcm5hbCA9IGNyZWF0ZVN1YnNjcmliZShmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgX3RoaXMudG9rZW5SZWZyZXNoT2JzZXJ2ZXIgPSBvYnNlcnZlcjtcclxuICAgICAgICB9KTtcclxuICAgICAgICBfdGhpcy5zZXR1cFNXTWVzc2FnZUxpc3RlbmVyXygpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBGQ00gdG9rZW4gaWYgaXQgY2FuIGJlIGdlbmVyYXRlZC5cclxuICAgICAqIFRoZSByZXR1cm4gcHJvbWlzZSB3aWxsIHJlamVjdCBpZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnRcclxuICAgICAqIEZDTSwgaWYgcGVybWlzc2lvbiBpcyBkZW5pZWQgZm9yIG5vdGlmaWNhdGlvbnMgb3IgaXQncyBub3RcclxuICAgICAqIHBvc3NpYmxlIHRvIGdlbmVyYXRlIGEgdG9rZW4uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIEZDTSB0b2tlbiBvciBudWxsIGlmXHJcbiAgICAgKiBwZXJtaXNzaW9uIGlzbid0IGdyYW50ZWQuXHJcbiAgICAgKi9cclxuICAgIFdpbmRvd0NvbnRyb2xsZXIucHJvdG90eXBlLmdldFRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1hbmlmZXN0Q2hlY2tQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hbmlmZXN0Q2hlY2tQcm9taXNlID0gbWFuaWZlc3RDaGVjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMubWFuaWZlc3RDaGVja1Byb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgX3N1cGVyLnByb3RvdHlwZS5nZXRUb2tlbi5jYWxsKHRoaXMpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXF1ZXN0IHBlcm1pc3Npb24gaWYgaXQgaXMgbm90IGN1cnJlbnRseSBncmFudGVkXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBSZXNvbHZlcyBpZiB0aGUgcGVybWlzc2lvbiB3YXMgZ3JhbnRlZCwgb3RoZXJ3aXNlIHJlamVjdHNcclxuICAgICAqL1xyXG4gICAgV2luZG93Q29udHJvbGxlci5wcm90b3R5cGUucmVxdWVzdFBlcm1pc3Npb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGVybWlzc2lvblJlc3VsdDtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbl8oKSA9PT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvblJlc3VsdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25SZXN1bHQgPT09ICdncmFudGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBlcm1pc3Npb25SZXN1bHQgPT09ICdkZW5pZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLlBFUk1JU1NJT05fQkxPQ0tFRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLlBFUk1JU1NJT05fREVGQVVMVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIGFsbG93cyBhIGRldmVsb3BlciB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBzZXJ2aWNlIHdvcmtlciBhbmRcclxuICAgICAqIGluc3RlYWQgdXNlIGEgY3VzdG9tIHNlcnZpY2Ugd29ya2VyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByZWdpc3RyYXRpb24gVGhlIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiB0aGF0IHNob3VsZCBiZSB1c2VkIHRvXHJcbiAgICAgKiByZWNlaXZlIHRoZSBwdXNoIG1lc3NhZ2VzLlxyXG4gICAgICovXHJcbiAgICBXaW5kb3dDb250cm9sbGVyLnByb3RvdHlwZS51c2VTZXJ2aWNlV29ya2VyID0gZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikge1xyXG4gICAgICAgIGlmICghKHJlZ2lzdHJhdGlvbiBpbnN0YW5jZW9mIFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pKSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuU1dfUkVHSVNUUkFUSU9OX0VYUEVDVEVEKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucmVnaXN0cmF0aW9uVG9Vc2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLlVTRV9TV19CRUZPUkVfR0VUX1RPS0VOKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWdpc3RyYXRpb25Ub1VzZSA9IHJlZ2lzdHJhdGlvbjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgbWV0aG9kIGFsbG93cyBhIGRldmVsb3BlciB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCB2YXBpZCBrZXlcclxuICAgICAqIGFuZCBpbnN0ZWFkIHVzZSBhIGN1c3RvbSBWQVBJRCBwdWJsaWMga2V5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwdWJsaWNLZXkgQSBVUkwgc2FmZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIFdpbmRvd0NvbnRyb2xsZXIucHJvdG90eXBlLnVzZVB1YmxpY1ZhcGlkS2V5ID0gZnVuY3Rpb24gKHB1YmxpY0tleSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcHVibGljS2V5ICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLklOVkFMSURfUFVCTElDX1ZBUElEX0tFWSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnB1YmxpY1ZhcGlkS2V5VG9Vc2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLlVTRV9QVUJMSUNfS0VZX0JFRk9SRV9HRVRfVE9LRU4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcGFyc2VkS2V5ID0gYmFzZTY0VG9BcnJheUJ1ZmZlcihwdWJsaWNLZXkpO1xyXG4gICAgICAgIGlmIChwYXJzZWRLZXkubGVuZ3RoICE9PSA2NSkge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLlBVQkxJQ19LRVlfREVDUllQVElPTl9GQUlMRUQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnB1YmxpY1ZhcGlkS2V5VG9Vc2UgPSBwYXJzZWRLZXk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZXhwb3J0XHJcbiAgICAgKiBAcGFyYW0gbmV4dE9yT2JzZXJ2ZXIgQW4gb2JzZXJ2ZXIgb2JqZWN0IG9yIGEgZnVuY3Rpb24gdHJpZ2dlcmVkIG9uXHJcbiAgICAgKiBtZXNzYWdlLlxyXG4gICAgICogQHBhcmFtIGVycm9yIEEgZnVuY3Rpb24gdHJpZ2dlcmVkIG9uIG1lc3NhZ2UgZXJyb3IuXHJcbiAgICAgKiBAcGFyYW0gY29tcGxldGVkIGZ1bmN0aW9uIHRyaWdnZXJlZCB3aGVuIHRoZSBvYnNlcnZlciBpcyByZW1vdmVkLlxyXG4gICAgICogQHJldHVybiBUaGUgdW5zdWJzY3JpYmUgZnVuY3Rpb24gZm9yIHRoZSBvYnNlcnZlci5cclxuICAgICAqL1xyXG4gICAgV2luZG93Q29udHJvbGxlci5wcm90b3R5cGUub25NZXNzYWdlID0gZnVuY3Rpb24gKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGVkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuZXh0T3JPYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vbk1lc3NhZ2VJbnRlcm5hbChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vbk1lc3NhZ2VJbnRlcm5hbChuZXh0T3JPYnNlcnZlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIG5leHRPck9ic2VydmVyIEFuIG9ic2VydmVyIG9iamVjdCBvciBhIGZ1bmN0aW9uIHRyaWdnZXJlZCBvbiB0b2tlblxyXG4gICAgICogcmVmcmVzaC5cclxuICAgICAqIEBwYXJhbSBlcnJvciBBIGZ1bmN0aW9uIHRyaWdnZXJlZCBvbiB0b2tlbiByZWZyZXNoIGVycm9yLlxyXG4gICAgICogQHBhcmFtIGNvbXBsZXRlZCBmdW5jdGlvbiB0cmlnZ2VyZWQgd2hlbiB0aGUgb2JzZXJ2ZXIgaXMgcmVtb3ZlZC5cclxuICAgICAqIEByZXR1cm4gVGhlIHVuc3Vic2NyaWJlIGZ1bmN0aW9uIGZvciB0aGUgb2JzZXJ2ZXIuXHJcbiAgICAgKi9cclxuICAgIFdpbmRvd0NvbnRyb2xsZXIucHJvdG90eXBlLm9uVG9rZW5SZWZyZXNoID0gZnVuY3Rpb24gKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGVkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuZXh0T3JPYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vblRva2VuUmVmcmVzaEludGVybmFsKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9uVG9rZW5SZWZyZXNoSW50ZXJuYWwobmV4dE9yT2JzZXJ2ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVuIGEgcmVnaXN0cmF0aW9uLCB3YWl0IGZvciB0aGUgc2VydmljZSB3b3JrZXIgaXQgcmVsYXRlcyB0b1xyXG4gICAgICogYmVjb21lIGFjdGl2ZXJcclxuICAgICAqIEBwYXJhbSByZWdpc3RyYXRpb24gUmVnaXN0cmF0aW9uIHRvIHdhaXQgZm9yIHNlcnZpY2Ugd29ya2VyIHRvIGJlY29tZSBhY3RpdmVcclxuICAgICAqIEByZXR1cm4gV2FpdCBmb3Igc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIHRvIGJlY29tZSBhY3RpdmVcclxuICAgICAqL1xyXG4gICAgLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gICAgLy8gVE9ETzogTWFrZSBwcml2YXRlXHJcbiAgICBXaW5kb3dDb250cm9sbGVyLnByb3RvdHlwZS53YWl0Rm9yUmVnaXN0cmF0aW9uVG9BY3RpdmF0ZV8gPSBmdW5jdGlvbiAocmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgICAgdmFyIHNlcnZpY2VXb3JrZXIgPSByZWdpc3RyYXRpb24uaW5zdGFsbGluZyB8fCByZWdpc3RyYXRpb24ud2FpdGluZyB8fCByZWdpc3RyYXRpb24uYWN0aXZlO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmICghc2VydmljZVdvcmtlcikge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHJhcmUgc2NlbmFyaW8gYnV0IGhhcyBvY2N1cmVkIGluIGZpcmVmb3hcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLk5PX1NXX0lOX1JFRykpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhlIFByb21pc2UgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIG5leHQgdGljayB0aGVyZSBpcyBhXHJcbiAgICAgICAgICAgIC8vIHNtYWxsIGNoYW5jZSB0aGF0IHRoZSB3b3JrZXIgYmVjYW1lIGFjdGl2ZSBvciByZWR1bmRhbnQgYWxyZWFkeS5cclxuICAgICAgICAgICAgaWYgKHNlcnZpY2VXb3JrZXIuc3RhdGUgPT09ICdhY3RpdmF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlZ2lzdHJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNlcnZpY2VXb3JrZXIuc3RhdGUgPT09ICdyZWR1bmRhbnQnKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5TV19SRUdfUkVEVU5EQU5UKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHN0YXRlQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZVdvcmtlci5zdGF0ZSA9PT0gJ2FjdGl2YXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlZ2lzdHJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzZXJ2aWNlV29ya2VyLnN0YXRlID09PSAncmVkdW5kYW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvckZhY3RvcnkuY3JlYXRlKEVSUk9SX0NPREVTLlNXX1JFR19SRURVTkRBTlQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBlYXJseSBhbmQgd2FpdCB0byBuZXh0IHN0YXRlIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlcnZpY2VXb3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RhdGVjaGFuZ2UnLCBzdGF0ZUNoYW5nZUxpc3RlbmVyKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdzdGF0ZWNoYW5nZScsIHN0YXRlQ2hhbmdlTGlzdGVuZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyB3aWxsIHJlZ2lzdGVyIHRoZSBkZWZhdWx0IHNlcnZpY2Ugd29ya2VyIGFuZCByZXR1cm4gdGhlIHJlZ2lzdHJhdGlvblxyXG4gICAgICogQHJldHVybiBUaGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIHRvIGJlIHVzZWQgZm9yIHRoZSBwdXNoIHNlcnZpY2UuXHJcbiAgICAgKi9cclxuICAgIFdpbmRvd0NvbnRyb2xsZXIucHJvdG90eXBlLmdldFNXUmVnaXN0cmF0aW9uXyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnJlZ2lzdHJhdGlvblRvVXNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndhaXRGb3JSZWdpc3RyYXRpb25Ub0FjdGl2YXRlXyh0aGlzLnJlZ2lzdHJhdGlvblRvVXNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTWFrZSB0aGUgcmVnaXN0cmF0aW9uIG51bGwgc28gd2Uga25vdyB1c2VTZXJ2aWNlV29ya2VyIHdpbGwgbm90XHJcbiAgICAgICAgLy8gdXNlIGEgbmV3IHNlcnZpY2Ugd29ya2VyIGFzIHJlZ2lzdHJhdGlvblRvVXNlIGlzIG5vIGxvbmdlciB1bmRlZmluZWRcclxuICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvblRvVXNlID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXJcclxuICAgICAgICAgICAgLnJlZ2lzdGVyKERFRkFVTFRfU1dfUEFUSCwge1xyXG4gICAgICAgICAgICBzY29wZTogREVGQVVMVF9TV19TQ09QRVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuRkFJTEVEX0RFRkFVTFRfUkVHSVNUUkFUSU9OLCB7XHJcbiAgICAgICAgICAgICAgICBicm93c2VyRXJyb3JNZXNzYWdlOiBlcnIubWVzc2FnZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy53YWl0Rm9yUmVnaXN0cmF0aW9uVG9BY3RpdmF0ZV8ocmVnaXN0cmF0aW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlZ2lzdHJhdGlvblRvVXNlID0gcmVnaXN0cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgdXBkYXRlIGFmdGVyIGFjdGl2YXRpb24gZHVlIHRvIGFuIGlzc3VlIHdpdGggRmlyZWZveCB2NDkgd2hlcmVcclxuICAgICAgICAgICAgICAgIC8vIGEgcmFjZSBjb25kaXRpb24gb2NjYXNzaW9uYWxseSBjYXVzZXMgdGhlIHNlcnZpY2Ugd29yayB0byBub3RcclxuICAgICAgICAgICAgICAgIC8vIGluc3RhbGxcclxuICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWdpc3RyYXRpb247XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgZGVmYXVsdCBWQVBJRCBrZXkgb3IgdGhlIHVpbnQ4YXJyYXkgdmVyc2lvbiBvZiB0aGUgcHVibGljIFZBUElEIGtleVxyXG4gICAgICogcHJvdmlkZWQgYnkgdGhlIGRldmVsb3Blci5cclxuICAgICAqL1xyXG4gICAgV2luZG93Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0UHVibGljVmFwaWRLZXlfID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHVibGljVmFwaWRLZXlUb1VzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnB1YmxpY1ZhcGlkS2V5VG9Vc2VdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIERFRkFVTFRfUFVCTElDX1ZBUElEX0tFWV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBzZXQgdXAgYSBtZXNzYWdlIGxpc3RlbmVyIHRvIGhhbmRsZVxyXG4gICAgICogZXZlbnRzIGZyb20gdGhlIHNlcnZpY2Ugd29ya2VyIHRoYXQgc2hvdWxkIHRyaWdnZXJcclxuICAgICAqIGV2ZW50cyBpbiB0aGUgcGFnZS5cclxuICAgICAqL1xyXG4gICAgLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gICAgLy8gVE9ETzogTWFrZSBwcml2YXRlXHJcbiAgICBXaW5kb3dDb250cm9sbGVyLnByb3RvdHlwZS5zZXR1cFNXTWVzc2FnZUxpc3RlbmVyXyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCFldmVudC5kYXRhIHx8ICFldmVudC5kYXRhW01lc3NhZ2VQYXJhbWV0ZXIuVFlQRV9PRl9NU0ddKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOb3QgYSBtZXNzYWdlIGZyb20gRkNNXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHdvcmtlclBhZ2VNZXNzYWdlID0gZXZlbnQuZGF0YTtcclxuICAgICAgICAgICAgc3dpdGNoICh3b3JrZXJQYWdlTWVzc2FnZVtNZXNzYWdlUGFyYW1ldGVyLlRZUEVfT0ZfTVNHXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5QVVNIX01TR19SRUNFSVZFRDpcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuTk9USUZJQ0FUSU9OX0NMSUNLRUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB1c2hNZXNzYWdlID0gd29ya2VyUGFnZU1lc3NhZ2VbTWVzc2FnZVBhcmFtZXRlci5EQVRBXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMubWVzc2FnZU9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VPYnNlcnZlci5uZXh0KHB1c2hNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vb3AuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFdpbmRvd0NvbnRyb2xsZXI7XHJcbn0oQmFzZUNvbnRyb2xsZXIpKTtcclxuLyoqXHJcbiAqIFRoZSBtZXRob2QgY2hlY2tzIHRoYXQgYSBtYW5pZmVzdCBpcyBkZWZpbmVkIGFuZCBoYXMgdGhlIGNvcnJlY3QgR0NNXHJcbiAqIHNlbmRlciBJRC5cclxuICogQHJldHVybiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGlmIHRoZSBtYW5pZmVzdCBtYXRjaGVzXHJcbiAqIG91ciByZXF1aXJlZCBzZW5kZXIgSURcclxuICovXHJcbi8vIEV4cG9ydGVkIGZvciB0ZXN0aW5nXHJcbmZ1bmN0aW9uIG1hbmlmZXN0Q2hlY2soKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG1hbmlmZXN0VGFnLCBtYW5pZmVzdENvbnRlbnQsIHJlc3BvbnNlLCBlXzE7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgbWFuaWZlc3RUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD1cIm1hbmlmZXN0XCJdJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYW5pZmVzdFRhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDQsICwgNV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKG1hbmlmZXN0VGFnLmhyZWYpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS5qc29uKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIG1hbmlmZXN0Q29udGVudCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRvd25sb2FkIG9yIHBhcnNpbmcgZmFpbHMgYWxsb3cgY2hlY2suXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugb25seSB3YW50IHRvIGVycm9yIGlmIHdlIEtOT1cgdGhhdCB0aGUgZ2NtX3NlbmRlcl9pZCBpcyBpbmNvcnJlY3QuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbWFuaWZlc3RDb250ZW50IHx8ICFtYW5pZmVzdENvbnRlbnQuZ2NtX3NlbmRlcl9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYW5pZmVzdENvbnRlbnQuZ2NtX3NlbmRlcl9pZCAhPT0gJzEwMzk1MzgwMDUwNycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JGYWN0b3J5LmNyZWF0ZShFUlJPUl9DT0RFUy5JTkNPUlJFQ1RfR0NNX1NFTkRFUl9JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyTWVzc2FnaW5nKGluc3RhbmNlKSB7XHJcbiAgICB2YXIgbWVzc2FnaW5nTmFtZSA9ICdtZXNzYWdpbmcnO1xyXG4gICAgdmFyIGZhY3RvcnlNZXRob2QgPSBmdW5jdGlvbiAoYXBwKSB7XHJcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yRmFjdG9yeS5jcmVhdGUoRVJST1JfQ09ERVMuVU5TVVBQT1JURURfQlJPV1NFUik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWxmICYmICdTZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGUnIGluIHNlbGYpIHtcclxuICAgICAgICAgICAgLy8gUnVubmluZyBpbiBTZXJ2aWNlV29ya2VyIGNvbnRleHRcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTd0NvbnRyb2xsZXIoYXBwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEFzc3VtZSB3ZSBhcmUgaW4gdGhlIHdpbmRvdyBjb250ZXh0LlxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFdpbmRvd0NvbnRyb2xsZXIoYXBwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIG5hbWVzcGFjZUV4cG9ydHMgPSB7XHJcbiAgICAgICAgaXNTdXBwb3J0ZWQ6IGlzU3VwcG9ydGVkXHJcbiAgICB9O1xyXG4gICAgaW5zdGFuY2UuSU5URVJOQUwucmVnaXN0ZXJTZXJ2aWNlKG1lc3NhZ2luZ05hbWUsIGZhY3RvcnlNZXRob2QsIG5hbWVzcGFjZUV4cG9ydHMpO1xyXG59XHJcbnJlZ2lzdGVyTWVzc2FnaW5nKGZpcmViYXNlKTtcclxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XHJcbiAgICBpZiAoc2VsZiAmJiAnU2VydmljZVdvcmtlckdsb2JhbFNjb3BlJyBpbiBzZWxmKSB7XHJcbiAgICAgICAgLy8gUnVubmluZyBpbiBTZXJ2aWNlV29ya2VyIGNvbnRleHRcclxuICAgICAgICByZXR1cm4gaXNTV0NvbnRyb2xsZXJTdXBwb3J0ZWQoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIEFzc3VtZSB3ZSBhcmUgaW4gdGhlIHdpbmRvdyBjb250ZXh0LlxyXG4gICAgICAgIHJldHVybiBpc1dpbmRvd0NvbnRyb2xsZXJTdXBwb3J0ZWQoKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ2hlY2tzIHRvIHNlZSBpZiB0aGUgcmVxdWlyZWQgQVBJcyBleGlzdC5cclxuICovXHJcbmZ1bmN0aW9uIGlzV2luZG93Q29udHJvbGxlclN1cHBvcnRlZCgpIHtcclxuICAgIHJldHVybiAobmF2aWdhdG9yLmNvb2tpZUVuYWJsZWQgJiZcclxuICAgICAgICAnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yICYmXHJcbiAgICAgICAgJ1B1c2hNYW5hZ2VyJyBpbiB3aW5kb3cgJiZcclxuICAgICAgICAnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cgJiZcclxuICAgICAgICAnZmV0Y2gnIGluIHdpbmRvdyAmJlxyXG4gICAgICAgIFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdzaG93Tm90aWZpY2F0aW9uJykgJiZcclxuICAgICAgICBQdXNoU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnZ2V0S2V5JykpO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVja3MgdG8gc2VlIGlmIHRoZSByZXF1aXJlZCBBUElzIGV4aXN0IHdpdGhpbiBTVyBDb250ZXh0LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNTV0NvbnRyb2xsZXJTdXBwb3J0ZWQoKSB7XHJcbiAgICByZXR1cm4gKCdQdXNoTWFuYWdlcicgaW4gc2VsZiAmJlxyXG4gICAgICAgICdOb3RpZmljYXRpb24nIGluIHNlbGYgJiZcclxuICAgICAgICBTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnc2hvd05vdGlmaWNhdGlvbicpICYmXHJcbiAgICAgICAgUHVzaFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ2dldEtleScpKTtcclxufVxuXG5leHBvcnQgeyByZWdpc3Rlck1lc3NhZ2luZywgaXNTdXBwb3J0ZWQgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=